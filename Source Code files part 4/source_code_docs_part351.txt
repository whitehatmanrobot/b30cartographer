   <!-- Action -->
                <Action Name="Double" Weight="5">
                    <Requires>
                        <LongTask/>          
                    </Requires>

                    <Write msg="'\nDouble'"/>
                    $a *= 2
                    <Write format="'a = {0}'"> $a </Write>
                    <LongTask/>
                    $a
                </Action>

            </Model>
        </Async>

        <Write msg="'Waiting for Model to be defined'" />
        <Get-AsyncResult async="$async"/>
        <Write msg="'Model definition completed!!'" />

        <!-- Now run the model async -->
        <Async var="async">
            <Model-Run maxSteps="6"/>
        </Async>

        <Write msg="'Waiting for Model to complete running'" />
        <Get-AsyncResult var="result" async="$async"/>
        <Write msg="'Model run completed!!'" />
        
        <Write msg="'Result = ' + $result"/>
        <Assert exp="$result == $m['a']"/>


        <!-- Reset the model async -->
        <Async var="async">
            <Model-Reset/>
        </Async>

        <Write msg="'Waiting for Model to reset'" />
        <Get-AsyncResult async="$async"/>
        <Write msg="'Model reset completed!!'" />
        
        <Assert exp="$m['a'] == 10"/>

        <!-- Now run the model async again -->
        <Async var="async">
            <Model-Run maxSteps="3"/>
        </Async>

        <Write msg="'Waiting for Model to complete running'" />
        <Get-AsyncResult var="result" async="$async"/>
        <Write msg="'Model run completed!!'" />
        
        <Write msg="'Result = ' + $result"/>
        <Assert exp="$result == $m['a']"/>
    </TestCase>

    <!-- Testcase -->
    <TestCase name="SimpleParallelTest">
        <Parallel var="p">
            <Sleep Sec="2"/>
            10
        </Parallel>

        <Write msg="'Waiting for parallel operation to complete...'"/>
        <Get-AsyncResult var="result" async="$p"/>
        <Write msg="'Parallel operation completed!'"/>    

        <Assert exp="$result == 10"/>
    </TestCase>

    <!-- Testcase -->
    <TestCase name="ParallelAsyncTest">
        <Parallel var="p">

            <Define i="0" x="0"/>   
            <While>
                <Begin>
                    <LongTask/>
                    $i lt 10
                </Begin>

                $i++

                <LongTask var="val"/>
                $x += $val
            </While>       
            
        </Parallel>

        <Write msg="'Waiting for parallel operation to complete...'"/>
        <Get-AsyncResult var="result" async="$p"/>
        <Write msg="'Parallel operation completed!'"/>    

        <Write msg="'Result = ' + $result"/>
        <Assert exp="$result == 1000 * 10"/>
    </TestCase>

</TestSuite>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Automation\BDService\BDService.xml ===
ï»¿<?xml version="1.0" encoding="utf-8"?>
<BuildDetectorService>
    <DataSource Server="XLFInfrTLS001" Database="DeploymentDB" />
    <Jobs>
        <!--
            Job Name:       XOnline_R2 build staging job
            Schedule:       Every quarter-hour
            Environment:    HyperNet
            Type:           Staging - Full build
            
            Stages all new builds from the XOnline R2 branch into HyperNet.
        -->
        <Job Name="Stage Latest Build to HyperNet" Type="Other" Environment="HyperNet" Build="XOnline_R2" Priority="High" Enabled="true">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="00:30:00">
                <Trigger FileSpec="##BuildPath##\latest.tst\09.02.????.??" />
            </Schedule>
            <Report ToList="HyperAdm" Condition="IfFailing" XsltName="DeploymentResults.xslt" />
            <Task Name="Delete old build files" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Delete" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##" />
                </Parameters>
            </Task>
            <Task Name="Copy build files to stager" Module="StageFilesTaskModule" Type="Local">
                <Parameters>
                    <SourceLocation Path="##BuildPath##\##BuildVersion##" />
                    <DestLocation Path="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##" UserName="##EnvUserName##" PasswordEncrypted="##LocalPasswordEncrypted##" Password="##LocalPassword##" />
                    <Version OldVersion="??.??.????.??" NewVersion="##BuildVersion##" />
                    <StageDir Path="merged-retail" Recurse="true" Force="true" />
                    <StageDir Path="retail\test\stftests" Recurse="true" Force="true" />
                    <StageDir Path="retail64\test\stftests\suites" TargetPath="retail\test\stftests\suites64" Recurse="true" Force="true" />
                    <StageDir Path="retail\test\deployment\titleproppro" Recurse="true" Force="true" />
                    <StageFile Path="logs" FileSpec="changes.txt" CreateDestPath="false" Force="true" />
                </Parameters>
            </Task>
        </Job>

        <!--
            Job Name:       XOnline_R1 build staging job
            Schedule:       Every quarter-hour starting at 00:30
            Environment:    HyperNet
            Type:           Staging - Full build
            
            Stages all new builds from the XOnline R1 branch into HyperNet.
        -->
        <Job Name="Stage Latest Build to HyperNet" Type="Other" Environment="HyperNet" Build="XOnline_R1" Priority="High" Enabled="true">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="00:30:00">
                <Trigger FileSpec="##BuildPath##\latest.tst\10.??.????.??" />
            </Schedule>
            <Report ToList="HyperAdm" Condition="IfFailing" XsltName="DeploymentResults.xslt" />
            <Task Name="Delete old build files" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Delete" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##" />
                </Parameters>
            </Task>
            <Task Name="Copy build files to stager" Module="StageFilesTaskModule" Type="Local">
                <Parameters>
                    <SourceLocation Path="##BuildPath##\##BuildVersion##" />
                    <DestLocation Path="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##" UserName="##EnvUserName##" PasswordEncrypted="##LocalPasswordEncrypted##" Password="##LocalPassword##" />
                    <Version OldVersion="??.??.????.??" NewVersion="##BuildVersion##" />
                    <StageDir Path="retail\msi\esp" Recurse="true" Force="true" />
                    <StageDir Path="retail64\msi\esp" Recurse="true" Force="true" />
                    <StageDir Path="merged-retail" Recurse="true" Force="true" />
                    <StageDir Path="retail\test\stftests" Recurse="true" Force="true" />
                    <StageDir Path="retail64\test\stftests\suites" TargetPath="retail\test\stftests\suites64" Recurse="true" Force="true" />
                    <StageDir Path="retail\test\deployment\titleproppro" Recurse="true" Force="true" />
                    <StageFile Path="logs" FileSpec="changes.txt" CreateDestPath="false" Force="true" />
                </Parameters>
            </Task>
        </Job>

        <!--
            Job Name:       Stage Latest XSR to HyperNet
            Schedule:       Every quarter-hour starting at 00:30
            Environment:    HyperNet
            Type:           Staging - XSR build
            
            Stages all new XSR builds from the XOnline Main branch into HyperNet.
        -->
        <Job Name="Stage Latest XSR to HyperNet" Type="Other" Environment="HyperNet" Build="XOnline_Main" Priority="High" Enabled="true">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="00:30:00">
                <Trigger FileSpec="##BuildPath##\latest.tst\10.??.????.??.QFE" />
            </Schedule>
            <Report ToList="HyperAdm" Condition="IfFailing" XsltName="DeploymentResults.xslt" />
            <Task Name="Delete old XSR build files" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Delete" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##.XSR" />
                </Parameters>
            </Task>
            <Task Name="Copy XSR build files to stager" Module="StageFilesTaskModule" Type="Local">
                <Parameters>
                    <SourceLocation Path="##BuildPath##\##BuildVersion##\QFE" />
                    <DestLocation Path="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##.XSR" UserName="##EnvUserName##" PasswordEncrypted="##LocalPasswordEncrypted##" Password="##LocalPassword##" />
                    <Version OldVersion="??.??.????.??" NewVersion="##BuildVersion##" />
                    <StageDir Path="." Recurse="true" Force="false" />
                    <StageFile Path="." FileSpec="*.txt" CreateDestPath="false" Force="true" />
                </Parameters>
            </Task>
            <Task Name="Copy Test files to stager" Module="StageFilesTaskModule" Type="Local">
                <Parameters>
                    <SourceLocation Path="##BuildPath##\##BuildVersion##" />
                    <DestLocation Path="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##.XSR" UserName="##EnvUserName##" PasswordEncrypted="##LocalPasswordEncrypted##" Password="##LocalPassword##" />
                    <StageDir Path="retail\test\deployment\TitlePropPro" />
                    <StageDir Path="retail\test\stftests" Recurse="true" Force="true" />
                    <StageDir Path="retail64\test\stftests\suites" TargetPath="retail\test\stftests\suites64" Recurse="true" Force="true" />
                </Parameters>
            </Task>
        </Job>

        <!--
            Job Name:       Stage Latest Build to HyperNet
            Schedule:       Every quarter-hour starting at 00:30
            Environment:    HyperNet
            Type:           Staging - Full build
            
            Stages all new builds from the XOnline Main branch into HyperNet.
        -->
        <Job Name="Stage Latest Build to HyperNet" Type="Other" Environment="HyperNet" Build="XOnline_Main" Priority="High" Enabled="true">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="00:30:00">
                <Trigger FileSpec="##BuildPath##\latest.tst\10.??.????.??" />
            </Schedule>
            <Report ToList="HyperAdm" Condition="IfFailing" XsltName="DeploymentResults.xslt" />
            <Task Name="Delete old build files" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Delete" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##" />
                </Parameters>
            </Task>
            <Task Name="Copy build files to stager" Module="StageFilesTaskModule" Type="Local">
                <Parameters>
                    <SourceLocation Path="##BuildPath##\##BuildVersion##" />
                    <DestLocation Path="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##" UserName="##EnvUserName##" PasswordEncrypted="##LocalPasswordEncrypted##" Password="##LocalPassword##" />
                    <Version OldVersion="??.??.????.??" NewVersion="##BuildVersion##" />
                    <StageDir Path="retail\msi\esp" Recurse="true" Force="true" />
                    <StageDir Path="retail64\msi\esp" Recurse="true" Force="true" />
                    <StageDir Path="merged-retail" Recurse="true" Force="true" />
                    <StageDir Path="retail\test\stftests" Recurse="true" Force="true" />
                    <StageDir Path="retail64\test\stftests\suites" TargetPath="retail\test\stftests\suites64" Recurse="true" Force="true" />
                    <StageDir Path="retail\test\deployment\titleproppro" Recurse="true" Force="true" />
                    <StageFile Path="logs" FileSpec="changes.txt" CreateDestPath="false" Force="true" />
                </Parameters>
            </Task>
        </Job>

        <!--
              Job Name:       Stage Latest Code Coverage Build to HyperNet
              Schedule:       Every quarter-hour starting at 01:30
              Environment:    HyperNet
              Type:           Staging - Code Coverage build
              
              Stages recent LKG build but includes the Code Coverage enabled services instead.
          -->
        <Job Name="Stage Latest Code Coverage Build to HyperNet" Type="Other" Environment="HyperNet" Build="XOnline_R2" Priority="High" Enabled="false">
          <Schedule Rate="QuarterHourly" Frequency="1" StartTime="01:30:00">
            <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\LastKnownGood\##BuildName##\Expanded\09.02.????.??" IsRemote="true" TriggerUse="NameOnly" />
          </Schedule>
          <Report ToList="ryanward" Condition="IfFailing" XsltName="DeploymentResults.xslt" />
          <Task Name="Delete old build files" Module="FileTaskModule" Type="Remote">
            <Parameters>
              <FileCommand Action="Delete" Recurse="true" Force="true" />
              <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##.cov" />
            </Parameters>
          </Task>
          <Task Name="Copy build files to stager" Module="StageFilesTaskModule" Type="Local">
            <Parameters>
              <SourceLocation Path="##BuildPath##\##BuildVersion##" />
              <DestLocation Path="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##.cov" UserName="##EnvUserName##" PasswordEncrypted="##LocalPasswordEncrypted##" Password="##LocalPassword##" />
              <Version OldVersion="??.??.????.??" NewVersion="##BuildVersion##" />
              <StageDir Path="merged-retail.cov" Recurse="true" Force="true" />
              <StageDir Path="retail.cov\covsym" Recurse="true" Force="true" />
              <StageDir Path="retail\test\stftests" Recurse="true" Force="true" />
              <StageDir Path="retail64.cov\covsym" Recurse="true" Force="true" />
              <StageDir Path="retail64\test\stftests\suites" TargetPath="retail\test\stftests\suites64" Recurse="true" Force="true" />
              <StageDir Path="retail\test\deployment\titleproppro" Recurse="true" Force="true" />
              <StageFile Path="logs" FileSpec="changes.txt" CreateDestPath="false" Force="true" />
            </Parameters>
          </Task>
        </Job>

        <!--
            Job Name:       Stage Latest XSR to HyperNet
            Schedule:       Every quarter-hour starting at 00:30
            Environment:    HyperNet
            Type:           Staging - XSR build
            
            Stages all new XSR builds from the XOnline Production_QFE branch into HyperNet.
        -->
        <Job Name="Stage Latest XSR to HyperNet" Type="Other" Environment="HyperNet" Build="Production_QFE" Priority="High" Enabled="true">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="00:30:00">
                <Trigger FileSpec="##BuildPath##\latest.tst\10.??.????.??.QFE" />
            </Schedule>
            <Report ToList="HyperAdm" Condition="IfFailing" XsltName="DeploymentResults.xslt" />
            <Task Name="Delete old XSR build files" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Delete" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##.XSR" />
                </Parameters>
            </Task>
            <Task Name="Copy XSR build files to stager" Module="StageFilesTaskModule" Type="Local">
                <Parameters>
                    <SourceLocation Path="##BuildPath##\##BuildVersion##\QFE" />
                    <DestLocation Path="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##.XSR" UserName="##EnvUserName##" PasswordEncrypted="##LocalPasswordEncrypted##" Password="##LocalPassword##" />
                    <Version OldVersion="??.??.????.??" NewVersion="##BuildVersion##" />
                    <StageDir Path="." Recurse="true" Force="false" />
                    <StageFile Path="." FileSpec="*.txt" CreateDestPath="false" Force="true" />
                </Parameters>
            </Task>
            <Task Name="Copy Test files to stager" Module="StageFilesTaskModule" Type="Local">
                <Parameters>
                    <SourceLocation Path="##BuildPath##\##BuildVersion##" />
                    <DestLocation Path="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##.XSR" UserName="##EnvUserName##" PasswordEncrypted="##LocalPasswordEncrypted##" Password="##LocalPassword##" />
                    <StageDir Path="retail\test\deployment\TitlePropPro" />
                    <StageDir Path="retail\test\stftests" Recurse="true" Force="true" />
                    <StageDir Path="retail64\test\stftests\suites" TargetPath="retail\test\stftests\suites64" Recurse="true" Force="true" />
                </Parameters>
            </Task>
        </Job>

        <!--
            Job Name:       Stage Titles to HyperNet
            Schedule:       Every hour starting at 00:00
            Environment:    HyperNet
            Type:           Staging - Titles
            
            Stages the Titles branch to the deployment server in HyperNet.
        -->
        <Job Name="Stage Titles to HyperNet" Type="Other" Environment="HyperNet" Build="Titles" Priority="Medium" Enabled="true">
            <Schedule Rate="Hourly" Frequency="1" StartTime="00:00:00">
                <Trigger FileSpec="##BuildPath##\latest.tst\????" />
            </Schedule>
            <Report ToList="HyperAdm" Condition="IfFailing" XsltName="DeploymentResults.xslt" />
            <Task Name="Copy title source files to stager" Module="StageFilesTaskModule" Type="Local">
                <Parameters>
                    <SourceLocation Path="##BuildPath##\latest.tst" />
                    <DestLocation Path="\\##StagerName##\##StagerTitleShare##" UserName="##EnvUserName##" PasswordEncrypted="##LocalPasswordEncrypted##" Password="##LocalPassword##" />
                    <Version OldVersion="????" NewVersion="##BuildVersion##" />
                    <StageDir Path="src\private\titlevault\testtitles" TargetPath="testtitles" Recurse="true" Force="false" />
                </Parameters>
            </Task>
        </Job>




        <!--
            Job Name:       XOnline R2 Expanded LKG Testing
            Schedule:       Every quarter-hour between 01:00 and 17:00
            Environment:    BVTNet
            Type:           LKG - Full deployment
            
            Daily Last Known Good expanded deployment verification job for the R2 branch.
        -->
        <Job Name="XOnline R2 Expanded LKG Testing" Type="LKGTesting" Environment="BVTNet" Build="XOnline_R2" Priority="High" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="17:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##\??.??.????.??" IsRemote="true"/>
            </Schedule>
            <Report ToList="xbldm" XsltName="DeploymentResults.xslt">
                <JobHistory MaxDays="30" MaxJobs="40" />
            </Report>

            <TaskGroup Name="Stage Build" Rollup="true" Condition="Always">
                <Task Name="Delete old BVTNet build files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy Latest build to the BVTNet folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Pre-Deployment Tasks" Condition="IfPassing" Rollup="false">
                <Task Name="Remove access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Remove" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
                <Task Name="Restore base snapshots" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                        <ApplySnapshot SnapshotNameSpec="Ready for Deployment%" />
                    </Parameters>
                </Task>
                <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>HxHyperC1B2</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##Environment## Billing One Box" />
                        <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Ensure DAService has started" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="172.19.144.56" />
                    <Parameter Name="Services" Value="DAService" />
                    <Parameter Name="UserName" Value="VM1BoxDom\Administrator" />
                    <Parameter Name="Password" Value="#Bugsfor$" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Fix up the Temporal Partition on the Billing 1-box" Module="CommandLineTaskModule" Type="Remote">
                    <Parameters>
                        <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="true" CaptureOutput="false" />
                        <RunAt Server="172.19.144.56" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                    </Parameters>
                </Task>
                <Task Name="Update the GeoFencing data file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                        <SourceLocation Path="G:\Stage\GeoFencing" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\Webroot\Geo\Data" />
                    </Parameters>
                </Task>
                <Task Name="Start the Geo Segmentation Service" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                    <Parameter Name="Services" Value="Geo Segmentation Service 2.2" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='LogRootDir']" Attribute="value" NewValue="E:\Logroot" />
                    </Parameters>
                </Task>
                <Task Name="Install Xbox LIVE Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Environment Configuration" Rollup="true" Condition="IfPassing">
                <!-- Deploy the LiveSignup app to the PoolIIS server -->
                <Task Name="Deploy LiveSignup" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\Stage\LiveSignup" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\webroot\xtou\xedl\LiveSignup" />
                    </Parameters>
                </Task>

                <!-- Update virtual interface IPs -->
                <Task Name="Add the fastEspMarketplaceSearch virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'fastEspMarketplaceSearch','##EnvPoolIISIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the FECatalogDBZune virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_ips set vc_ip='172.19.144.75' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='fecatalogdbzune'</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_A virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_A','172.19.144.75',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_B virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_B','172.19.144.75',1</Query>
                    </Parameters>
                </Task>

                <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
                <Task Name="Update the ContentDownload port to 3074" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>

                <!-- Update environment-specific settings overrides -->
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testContentType','4edb3445-d489-4f3f-9760-55f1a85dfe3a','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings user PUID" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testUserPuid','985160330844665','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type mappings" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false"><![CDATA[exec p_config_add_setting_override 'ratings_contenttype_mapping','<root><contentTypeMapping mediatype="1" contentTypeId="596d1667-572a-4611-9f87-a5d3edf45b36"/><contentTypeMapping mediatype="18" contentTypeId="faa29126-f880-444a-b951-01a4a8dce301"/><contentTypeMapping mediatype="19" contentTypeId="d180a26c-a2a4-4d7b-9094-3a12725447b5"/><contentTypeMapping mediatype="20" contentTypeId="3fe2a114-98c8-4881-bc7a-aaf16c2cab9c"/><contentTypeMapping mediatype="21" contentTypeId="3d6ada32-2733-4d41-b67c-e325f643c25f"/><contentTypeMapping mediatype="22" contentTypeId="7a1e9a32-4828-4180-9127-72e06435b553"/><contentTypeMapping mediatype="23" contentTypeId="d7da7178-06f4-4728-959c-d5ce6bf6f5a1"/><contentTypeMapping mediatype="30" contentTypeId="e9c2dbae-022f-49d2-816e-dc1604ed8aca"/><contentTypeMapping mediatype="34" contentTypeId="0ea3aa76-ae84-48cb-b9fc-32901f0191ae"/><contentTypeMapping mediatype="37" contentTypeId="c01942e6-de53-4eb6-92a4-7316a47a4c57"/><contentTypeMapping mediatype="47" contentTypeId="d0d510b6-43fa-4bcf-98e9-1c354f68fbbc"/></root>','##Environment##','ALL',-1,'ALL',1]]></Query>
                    </Parameters>
                </Task>
                <Task Name="Override the XCBK certificate name" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xcbk_sslCertSubject','##EnvPoolIISIp##','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download URL" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_overrides set vc_info1='##EnvINHInternetIp##' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='download'</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download Content Directory location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'download_contentDirectory','F:\contentDownload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for game offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_offerGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for video offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_videoGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable the DebugResult setting for XArb" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xarb_EnableDebugResult','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the WCToolsMgmtUpload location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'wctoolsmgmt_uploadPathRoot','\\##EnvSecuINH##\toolsmgmtupload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>

                <!-- Update environment-specific LiveHive settings -->
                <Task Name="Update the AvatarPictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarPictureUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarAssetUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarAssetUriRoot','http://##EnvINHInternetIp##:3074/content'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the UpdateUriRoot1 LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','UpdateUriRoot1','http://##EnvINHInternetIp##:3074/content'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the StoragePictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','StoragePictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixAvatarConfigPath LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixAvatarConfigPath','/shaXam/0403/03/b0/03b03926-3388-4a1f-a7f6-6439bc13501c.txt'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixPreviewUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixPreviewUriRoot','http://xshwlab01.redmond.corp.microsoft.com'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixUriRoot','http://10.193.109.102:51109'</Query>
                    </Parameters>
                </Task>

                <!-- Ensure all NT Services are started and reset all IIS AppPools -->
                <Task Name="Ensure services on the PoolINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,PresenceCache,ProfileCache,NotificationCache" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Ensure services on the SecuINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Restart" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="Services" Value="XDS,XKDC,xmgmt,SGSVC" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Reset app pools on the PoolIIS server" Module="IISTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="StartStoppedPools" Value="true" />
                    <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                    <Parameter Name="AppPools" Value="All" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Prop Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Update TPP logs location" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro\TPPSettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitleProp" />
                    </Parameters>
                </Task>
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\d$\WebRoot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="2" />
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" ErrorsAreFatal="false" />
                        <RunAt Server="##EnvInfrTLS##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##">
                            <ExcludeComponent Name="wcdebugtest" />
                            <ExcludeComponent Name="cron" />
                        </HealthCheckList>
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" RequestTimeout="60" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Red">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CatalogWatcherPlugin" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Could not resolve Contentdistributor</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="marketplacecatalog" HealthStatus="Yellow">
                                <HealthBlockException Name="MarketplaceCatalogHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Failed to fetch Search View</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="lbsvr" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Leaderboard server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarb" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarbinh" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server: Session Buckets' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Add the BVTNet NPDB location to the STF.xml file" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Point LiveLib to BVTNet" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                    </Parameters>
                </Task>
                <Task Name="Run the LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT\LiveLKG.xml"/>
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create final snapshots" Rollup="false" Condition="Always">
                <Task Name="Create succeeded snapshots" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - LKG Testing Passed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Create failed snapshots" Module="VMTaskModule" Type="Local" Condition="IfFailing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - LKG Testing Failed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Give all users access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfFailing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Add" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Raise build to LKG" Condition="IfPassing" Rollup="false">
                <Task Name="Delete old LKG files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\Expanded" />
                    </Parameters>
                </Task>
                <Task Name="Copy build to LKG folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                        <DestLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\Expanded" />
                    </Parameters>
                </Task>
                <Task Name="Create Trigger file for the Uninstall testing job" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Create" FileSpec="LastGoodDeployment.txt" Force="true">
                            <FileContents>##BuildVersion##</FileContents>
                        </FileCommand>
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull Marketplace test data logs from the MstrSQL server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                    </Parameters>
                </Task>
                <Task Name="Copy the changes.txt file to the log folder" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="changes.txt" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>
        </Job>

        <!--
            Job Name:       XOnline Main Expanded LKG Testing
            Schedule:       Every quarter-hour between 01:00 and 17:00
            Environment:    BVTNet
            Type:           LKG - Full deployment
            
            Daily Last Known Good expanded deployment verification job for the Main branch.
        -->
        <Job Name="XOnline Main Expanded LKG Testing" Type="LKGTesting" Environment="BVTNet" Build="XOnline_Main" Priority="High" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="17:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##\??.??.????.??" IsRemote="true"/>
            </Schedule>
            <Report ToList="xbldm" XsltName="DeploymentResults.xslt">
                <JobHistory MaxDays="30" MaxJobs="40" />
            </Report>

            <TaskGroup Name="Stage Build" Rollup="true" Condition="Always">
                <Task Name="Delete old BVTNet build files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy Latest build to the BVTNet folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Pre-Deployment Tasks" Condition="IfPassing" Rollup="false">
                <Task Name="Remove access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Remove" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
                <Task Name="Restore base snapshots" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                        <ApplySnapshot SnapshotNameSpec="Ready for Deployment%" />
                    </Parameters>
                </Task>
                <Task Name="Update the GeoFencing data file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                        <SourceLocation Path="G:\Stage\GeoFencing" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\Webroot\Geo\Data" />
                    </Parameters>
                </Task>
                <Task Name="Start the Geo Segmentation Service" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                    <Parameter Name="Services" Value="Geo Segmentation Service 2.2" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='LogRootDir']" Attribute="value" NewValue="E:\Logroot" />
                    </Parameters>
                </Task>
                <Task Name="Install Xbox LIVE Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Environment Configuration" Rollup="true" Condition="IfPassing">
                <!-- Deploy the LiveSignup app to the PoolIIS server -->
                <Task Name="Deploy LiveSignup" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\Stage\LiveSignup" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\webroot\xtou\xedl\LiveSignup" />
                    </Parameters>
                </Task>

                <!-- Update virtual interface IPs -->
                <Task Name="Add the fastEspMarketplaceSearch virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'fastEspMarketplaceSearch','##EnvPoolIISIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the FECatalogDBZune virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_ips set vc_ip='172.19.144.75' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='fecatalogdbzune'</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_A virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_A','172.19.144.75',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_B virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_B','172.19.144.75',1</Query>
                    </Parameters>
                </Task>

                <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
                <Task Name="Update the ContentDownload port to 3074" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>

                <!-- Update environment-specific settings overrides -->
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testContentType','4edb3445-d489-4f3f-9760-55f1a85dfe3a','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings user PUID" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testUserPuid','985160330844665','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type mappings" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false"><![CDATA[exec p_config_add_setting_override 'ratings_contenttype_mapping','<root><contentTypeMapping mediatype="1" contentTypeId="596d1667-572a-4611-9f87-a5d3edf45b36"/><contentTypeMapping mediatype="18" contentTypeId="faa29126-f880-444a-b951-01a4a8dce301"/><contentTypeMapping mediatype="19" contentTypeId="d180a26c-a2a4-4d7b-9094-3a12725447b5"/><contentTypeMapping mediatype="20" contentTypeId="3fe2a114-98c8-4881-bc7a-aaf16c2cab9c"/><contentTypeMapping mediatype="21" contentTypeId="3d6ada32-2733-4d41-b67c-e325f643c25f"/><contentTypeMapping mediatype="22" contentTypeId="7a1e9a32-4828-4180-9127-72e06435b553"/><contentTypeMapping mediatype="23" contentTypeId="d7da7178-06f4-4728-959c-d5ce6bf6f5a1"/><contentTypeMapping mediatype="30" contentTypeId="e9c2dbae-022f-49d2-816e-dc1604ed8aca"/><contentTypeMapping mediatype="34" contentTypeId="0ea3aa76-ae84-48cb-b9fc-32901f0191ae"/><contentTypeMapping mediatype="37" contentTypeId="c01942e6-de53-4eb6-92a4-7316a47a4c57"/><contentTypeMapping mediatype="47" contentTypeId="d0d510b6-43fa-4bcf-98e9-1c354f68fbbc"/></root>','##Environment##','ALL',-1,'ALL',1]]></Query>
                    </Parameters>
                </Task>
                <Task Name="Override the XCBK certificate name" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xcbk_sslCertSubject','##EnvPoolIISIp##','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download URL" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_overrides set vc_info1='##EnvINHInternetIp##' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='download'</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download Content Directory location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'download_contentDirectory','F:\contentDownload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for game offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_offerGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for video offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_videoGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable the DebugResult setting for XArb" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xarb_EnableDebugResult','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the WCToolsMgmtUpload location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'wctoolsmgmt_uploadPathRoot','\\##EnvSecuINH##\toolsmgmtupload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>

                <!-- Update environment-specific LiveHive settings -->
                <Task Name="Update the AvatarPictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarPictureUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarAssetUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarAssetUriRoot','http://##EnvINHInternetIp##:3074/content'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the StoragePictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','StoragePictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixAvatarConfigPath LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixAvatarConfigPath','/shaXam/0403/03/b0/03b03926-3388-4a1f-a7f6-6439bc13501c.txt'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixPreviewUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixPreviewUriRoot','http://xshwlab01.redmond.corp.microsoft.com'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixUriRoot','http://10.193.109.102:51109'</Query>
                    </Parameters>
                </Task>

                <!-- Ensure all NT Services are started and reset all IIS AppPools -->
                <Task Name="Ensure services on the PoolINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,PresenceCache,ProfileCache,NotificationCache" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Ensure services on the SecuINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Restart" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="Services" Value="XDS,XKDC,xmgmt,SGSVC" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Reset app pools on the PoolIIS server" Module="IISTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="StartStoppedPools" Value="true" />
                    <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                    <Parameter Name="AppPools" Value="All" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Prop Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Update TPP logs location" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro\TPPSettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitleProp" />
                    </Parameters>
                </Task>
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\d$\WebRoot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="2" />
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" ErrorsAreFatal="false" />
                        <RunAt Server="##EnvInfrTLS##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##">
                            <ExcludeComponent Name="wcdebugtest" />
                            <ExcludeComponent Name="cron" />
                        </HealthCheckList>
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Red">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CatalogWatcherPlugin" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Could not resolve Contentdistributor</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="marketplacecatalog" HealthStatus="Yellow">
                                <HealthBlockException Name="MarketplaceCatalogHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Failed to fetch Search View</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="lbsvr" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Leaderboard server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarb" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarbinh" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server: Session Buckets' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Add the BVTNet NPDB location to the STF.xml file" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Point LiveLib to BVTNet" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                    </Parameters>
                </Task>
                <Task Name="Run the LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT\LiveLKG.xml"/>
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create final snapshots" Rollup="false" Condition="Always">
                <Task Name="Create succeeded snapshots" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - LKG Testing Passed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Create failed snapshots" Module="VMTaskModule" Type="Local" Condition="IfFailing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - LKG Testing Failed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Give all users access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfFailing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Add" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Raise build to LKG" Condition="IfPassing" Rollup="false">
                <Task Name="Delete old LKG files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\Expanded" />
                    </Parameters>
                </Task>
                <Task Name="Copy build to LKG folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                        <DestLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\Expanded" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull Marketplace test data logs from the MstrSQL server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                    </Parameters>
                </Task>
                <Task Name="Copy the changes.txt file to the log folder" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="changes.txt" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>
        </Job>

        <!--
            Job Name:       XOnline R1 Expanded LKG Testing
            Schedule:       Every quarter-hour between 01:00 and 17:00
            Environment:    BVTNet
            Type:           LKG - Full deployment
            
            Daily Last Known Good expanded deployment verification job for the R1 branch.
        -->
        <Job Name="XOnline R1 Expanded LKG Testing" Type="LKGTesting" Environment="BVTNet" Build="XOnline_R1" Priority="High" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="17:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##\??.??.????.??" IsRemote="true"/>
            </Schedule>
            <Report ToList="xbldm" XsltName="DeploymentResults.xslt">
                <JobHistory MaxDays="30" MaxJobs="40" />
            </Report>

            <TaskGroup Name="Stage Build" Rollup="true" Condition="Always">
                <Task Name="Delete old BVTNet build files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy Latest build to the BVTNet folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Pre-Deployment Tasks" Condition="IfPassing" Rollup="false">
                <Task Name="Remove access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Remove" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
                <Task Name="Restore base snapshots" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                        <ApplySnapshot SnapshotNameSpec="Ready for Deployment%" />
                    </Parameters>
                </Task>
                <Task Name="Update the GeoFencing data file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                        <SourceLocation Path="G:\Stage\GeoFencing" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\Webroot\Geo\Data" />
                    </Parameters>
                </Task>
                <Task Name="Start the Geo Segmentation Service" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                    <Parameter Name="Services" Value="Geo Segmentation Service 2.2" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='LogRootDir']" Attribute="value" NewValue="E:\Logroot" />
                    </Parameters>
                </Task>
                <Task Name="Install Xbox LIVE Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Environment Configuration" Rollup="true" Condition="IfPassing">
                <!-- Deploy the LiveSignup app to the PoolIIS server -->
                <Task Name="Deploy LiveSignup" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\Stage\LiveSignup" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\webroot\xtou\xedl\LiveSignup" />
                    </Parameters>
                </Task>

                <!-- Update virtual interface IPs -->
                <Task Name="Add the fastEspMarketplaceSearch virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'fastEspMarketplaceSearch','##EnvPoolIISIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the FECatalogDBZune virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_ips set vc_ip='172.19.144.75' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='fecatalogdbzune'</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_A virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_A','172.19.144.75',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_B virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_B','172.19.144.75',1</Query>
                    </Parameters>
                </Task>

                <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
                <Task Name="Update the ContentDownload port to 3074" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>

                <!-- Update environment-specific settings overrides -->
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testContentType','4edb3445-d489-4f3f-9760-55f1a85dfe3a','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings user PUID" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testUserPuid','985160330844665','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type mappings" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false"><![CDATA[exec p_config_add_setting_override 'ratings_contenttype_mapping','<root><contentTypeMapping mediatype="1" contentTypeId="596d1667-572a-4611-9f87-a5d3edf45b36"/><contentTypeMapping mediatype="18" contentTypeId="faa29126-f880-444a-b951-01a4a8dce301"/><contentTypeMapping mediatype="19" contentTypeId="d180a26c-a2a4-4d7b-9094-3a12725447b5"/><contentTypeMapping mediatype="20" contentTypeId="3fe2a114-98c8-4881-bc7a-aaf16c2cab9c"/><contentTypeMapping mediatype="21" contentTypeId="3d6ada32-2733-4d41-b67c-e325f643c25f"/><contentTypeMapping mediatype="22" contentTypeId="7a1e9a32-4828-4180-9127-72e06435b553"/><contentTypeMapping mediatype="23" contentTypeId="d7da7178-06f4-4728-959c-d5ce6bf6f5a1"/><contentTypeMapping mediatype="30" contentTypeId="e9c2dbae-022f-49d2-816e-dc1604ed8aca"/><contentTypeMapping mediatype="34" contentTypeId="0ea3aa76-ae84-48cb-b9fc-32901f0191ae"/><contentTypeMapping mediatype="37" contentTypeId="c01942e6-de53-4eb6-92a4-7316a47a4c57"/><contentTypeMapping mediatype="47" contentTypeId="d0d510b6-43fa-4bcf-98e9-1c354f68fbbc"/></root>','##Environment##','ALL',-1,'ALL',1]]></Query>
                    </Parameters>
                </Task>
                <Task Name="Override the XCBK certificate name" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xcbk_sslCertSubject','##EnvPoolIISIp##','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download URL" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_overrides set vc_info1='##EnvINHInternetIp##' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='download'</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download Content Directory location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'download_contentDirectory','F:\contentDownload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for game offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_offerGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for video offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_videoGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable the DebugResult setting for XArb" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xarb_EnableDebugResult','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the WCToolsMgmtUpload location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'wctoolsmgmt_uploadPathRoot','\\##EnvSecuINH##\toolsmgmtupload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>

                <!-- Update environment-specific LiveHive settings -->
                <Task Name="Update the AvatarPictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarPictureUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarAssetUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarAssetUriRoot','http://##EnvINHInternetIp##:3074/content'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the StoragePictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','StoragePictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixAvatarConfigPath LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixAvatarConfigPath','/shaXam/0403/03/b0/03b03926-3388-4a1f-a7f6-6439bc13501c.txt'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixPreviewUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixPreviewUriRoot','http://xshwlab01.redmond.corp.microsoft.com'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixUriRoot','http://10.193.109.102:51109'</Query>
                    </Parameters>
                </Task>

                <!-- Ensure all NT Services are started and reset all IIS AppPools -->
                <Task Name="Ensure services on the PoolINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,PresenceCache,ProfileCache,NotificationCache" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Ensure services on the SecuINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Restart" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="Services" Value="XDS,XKDC,xmgmt,SGSVC" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Reset app pools on the PoolIIS server" Module="IISTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="StartStoppedPools" Value="true" />
                    <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                    <Parameter Name="AppPools" Value="All" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Prop Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Update TPP logs location" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro\TPPSettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitleProp" />
                    </Parameters>
                </Task>
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\d$\WebRoot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="2" />
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" ErrorsAreFatal="false" />
                        <RunAt Server="##EnvInfrTLS##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##">
                            <ExcludeComponent Name="wcdebugtest" />
                            <ExcludeComponent Name="cron" />
                        </HealthCheckList>
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Red">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CatalogWatcherPlugin" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Could not resolve Contentdistributor</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="marketplacecatalog" HealthStatus="Yellow">
                                <HealthBlockException Name="MarketplaceCatalogHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Failed to fetch Search View</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="lbsvr" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Leaderboard server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarb" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarbinh" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server: Session Buckets' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Add the BVTNet NPDB location to the STF.xml file" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Point LiveLib to BVTNet" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                    </Parameters>
                </Task>
                <Task Name="Run the LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT\LiveLKG.xml"/>
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create final snapshots" Rollup="false" Condition="Always">
                <Task Name="Create succeeded snapshots" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - LKG Testing Passed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Create failed snapshots" Module="VMTaskModule" Type="Local" Condition="IfFailing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - LKG Testing Failed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Give all users access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfFailing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Add" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Raise build to LKG" Condition="IfPassing" Rollup="false">
                <Task Name="Delete old LKG files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\Expanded" />
                    </Parameters>
                </Task>
                <Task Name="Copy build to LKG folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                        <DestLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\Expanded" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull Marketplace test data logs from the MstrSQL server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                    </Parameters>
                </Task>
                <Task Name="Copy the changes.txt file to the log folder" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="changes.txt" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>
        </Job>

        <!--
            Job Name:       XOnline Main Xblob LKG Testing
            Schedule:       Every quarter-hour between 01:00 and 17:00
            Environment:    XBLOB
            Type:           LKG - Full deployment
            
            Daily Last Known Good XBLOB deployment verification job for the Main branch.
        -->
        <Job Name="XOnline Main Xblob LKG Testing" Type="LKGTesting" Environment="XBLOB_LKG2" Build="XOnline_Main" Priority="High" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="17:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##\??.??.????.??" IsRemote="true" />
            </Schedule>
            <Report ToList="xbldm" XsltName="DeploymentResults.xslt">
                <JobHistory MaxDays="30" MaxJobs="40" />
            </Report>

            <TaskGroup Name="Stage Build" Rollup="true" Condition="Always">
                <Task Name="Delete old Xblob build files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy Latest build to the Xblob folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Pre-Deployment tasks" Condition="IfPassing" Rollup="true">
                <Task Name="Restore base snapshots" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##" />
                        <ApplySnapshot SnapshotNameSpec="Ready for Deployment%" />
                    </Parameters>
                </Task>
                <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>HxHyperC1B15</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="Xblob Billing One Box" />
                        <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Ensure DAService has started" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="172.19.144.59" />
                    <Parameter Name="Services" Value="DAService" />
                    <Parameter Name="UserName" Value="VM1BoxDom\Administrator" />
                    <Parameter Name="Password" Value="#Bugsfor$" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Fix up the Temporal Partition on the Billing 1-Box" Module="CommandLineTaskModule" Type="Remote">
                    <Parameters>
                        <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="true" CaptureOutput="false" />
                        <RunAt Server="172.19.144.59" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                    </Parameters>
                </Task>
                <Task Name="Create the Octopus configuration file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="##EnvAllSQL1##-R2.xml" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\StaticFiles\ConfigXML" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Fix up the Octopus configuration file" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##EnvAllSQL1##-R2.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Install Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##EnvAllSQL1##-R2.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Post-Deployment Tasks" Condition="IfPassing" Rollup="true">
                <Task Name="Update the AAIFDReflector files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests\SuitesData\AAIFDReflector" />
                        <DestLocation Path="\\##EnvSecuINH##\d$\Webroot\ActiveAuthTest" />
                    </Parameters>
                </Task>
                <Task Name="Deploy LiveSignup" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" />
                        <SourceLocation Path="\\##StagerName##\Stage\LiveSignup" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\Webroot\xtou\xedl\LiveSignup" />
                    </Parameters>
                </Task>
                <Task Name="Modify the RPSServer.xml file" Module="XMLFileModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileLocation Path="\\##EnvSecuINH##\C$\Program Files (x86)\Microsoft Passport RPS\config\RPSServer.xml" />
                        <Replace XPath="RPSServer/NetworkServices/Proxy" NewValue="http://172.19.187.10:8080" />
                        <Replace XPath="RPSServer/NetworkServices/ServiceAccount" NewValue="##EnvSecuINH##\_xbluser" />
                    </Parameters>
                </Task>

                <Task Name="Enable Connections To Billing" Module="SQLTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'billing_connectToBilling','yes','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Change Billing Proxy" Module="SQLTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'billing_proxy','http://172.19.187.10:8080/','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','D:\TitleVault','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testContentType','4edb3445-d489-4f3f-9760-55f1a85dfe3a','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings user PUID" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testUserPuid','985160330844665','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type mappings" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false"><![CDATA[exec p_config_add_setting_override 'ratings_contenttype_mapping','<root><contentTypeMapping mediatype="1" contentTypeId="596d1667-572a-4611-9f87-a5d3edf45b36"/><contentTypeMapping mediatype="18" contentTypeId="faa29126-f880-444a-b951-01a4a8dce301"/><contentTypeMapping mediatype="19" contentTypeId="d180a26c-a2a4-4d7b-9094-3a12725447b5"/><contentTypeMapping mediatype="20" contentTypeId="3fe2a114-98c8-4881-bc7a-aaf16c2cab9c"/><contentTypeMapping mediatype="21" contentTypeId="3d6ada32-2733-4d41-b67c-e325f643c25f"/><contentTypeMapping mediatype="22" contentTypeId="7a1e9a32-4828-4180-9127-72e06435b553"/><contentTypeMapping mediatype="23" contentTypeId="d7da7178-06f4-4728-959c-d5ce6bf6f5a1"/><contentTypeMapping mediatype="30" contentTypeId="e9c2dbae-022f-49d2-816e-dc1604ed8aca"/><contentTypeMapping mediatype="34" contentTypeId="0ea3aa76-ae84-48cb-b9fc-32901f0191ae"/><contentTypeMapping mediatype="37" contentTypeId="c01942e6-de53-4eb6-92a4-7316a47a4c57"/><contentTypeMapping mediatype="47" contentTypeId="d0d510b6-43fa-4bcf-98e9-1c354f68fbbc"/></root>','xblob','ALL',-1,'ALL',1]]></Query>
                    </Parameters>
                </Task>

                <Task Name="Reboot the server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvPoolIIS##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Start all Xbox LIVE services" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,Cleanser,LBSvr,NotificationCache,PresenceCache,ProfileCache,sgsvc,ToolsMgmtSrv,udpadpt,vortexfd,xbanc,xcache,xconnsrv,xkdc,xmgmt" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Wait WaitSeconds="30" />
            </TaskGroup>

            <TaskGroup Name="Prop Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Update the TPP settings file" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro\TPPSettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='XBLOB_LKG']" Attribute="Name" NewValue="##Environment##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitleProp" />
                    </Parameters>
                </Task>
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\d$\Webroot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="2" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##">
                            <ExcludeComponent Name="xcbk" />
                            <ExcludeComponent Name="wcdebugtest" />
                            <ExcludeComponent Name="cron" />
                        </HealthCheckList>
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">FECatalogDBZune_A</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Red">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CatalogWatcherPlugin" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Could not resolve Contentdistributor</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="marketplacecatalog" HealthStatus="Yellow">
                                <HealthBlockException Name="MarketplaceCatalogHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Failed to fetch Search View</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="lbsvr" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Leaderboard server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="sts" HealthStatus="Yellow">
                                <HealthBlockException Name="StsHealthInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">certificate keysize is not 2048</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarb" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarbinh" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server: Session Buckets' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">FECatalogDBZune</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Set up LiveLib.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <AddElement XPath="livelib/environments">
                            <environment name="##Environment##-int" type="DirectAccess">
                                <defaultSchemaVersion major="6" minor="0" />
                                <ipaddresses>
                                    <ipaddress svcId="1" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_presence" />
                                    <ipaddress svcId="2" host="##EnvPoolIIS##" transactionType="FD" vifc="stringsvr" />
                                    <ipaddress svcId="4" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_base_subscription" />
                                    <ipaddress svcId="5" host="##EnvPoolIIS##" transactionType="FD" vifc="xuacs" />
                                    <ipaddress svcId="6" host="##EnvPoolIIS##" transactionType="FD" vifc="xmatchfd" />
                                    <ipaddress svcId="7" host="##EnvPoolIIS##" transactionType="FD" vifc="xstatsfd" />
                                    <ipaddress svcId="8" host="##EnvPoolIIS##" transactionType="FD" vifc="fbserver" />
                                    <ipaddress svcId="9" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_billing_offering" />
                                    <ipaddress svcId="10" host="##EnvPoolIIS##" transactionType="FD" />
                                    <ipaddress svcId="11" host="##EnvPoolIIS##" transactionType="FD" vifc="xtou" />
                                    <ipaddress svcId="12" host="##EnvPoolIIS##" transactionType="FD" vifc="xsig" />
                                    <ipaddress svcId="13" host="##EnvPoolIIS##" transactionType="FD" vifc="xqry" />
                                    <ipaddress svcId="14" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_name_resolution" />
                                    <ipaddress svcId="15" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_storage" />
                                    <ipaddress svcId="16" host="##EnvPoolIIS##" transactionType="FD" vifc="xarb" />
                                    <ipaddress svcId="18" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_messaging" />
                                    <ipaddress svcId="19" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_teams" />
                                    <ipaddress svcId="21" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_drm" />
                                    <ipaddress svcId="175" host="##EnvPoolIIS##" transactionType="Http" vifc="catalog" />
                                    <ipaddress svcId="176" host="##EnvPoolIIS##" transactionType="Http" vifc="web billing" />
                                    <ipaddress svcId="177" host="##EnvPoolIIS##" transactionType="AA" />
                                    <ipaddress svcId="178" host="##EnvPoolIIS##" transactionType="Http" />
                                    <ipaddress svcId="181" host="##EnvSecuINH##" transactionType="FD" vifc="authsg" />
                                </ipaddresses>
                            </environment>
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Set the NPDB location in STF.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="##Environment##" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Run LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT\LiveLKG.xml"/>
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create final snapshots" Rollup="false" Condition="Always">
                <Task Name="Create succeeded snapshots" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - LKG Testing Passed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Create failed snapshots" Module="VMTaskModule" Type="Local" Condition="IfFailing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - LKG Testing Failed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Raise build to XBLOB LKG" Condition="IfPassing" Rollup="false">
                <Task Name="Delete old LKG files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\XBLOB" />
                    </Parameters>
                </Task>
                <Task Name="Copy build to LKG folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                        <DestLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\XBLOB" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull Marketplace test data logs" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                    </Parameters>
                </Task>
                <Task Name="Copy the changes.txt file to attach to the results mail" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="changes.txt" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>
        </Job>

        <!--
            Job Name:       XOnline R2 Xblob LKG Testing
            Schedule:       Every quarter-hour between 01:00 and 17:00
            Environment:    XBLOB
            Type:           LKG - Full deployment
            
            Daily Last Known Good XBLOB deployment verification job for the R2 branch.
        -->
        <Job Name="XOnline R2 Xblob LKG Testing" Type="LKGTesting" Environment="XBLOB_LKG2" Build="XOnline_R2" Priority="High" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="17:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##\??.??.????.??" IsRemote="true" />
            </Schedule>
            <Report ToList="xbldm" XsltName="DeploymentResults.xslt">
                <JobHistory MaxDays="30" MaxJobs="40" />
            </Report>

            <TaskGroup Name="Stage Build" Rollup="true" Condition="Always">
                <Task Name="Delete old Xblob build files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy Latest build to the Xblob folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Pre-Deployment tasks" Condition="IfPassing" Rollup="true">
                <Task Name="Restore base snapshots" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##" />
                        <ApplySnapshot SnapshotNameSpec="Ready for Deployment%" />
                    </Parameters>
                </Task>
                <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>HxHyperC1B15</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="Xblob Billing One Box" />
                        <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Ensure DAService has started" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="172.19.144.59" />
                    <Parameter Name="Services" Value="DAService" />
                    <Parameter Name="UserName" Value="VM1BoxDom\Administrator" />
                    <Parameter Name="Password" Value="#Bugsfor$" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Fix up the Temporal Partition on the Billing 1-Box" Module="CommandLineTaskModule" Type="Remote">
                    <Parameters>
                        <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="true" CaptureOutput="false" />
                        <RunAt Server="172.19.144.59" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                    </Parameters>
                </Task>
                <Task Name="Create the Octopus configuration file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="##EnvAllSQL1##-R2.xml" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\StaticFiles\ConfigXML" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Fix up the Octopus configuration file" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##EnvAllSQL1##-R2.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Install Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##EnvAllSQL1##-R2.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Post-Deployment Tasks" Condition="IfPassing" Rollup="true">
                <Task Name="Update the AAIFDReflector files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests\SuitesData\AAIFDReflector" />
                        <DestLocation Path="\\##EnvSecuINH##\d$\Webroot\ActiveAuthTest" />
                    </Parameters>
                </Task>
                <Task Name="Deploy LiveSignup" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" />
                        <SourceLocation Path="\\##StagerName##\Stage\LiveSignup" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\Webroot\xtou\xedl\LiveSignup" />
                    </Parameters>
                </Task>
                <Task Name="Modify the RPSServer.xml file" Module="XMLFileModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileLocation Path="\\##EnvSecuINH##\C$\Program Files (x86)\Microsoft Passport RPS\config\RPSServer.xml" />
                        <Replace XPath="RPSServer/NetworkServices/Proxy" NewValue="http://172.19.187.10:8080" />
                        <Replace XPath="RPSServer/NetworkServices/ServiceAccount" NewValue="##EnvSecuINH##\_xbluser" />
                    </Parameters>
                </Task>

                <Task Name="Enable Connections To Billing" Module="SQLTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'billing_connectToBilling','yes','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Change Billing Proxy" Module="SQLTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'billing_proxy','http://172.19.187.10:8080/','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','D:\TitleVault','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testContentType','4edb3445-d489-4f3f-9760-55f1a85dfe3a','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings user PUID" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testUserPuid','985160330844665','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type mappings" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false"><![CDATA[exec p_config_add_setting_override 'ratings_contenttype_mapping','<root><contentTypeMapping mediatype="1" contentTypeId="596d1667-572a-4611-9f87-a5d3edf45b36"/><contentTypeMapping mediatype="18" contentTypeId="faa29126-f880-444a-b951-01a4a8dce301"/><contentTypeMapping mediatype="19" contentTypeId="d180a26c-a2a4-4d7b-9094-3a12725447b5"/><contentTypeMapping mediatype="20" contentTypeId="3fe2a114-98c8-4881-bc7a-aaf16c2cab9c"/><contentTypeMapping mediatype="21" contentTypeId="3d6ada32-2733-4d41-b67c-e325f643c25f"/><contentTypeMapping mediatype="22" contentTypeId="7a1e9a32-4828-4180-9127-72e06435b553"/><contentTypeMapping mediatype="23" contentTypeId="d7da7178-06f4-4728-959c-d5ce6bf6f5a1"/><contentTypeMapping mediatype="30" contentTypeId="e9c2dbae-022f-49d2-816e-dc1604ed8aca"/><contentTypeMapping mediatype="34" contentTypeId="0ea3aa76-ae84-48cb-b9fc-32901f0191ae"/><contentTypeMapping mediatype="37" contentTypeId="c01942e6-de53-4eb6-92a4-7316a47a4c57"/><contentTypeMapping mediatype="47" contentTypeId="d0d510b6-43fa-4bcf-98e9-1c354f68fbbc"/></root>','xblob','ALL',-1,'ALL',1]]></Query>
                    </Parameters>
                </Task>

                <Task Name="Reboot the server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvPoolIIS##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Start all Xbox LIVE services" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,Cleanser,LBSvr,NotificationCache,PresenceCache,ProfileCache,sgsvc,ToolsMgmtSrv,udpadpt,vortexfd,xbanc,xcache,xconnsrv,xkdc,xmgmt" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Wait WaitSeconds="30" />
            </TaskGroup>

            <TaskGroup Name="Prop Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Update the TPP settings file" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro\TPPSettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='XBLOB_LKG']" Attribute="Name" NewValue="##Environment##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitleProp" />
                    </Parameters>
                </Task>
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\d$\Webroot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="2" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##">
                            <ExcludeComponent Name="xcbk" />
                            <ExcludeComponent Name="wcdebugtest" />
                            <ExcludeComponent Name="cron" />
                        </HealthCheckList>
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">FECatalogDBZune_A</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Red">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CatalogWatcherPlugin" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Could not resolve Contentdistributor</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="marketplacecatalog" HealthStatus="Yellow">
                                <HealthBlockException Name="MarketplaceCatalogHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Failed to fetch Search View</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="lbsvr" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Leaderboard server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="sts" HealthStatus="Yellow">
                                <HealthBlockException Name="StsHealthInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">certificate keysize is not 2048</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarb" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarbinh" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server: Session Buckets' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">FECatalogDBZune</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Set up LiveLib.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <AddElement XPath="livelib/environments">
                            <environment name="##Environment##-int" type="DirectAccess">
                                <defaultSchemaVersion major="6" minor="0" />
                                <ipaddresses>
                                    <ipaddress svcId="1" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_presence" />
                                    <ipaddress svcId="2" host="##EnvPoolIIS##" transactionType="FD" vifc="stringsvr" />
                                    <ipaddress svcId="4" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_base_subscription" />
                                    <ipaddress svcId="5" host="##EnvPoolIIS##" transactionType="FD" vifc="xuacs" />
                                    <ipaddress svcId="6" host="##EnvPoolIIS##" transactionType="FD" vifc="xmatchfd" />
                                    <ipaddress svcId="7" host="##EnvPoolIIS##" transactionType="FD" vifc="xstatsfd" />
                                    <ipaddress svcId="8" host="##EnvPoolIIS##" transactionType="FD" vifc="fbserver" />
                                    <ipaddress svcId="9" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_billing_offering" />
                                    <ipaddress svcId="10" host="##EnvPoolIIS##" transactionType="FD" />
                                    <ipaddress svcId="11" host="##EnvPoolIIS##" transactionType="FD" vifc="xtou" />
                                    <ipaddress svcId="12" host="##EnvPoolIIS##" transactionType="FD" vifc="xsig" />
                                    <ipaddress svcId="13" host="##EnvPoolIIS##" transactionType="FD" vifc="xqry" />
                                    <ipaddress svcId="14" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_name_resolution" />
                                    <ipaddress svcId="15" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_storage" />
                                    <ipaddress svcId="16" host="##EnvPoolIIS##" transactionType="FD" vifc="xarb" />
                                    <ipaddress svcId="18" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_messaging" />
                                    <ipaddress svcId="19" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_teams" />
                                    <ipaddress svcId="21" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_drm" />
                                    <ipaddress svcId="175" host="##EnvPoolIIS##" transactionType="Http" vifc="catalog" />
                                    <ipaddress svcId="176" host="##EnvPoolIIS##" transactionType="Http" vifc="web billing" />
                                    <ipaddress svcId="177" host="##EnvPoolIIS##" transactionType="AA" />
                                    <ipaddress svcId="178" host="##EnvPoolIIS##" transactionType="Http" />
                                    <ipaddress svcId="181" host="##EnvSecuINH##" transactionType="FD" vifc="authsg" />
                                </ipaddresses>
                            </environment>
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Set the NPDB location in STF.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="##Environment##" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Run LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT\LiveLKG.xml"/>
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create final snapshots" Rollup="false" Condition="Always">
                <Task Name="Create succeeded snapshots" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - LKG Testing Passed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Create failed snapshots" Module="VMTaskModule" Type="Local" Condition="IfFailing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - LKG Testing Failed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Raise build to XBLOB LKG" Condition="IfPassing" Rollup="false">
                <Task Name="Delete old LKG files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\XBLOB" />
                    </Parameters>
                </Task>
                <Task Name="Copy build to LKG folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                        <DestLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\XBLOB" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull Marketplace test data logs" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                    </Parameters>
                </Task>
                <Task Name="Copy the changes.txt file to attach to the results mail" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="changes.txt" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>
        </Job>

        <!--
            Job Name:       XOnline R1 Xblob LKG Testing
            Schedule:       Every quarter-hour between 01:00 and 17:00
            Environment:    XBLOB
            Type:           LKG - Full deployment
            
            Daily Last Known Good XBLOB deployment verification job for the R1 branch.
        -->
        <Job Name="XOnline R1 Xblob LKG Testing" Type="LKGTesting" Environment="XBLOB_LKG2" Build="XOnline_R1" Priority="High" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="17:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##\??.??.????.??" IsRemote="true" />
            </Schedule>
            <Report ToList="xbldm" XsltName="DeploymentResults.xslt">
                <JobHistory MaxDays="30" MaxJobs="40" />
            </Report>

            <TaskGroup Name="Stage Build" Rollup="true" Condition="Always">
                <Task Name="Delete old Xblob build files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy Latest build to the Xblob folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Pre-Deployment tasks" Condition="IfPassing" Rollup="true">
                <Task Name="Restore base snapshots" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##" />
                        <ApplySnapshot SnapshotNameSpec="Ready for Deployment%" />
                    </Parameters>
                </Task>
                <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>HxHyperC1B15</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="Xblob Billing One Box" />
                        <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Ensure DAService has started" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="172.19.144.59" />
                    <Parameter Name="Services" Value="DAService" />
                    <Parameter Name="UserName" Value="VM1BoxDom\Administrator" />
                    <Parameter Name="Password" Value="#Bugsfor$" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Fix up the Temporal Partition on the Billing 1-Box" Module="CommandLineTaskModule" Type="Remote">
                    <Parameters>
                        <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="true" CaptureOutput="false" />
                        <RunAt Server="172.19.144.59" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                    </Parameters>
                </Task>
                <Task Name="Create the Octopus configuration file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="##EnvAllSQL1##-R2.xml" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\StaticFiles\ConfigXML" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Fix up the Octopus configuration file" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##EnvAllSQL1##-R2.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Install Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##EnvAllSQL1##-R2.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Post-Deployment Tasks" Condition="IfPassing" Rollup="true">
                <Task Name="Update the AAIFDReflector files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests\SuitesData\AAIFDReflector" />
                        <DestLocation Path="\\##EnvSecuINH##\d$\Webroot\ActiveAuthTest" />
                    </Parameters>
                </Task>
                <Task Name="Deploy LiveSignup" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" />
                        <SourceLocation Path="\\##StagerName##\Stage\LiveSignup" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\Webroot\xtou\xedl\LiveSignup" />
                    </Parameters>
                </Task>
                <Task Name="Modify the RPSServer.xml file" Module="XMLFileModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileLocation Path="\\##EnvSecuINH##\C$\Program Files (x86)\Microsoft Passport RPS\config\RPSServer.xml" />
                        <Replace XPath="RPSServer/NetworkServices/Proxy" NewValue="http://172.19.187.10:8080" />
                        <Replace XPath="RPSServer/NetworkServices/ServiceAccount" NewValue="##EnvSecuINH##\_xbluser" />
                    </Parameters>
                </Task>

                <Task Name="Enable Connections To Billing" Module="SQLTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'billing_connectToBilling','yes','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Change Billing Proxy" Module="SQLTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'billing_proxy','http://172.19.187.10:8080/','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','D:\TitleVault','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testContentType','4edb3445-d489-4f3f-9760-55f1a85dfe3a','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings user PUID" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testUserPuid','985160330844665','xblob','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type mappings" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false"><![CDATA[exec p_config_add_setting_override 'ratings_contenttype_mapping','<root><contentTypeMapping mediatype="1" contentTypeId="596d1667-572a-4611-9f87-a5d3edf45b36"/><contentTypeMapping mediatype="18" contentTypeId="faa29126-f880-444a-b951-01a4a8dce301"/><contentTypeMapping mediatype="19" contentTypeId="d180a26c-a2a4-4d7b-9094-3a12725447b5"/><contentTypeMapping mediatype="20" contentTypeId="3fe2a114-98c8-4881-bc7a-aaf16c2cab9c"/><contentTypeMapping mediatype="21" contentTypeId="3d6ada32-2733-4d41-b67c-e325f643c25f"/><contentTypeMapping mediatype="22" contentTypeId="7a1e9a32-4828-4180-9127-72e06435b553"/><contentTypeMapping mediatype="23" contentTypeId="d7da7178-06f4-4728-959c-d5ce6bf6f5a1"/><contentTypeMapping mediatype="30" contentTypeId="e9c2dbae-022f-49d2-816e-dc1604ed8aca"/><contentTypeMapping mediatype="34" contentTypeId="0ea3aa76-ae84-48cb-b9fc-32901f0191ae"/><contentTypeMapping mediatype="37" contentTypeId="c01942e6-de53-4eb6-92a4-7316a47a4c57"/><contentTypeMapping mediatype="47" contentTypeId="d0d510b6-43fa-4bcf-98e9-1c354f68fbbc"/></root>','xblob','ALL',-1,'ALL',1]]></Query>
                    </Parameters>
                </Task>

                <Task Name="Reboot the server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvPoolIIS##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Start all Xbox LIVE services" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,Cleanser,LBSvr,NotificationCache,PresenceCache,ProfileCache,sgsvc,ToolsMgmtSrv,udpadpt,vortexfd,xbanc,xcache,xconnsrv,xkdc,xmgmt" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Wait WaitSeconds="30" />
            </TaskGroup>

            <TaskGroup Name="Prop Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Update the TPP settings file" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro\TPPSettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='XBLOB_LKG']" Attribute="Name" NewValue="##Environment##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitleProp" />
                    </Parameters>
                </Task>
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\d$\Webroot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="2" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##">
                            <ExcludeComponent Name="xcbk" />
                            <ExcludeComponent Name="wcdebugtest" />
                            <ExcludeComponent Name="cron" />
                        </HealthCheckList>
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">FECatalogDBZune_A</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Red">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CatalogWatcherPlugin" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Could not resolve Contentdistributor</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="marketplacecatalog" HealthStatus="Yellow">
                                <HealthBlockException Name="MarketplaceCatalogHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Failed to fetch Search View</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="lbsvr" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Leaderboard server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="sts" HealthStatus="Yellow">
                                <HealthBlockException Name="StsHealthInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">certificate keysize is not 2048</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarb" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarbinh" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server: Session Buckets' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">FECatalogDBZune</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Set up LiveLib.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <AddElement XPath="livelib/environments">
                            <environment name="##Environment##-int" type="DirectAccess">
                                <defaultSchemaVersion major="6" minor="0" />
                                <ipaddresses>
                                    <ipaddress svcId="1" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_presence" />
                                    <ipaddress svcId="2" host="##EnvPoolIIS##" transactionType="FD" vifc="stringsvr" />
                                    <ipaddress svcId="4" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_base_subscription" />
                                    <ipaddress svcId="5" host="##EnvPoolIIS##" transactionType="FD" vifc="xuacs" />
                                    <ipaddress svcId="6" host="##EnvPoolIIS##" transactionType="FD" vifc="xmatchfd" />
                                    <ipaddress svcId="7" host="##EnvPoolIIS##" transactionType="FD" vifc="xstatsfd" />
                                    <ipaddress svcId="8" host="##EnvPoolIIS##" transactionType="FD" vifc="fbserver" />
                                    <ipaddress svcId="9" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_billing_offering" />
                                    <ipaddress svcId="10" host="##EnvPoolIIS##" transactionType="FD" />
                                    <ipaddress svcId="11" host="##EnvPoolIIS##" transactionType="FD" vifc="xtou" />
                                    <ipaddress svcId="12" host="##EnvPoolIIS##" transactionType="FD" vifc="xsig" />
                                    <ipaddress svcId="13" host="##EnvPoolIIS##" transactionType="FD" vifc="xqry" />
                                    <ipaddress svcId="14" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_name_resolution" />
                                    <ipaddress svcId="15" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_storage" />
                                    <ipaddress svcId="16" host="##EnvPoolIIS##" transactionType="FD" vifc="xarb" />
                                    <ipaddress svcId="18" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_messaging" />
                                    <ipaddress svcId="19" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_teams" />
                                    <ipaddress svcId="21" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_drm" />
                                    <ipaddress svcId="175" host="##EnvPoolIIS##" transactionType="Http" vifc="catalog" />
                                    <ipaddress svcId="176" host="##EnvPoolIIS##" transactionType="Http" vifc="web billing" />
                                    <ipaddress svcId="177" host="##EnvPoolIIS##" transactionType="AA" />
                                    <ipaddress svcId="178" host="##EnvPoolIIS##" transactionType="Http" />
                                    <ipaddress svcId="181" host="##EnvSecuINH##" transactionType="FD" vifc="authsg" />
                                </ipaddresses>
                            </environment>
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Set the NPDB location in STF.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="##Environment##" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Run LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT\LiveLKG.xml"/>
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create final snapshots" Rollup="false" Condition="Always">
                <Task Name="Create succeeded snapshots" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - LKG Testing Passed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Create failed snapshots" Module="VMTaskModule" Type="Local" Condition="IfFailing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - LKG Testing Failed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Raise build to XBLOB LKG" Condition="IfPassing" Rollup="false">
                <Task Name="Delete old LKG files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\XBLOB" />
                    </Parameters>
                </Task>
                <Task Name="Copy build to LKG folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                        <DestLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\XBLOB" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull Marketplace test data logs" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                    </Parameters>
                </Task>
                <Task Name="Copy the changes.txt file to attach to the results mail" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="changes.txt" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>
        </Job>

        <!--
            Job Name:       XOnline R2 Uninstall Testing
            Schedule:       Every quarter-hour between 01:00 and 17:00
            Environment:    BVTNet
            Type:           Full uninstall

            Uninstall testing job for the R2 branch.
        -->
        <Job Name="XOnline R2 Uninstall Testing" Type="Other" Environment="BVTNet" Build="XOnline_R2" Priority="Medium" Enabled="false" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="17:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\LastGoodDeployment.txt" TriggerUse="ContentOnly" IsRemote="true"/>
            </Schedule>
            <Report ToList="craigwh" Condition="IfFailing" XsltName="DeploymentResults.xslt">
                <JobHistory MaxDays="30" MaxJobs="40" />
            </Report>

            <Task Name="Restore the most recent service deployed snapshot" Module="VMTaskModule" Type="Local">
                <Parameters>
                    <Hosts>##EnvHostList##</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                    <ApplySnapshot SnapshotNameSpec="##BuildName## ##BuildVersion##%Passed%" />
                </Parameters>
            </Task>
            <Wait WaitSeconds="60" />
            <Task Name="Uninstall the build using Octopus" Module="OctopusTaskModule" Condition="IfPassing" Type="Remote" LocalLogTarget="##LogBase##">
                <Parameter Name="InstallationType" Value="uninstall" />
                <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                <Parameter Name="Password" Value="##RemotePassword##" />
                <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
            </Task>
            <Task Name="Create post-uninstall snapshots" Module="VMTaskModule" Type="Local" Condition="IfFailing">
                <Parameters>
                    <Hosts>##EnvHostList##</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                    <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - Service Uninstallation Failed" ReplaceExisting="true" />
                </Parameters>
            </Task>
            <Wait WaitSeconds="60" />
            <Task Name="Restore the latest snapshot" Module="VMTaskModule" Type="Local" Condition="Always">
                <Parameters>
                    <Hosts>##EnvHostList##</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                    <ApplySnapshot SnapshotNameSpec="##BuildName## ##BuildVersion##%Passed%" />
                </Parameters>
            </Task>
        </Job>




        <!--
            Job Name:       Deploy latest XSR build to AutoNetShip
            Schedule:       Every quarter-hour between 01:00 and 20:00
            Environment:    AutoNetShip
            Type:           Upgrade deployment

            Upgrade deployment job for the latest XSR build from the Main branch.
        -->
        <Job Name="Deploy latest XSR build to AutoNetShip" Build="XOnline_Main" Environment="AutoNetShip" Type="Deployment" Priority="Medium" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="20:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##.XSR\??.??.????.??" IsRemote="true"/>
            </Schedule>
            <Report ToList="xbldm" Condition="Always" XsltName="DeploymentResults.xslt">
              <JobHistory MaxDays="30" MaxJobs="40" />
            </Report>

            <TaskGroup Name="Create XSR deployment file set" Rollup="true">
                <Task Name="Delete old XSR deployment files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy base deployment files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2009-11.BSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Dec 2009 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2009-12.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Feb 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-02.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Mar 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-03.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay May 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-05.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay May 2010 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-05.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay June 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-06.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay June 2010 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-06.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay August 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-08.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay August 2010 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-08.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Delete old version file(s)" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" FileSpec="??.??.????.??" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Current XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create the AutoNetShip environment" Condition="IfPassing" Rollup="false">
                <Task Name="Copy the BVTNet database deployment files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="deployment_bvtnet.xml" NewFileName="deployment_##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific Genealogy update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\genealogy\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\genealogy\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific UODB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\uodb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\uodb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific WebDB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\webdb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\webdb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Modify the database deployment files to point to the correct servers" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" FileSpec="deployment_##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="true" />
                        <Replace FindString="BVT" ReplaceString="##EnvServerPrefix##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB prodbase .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB upgrade .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Add the environment name to the service.xml file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" FileSpec="service.xml" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Update the name of the XCBK cert in the site.xml file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\Secure\##Environment##\site.xml" />
                        <Replace XPath="Site/Certificates/SSLCert[@Identifier='ssl.spsxcbk']" Attribute="File" NewValue="##EnvPoolIISIp##.pfx" />
                    </Parameters>
                </Task>
                <Task Name="Create the Octopus deployment configuration file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="bvtnet.xml" NewFileName="##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Change the user names in the Octopus config file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" FileSpec="##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="false" />
                    </Parameters>
                </Task>
                <Task Name="Customize the Octopus deployment configuration file" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="DeploymentInstance" Attribute="releaseName" NewValue="2010 09 XSR Main" />
                        <Replace XPath="DeploymentInstance" Attribute="topologyName" NewValue="Full" />
                        <Replace XPath="//Server[@name='BVTXALLSQL001']" Attribute="name" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//Server[@name='BVTXALLSQL002']" Attribute="name" NewValue="##EnvAllSQL2##" />
                        <Replace XPath="//Server[@name='BVTMSTRSQL001']" Attribute="name" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//Server[@name='BVTCATRSQL001']" Attribute="name" NewValue="##EnvCatrSQL##" />
                        <Replace XPath="//Server[@name='BVTINFRTLS001']" Attribute="name" NewValue="##EnvInfrTLS##" />
                        <Replace XPath="//Server[@name='BVTPOOLIIS001']" Attribute="name" NewValue="##EnvPoolIIS##" />
                        <Replace XPath="//Server[@name='BVTPOOLINH001']" Attribute="name" NewValue="##EnvPoolINH##" />
                        <Replace XPath="//Server[@name='BVTSECUINH001']" Attribute="name" NewValue="##EnvSecuINH##" />
                        <Replace XPath="//PropertyValue[@name='Environment']" Attribute="value" NewValue="##Environment##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_BEGIN']" Attribute="value" NewValue="##EnvClientPoolIpBegin##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_END']" Attribute="value" NewValue="##EnvClientPoolIpEnd##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_NETMASK']" Attribute="value" NewValue="##EnvClientPoolNetmask##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_GATEWAY']" Attribute="value" NewValue="##EnvClientPoolGateway##" />
                        <Replace XPath="//PropertyValue[@name='SG_ADMIN_IP']" Attribute="value" NewValue="##EnvSGAdminIp##" />
                        <Replace XPath="//PropertyValue[@name='SG_INTERNET_IP']" Attribute="value" NewValue="##EnvSGInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='XDS_INTERNET_IP']" Attribute="value" NewValue="##EnvXDSInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='NpdbServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//PropertyValue[@name='Site.DataFolder']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='CatalogPublisher']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='CatalogDistributor']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='LegacyOfferServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Update the TPPSettings file for the new environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\deployment\titleproppro\tppsettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='BVTNet']" Attribute="Name" NewValue="##Environment##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitleProp" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LBSvr" NewValue="##EnvPoolINH##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/MatchSvr" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Set the NPDB location in STF.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Set up LiveLib.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                        <AddElement XPath="livelib/environments">
                            <environment name="##Environment##-int" type="DirectAccess">
                                <defaultSchemaVersion major="6" minor="0" />
                                <ipaddresses>
                                    <ipaddress svcId="1" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_presence" />
                                    <ipaddress svcId="2" host="##EnvPoolIIS##" transactionType="FD" vifc="stringsvr" />
                                    <ipaddress svcId="4" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_base_subscription" />
                                    <ipaddress svcId="5" host="##EnvPoolIIS##" transactionType="FD" vifc="xuacs" />
                                    <ipaddress svcId="6" host="##EnvPoolIIS##" transactionType="FD" vifc="xmatchfd" />
                                    <ipaddress svcId="7" host="##EnvPoolIIS##" transactionType="FD" vifc="xstatsfd" />
                                    <ipaddress svcId="8" host="##EnvPoolIIS##" transactionType="FD" vifc="fbserver" />
                                    <ipaddress svcId="9" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_billing_offering" />
                                    <ipaddress svcId="10" host="##EnvPoolIIS##" transactionType="FD" />
                                    <ipaddress svcId="11" host="##EnvPoolIIS##" transactionType="FD" vifc="xtou" />
                                    <ipaddress svcId="12" host="##EnvPoolIIS##" transactionType="FD" vifc="xsig" />
                                    <ipaddress svcId="13" host="##EnvPoolIIS##" transactionType="FD" vifc="xqry" />
                                    <ipaddress svcId="14" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_name_resolution" />
                                    <ipaddress svcId="15" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_storage" />
                                    <ipaddress svcId="16" host="##EnvPoolIIS##" transactionType="FD" vifc="xarb" />
                                    <ipaddress svcId="18" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_messaging" />
                                    <ipaddress svcId="19" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_teams" />
                                    <ipaddress svcId="21" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_drm" />
                                    <ipaddress svcId="26" host="0.0.0.0" transactionType="FD" vifc="xconnsrv" />
                                    <ipaddress svcId="175" host="##EnvCatalogIp##" transactionType="Http" vifc="catalog" />
                                    <ipaddress svcId="176" host="##EnvPoolIIS##" transactionType="Http" vifc="web billing" />
                                    <ipaddress svcId="177" host="##EnvPoolIIS##" transactionType="AA" />
                                    <ipaddress svcId="178" host="##EnvPoolIIS##" transactionType="Http" />
                                    <ipaddress svcId="181" host="##EnvSecuINH##" transactionType="FD" vifc="authsg" />
                                </ipaddresses>
                            </environment>
                        </AddElement>
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Pre-Deployment Tasks" Condition="IfPassing" Rollup="false">
                <Task Name="Remove access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Remove" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
                <Task Name="Restore base snapshots" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <ApplySnapshot SnapshotNameSpec="LatestXSR: Ready for Deployment%" />
                    </Parameters>
                </Task>
                <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>HxHyperC2B4</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##Environment## Billing One Box" />
                        <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Ensure DAService has started" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="172.19.144.61" />
                    <Parameter Name="Services" Value="DAService" />
                    <Parameter Name="UserName" Value="VM1BoxDom\Administrator" />
                    <Parameter Name="Password" Value="#Bugsfor$" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Fix up the Temporal Partition on the Billing 1-box" Module="CommandLineTaskModule" Type="Remote">
                    <Parameters>
                        <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="true" CaptureOutput="false" />
                        <RunAt Server="172.19.144.61" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                    </Parameters>
                </Task>
                <!-- Update the data file used by the Geo Segmentation service -->
                <Task Name="Copy GeoFencing data file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                        <SourceLocation Path="G:\Stage\GeoFencing" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\Webroot\Geo\Data" />
                    </Parameters>
                </Task>
                <!-- Stop all services on the PoolINH and SecuINH servers -->
                <Task Name="Stop services on the PoolINH server" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Stop" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,XPServer" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Stop services on the SecuINH server" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Stop" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="Services" Value="XDS,XKDC,xmgmt,SGSVC" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <!-- Recycle all App Pools on the PoolIIS server -->
                <Task Name="Recycle all App Pools on the PoolIIS server" Module="IISTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="StartStoppedPools" Value="true" />
                    <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                    <Parameter Name="AppPools" Value="All" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Install Xbox LIVE Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Install Test Components" Rollup="true" Condition="IfPassing">
                <!-- Copying the previously edited configuration file -->
                <Task Name="Create the Octopus deployment configuration file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="##Environment##.xml" NewFileName="##Environment##.TestComponents.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" />
                    </Parameters>
                </Task>
                <!-- Updating the release name for the Test-only components -->
                <Task Name="Customize the Octopus deployment configuration file" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.TestComponents.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="releaseName" NewValue="Test Components Main" />
                    </Parameters>
                </Task>
                <Task Name="Install Test Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.TestComponents.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Environment Configuration" Rollup="true" Condition="IfPassing">
                <Task Name="Add the fastEspMarketplaceSearch virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'fastEspMarketplaceSearch','##EnvPoolIISIp##',1</Query>
                    </Parameters>
                </Task>
                <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
                <Task Name="Update the ContentDownload port to 3074 in t_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the ContentDownload port to 3074 in t_virtual_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_virtual_interface 'download','download',@port=3074,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBWatcher" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBWatcher','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBXbox" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBXbox','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>

                <!-- Set environment-specific setting overrides -->
                <Task Name="Enable nCipher for the KDC" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'kdcsvc_xmacs_useNCipher','1','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Remove the xuacs_allowUncheckedRecovery setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">delete from t_setting_overrides where vc_setting='xuacs_allowUncheckedRecovery' and vc_environment='##Environment##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable the DebugResult setting for XArb" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xarb_EnableDebugResult','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the WCToolsMgmtUpload location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'wctoolsmgmt_uploadPathRoot','\\##EnvSecuINH##\toolsmgmtupload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>

                <!-- Update the AAIFDReflector -->
                <Task Name="Update the AAIFDReflector files on the SecuINH server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests\SuitesData\AAIFDReflector" />
                        <DestLocation Path="\\##EnvSecuINH##\d$\webroot\ActiveAuthTest" />
                    </Parameters>
                </Task>
                <Task Name="Recycle the AAIFDReflector App Pool" Module="IISTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="AppPools" Value="ActiveAuthTest" />
                    <Parameter Name="StartStoppedPools" Value="true" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>

                <!--
                    Ensure all NT Services are started and reset all IIS AppPools
                -->
                <Task Name="Ensure services on the PoolINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,XPServer" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Reboot the SecuINH server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvSecuINH##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Reboot the PoolIIS server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvPoolIIS##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="120" />
                <Task Name="Reboot the TLS server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvInfrTLS##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="30" />
            </TaskGroup>

            <TaskGroup Name="Prop BVT Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\d$\WebRoot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="5" />
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" ErrorsAreFatal="false" />
                        <RunAt Server="##EnvInfrTLS##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##" />
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Red">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CatalogWatcherPlugin" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Could not resolve Contentdistributor</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="marketplacecatalog" HealthStatus="Yellow">
                                <HealthBlockException Name="MarketplaceCatalogHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Failed to fetch Search View</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Run LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT\LiveLKG.xml"/>
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Prop Remaining Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Prop Acceptance Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Acceptance" />
                    <Parameter Name="Threads" Value="5" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
                <Task Name="Prop Extended Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Extended" />
                    <Parameter Name="Threads" Value="10" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create final snapshots" Rollup="false" Condition="Always">
                <Task Name="Delete the old Last Good Deployment snapshot" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <DeleteSnapshot SnapshotNameSpec="LGD: ##BuildName##%" />
                    </Parameters>
                </Task>
                <Task Name="Create new Last Good Deployment snapshots" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <CreateSnapshot NewSnapshotName="LGD: ##BuildName## ##BuildVersion##" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Create failed snapshots" Module="VMTaskModule" Type="Local" Condition="IfFailing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - Deployment Failed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Give all users access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfFailing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Add" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Release the Environment" Condition="IfPassing" Rollup="false">
                <Task Name="Delete old trigger file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" FileSpec="Released.txt" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Create new trigger file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Create" FileSpec="Released.txt">
                            <FileContents>##BuildVersion##</FileContents>
                        </FileCommand>
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull Marketplace test data logs from the MstrSQL server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                    </Parameters>
                </Task>
                <Task Name="Copy the changes.txt file to the log folder" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="changes.txt" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>
        </Job>

        <!--
            Job Name:       Run Complete STF Suite
            Schedule:       Every quarter-hour on weekdays between 02:00 and 16:00
            Environment:    AutoNetShip
            Type:           Regression test pass

            Executes a complete STF Regression test pass against the latest Main XSR build in AutoNetShip.
        -->
        <Job Name="Run Complete STF Suite" Build="XOnline_Main" Environment="AutoNetShip" Type="TestRun" Priority="Medium" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="02:00:00" EndTime="16:00:00" Weekdays="Monday,Tuesday,Wednesday,Thursday,Friday">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\Released.txt" TriggerUse="ContentOnly" IsRemote="true"/>
            </Schedule>
            <Report ToList="hyperadm" Condition="IfFailing" XsltName="DeploymentResults.xslt" />

            <TaskGroup Name="Setup Test Pass" Rollup="true" Condition="Always">
                <Task Name="Remove access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Remove" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
                <Task Name="Revert clients to a clean state" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##Client%" />
                        <ApplySnapshot SnapshotNameSpec="Clean%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60"/>

                <!-- The Tools need to be deployed to each client machine in order to execute the tools test suites -->
                <!--<Task Name="Create the config file for deploying Tools" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="Deploy_Tools_to_Clients.xml" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Configuration" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Customize the config file for deploying Tools" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##\Deploy_Tools_to_Clients.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="DeploymentInstance" Attribute="releaseName" NewValue="Summer 09" />
                        <Replace XPath="DeploymentInstance" Attribute="topologyName" NewValue="Expanded - Ops" />
                        <Replace XPath="//Server[@name='CLIENT001']" Attribute="name" NewValue="##EnvServerPrefix##CLIENT001" />
                        <Replace XPath="//Server[@name='CLIENT002']" Attribute="name" NewValue="##EnvServerPrefix##CLIENT002" />
                        <Replace XPath="//Server[@name='CLIENT003']" Attribute="name" NewValue="##EnvServerPrefix##CLIENT003" />
                        <Replace XPath="//Server[@name='CLIENT004']" Attribute="name" NewValue="##EnvServerPrefix##CLIENT004" />
                        <Replace XPath="//PropertyValue[@name='ENVIRONMENT_GLOBAL']" Attribute="value" NewValue="##Environment##" />
                        <Replace XPath="//PropertyValue[@name='NPDB_SVR_GLOBAL']" Attribute="value" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>-->
                <!-- Main branch only - the Site Configuration role is required on at least one server, but we don't need it in this case -->
                <!--<Task Name="Modify the service.xml file to remove the Site Configuration requirement" Module="FileStringReplaceModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp" FileSpec="service.xml" />
                        <Replace FindString="&quot;Site Configuration&quot; minServers=&quot;1&quot;" ReplaceString="&quot;Site Configuration&quot; minServers=&quot;0&quot;" IgnoreCase="true" />
                    </Parameters>
                </Task>-->
                <!-- Main branch only - We need to lay down the XblPlatform.msi first. This is done manually because the pre-reqs try to deploy too much stuff -->
                <!--<Task Name="Deploy the Live Tools to all clients" Module="OctopusTaskModule" Condition="IfPassing" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##\Deploy_Tools_to_Clients.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>-->

                <!-- Copy the STF Files from the deployment server to each Client. -->
                <Task Name="Stage STF to Client001" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                        <DestLocation Path="\\##EnvServerPrefix##Client001\d$\STF" />
                    </Parameters>
                </Task>
                <Task Name="Stage STF to Client002" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                        <DestLocation Path="\\##EnvServerPrefix##Client002\d$\STF" />
                    </Parameters>
                </Task>
                <Task Name="Stage STF to Client003" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                        <DestLocation Path="\\##EnvServerPrefix##Client003\d$\STF" />
                    </Parameters>
                </Task>
                <Task Name="Stage STF to Client004" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                        <DestLocation Path="\\##EnvServerPrefix##Client004\d$\STF" />
                    </Parameters>
                </Task>

                <!-- The copy of XblCore.dll that comes with STF needs to be installed on each client. -->
                <Task Name="Install XblCore.dll on Client001" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                        <RunAt Server="##EnvServerPrefix##Client001" />
                    </Parameters>
                </Task>
                <Task Name="Install XblCore.dll on Client002" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                        <RunAt Server="##EnvServerPrefix##Client002" />
                    </Parameters>
                </Task>
                <Task Name="Install XblCore.dll on Client003" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                        <RunAt Server="##EnvServerPrefix##Client003" />
                    </Parameters>
                </Task>
                <Task Name="Install XblCore.dll on Client004" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                        <RunAt Server="##EnvServerPrefix##Client004" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Execute Test Pass" Condition="IfPassing" Rollup="true">
                <Task Name="Run the Regression Test Pass" Module="TestPassTaskModule" Type="Remote" Condition="IfPassing" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <ResultXmlStylesheetName>TestSuiteSummary.xslt</ResultXmlStylesheetName>
                        <TestPass Env="##Environment##" Frequency="Regression" Build="##BuildName##" Version="##BuildVersion##">
                            <TimingDataPath>G:\SuiteTimings\##Environment##\##BuildName##</TimingDataPath>
                            <ClientResultPath>E:\TestPassResults\##BuildName##\##BuildVersion##\Regression</ClientResultPath>
                            <LocalResultPath>L:\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression</LocalResultPath>
                            <STFLocation>D:\STF</STFLocation>
                            <STFParams NoAsync="true" />
                            <SuiteTimeoutSeconds>43200</SuiteTimeoutSeconds>
                            <EnvironmentRequirements>Billing,Catalog,XDS,nCipher,TestFD,AAIFDReflector,Zune,NotOnXBLOB</EnvironmentRequirements>
                            <Clients>##EnvClientList##</Clients>
                            <Suites>
                                <!-- Live Foundation Test Suites -->
                                <Suite Name="AAGatewayTests" Architecture="32" />
                                <Suite Name="AAModuleTests" Architecture="32" />
                                <Suite Name="BehaviorInjection" Architecture="32" />
                                <Suite Name="CustTest-LF" Architecture="32" />
                                <Suite Name="GSToolTests" Architecture="32" />
                                <Suite Name="Hive" Architecture="32" />
                                <Suite Name="IFLICTest" Architecture="32" />
                                <Suite Name="LiveBVT" Architecture="32" />
                                <Suite Name="LiveMatchTest" Architecture="32" />
                                <Suite Name="LSPTest" Architecture="32" />
                                <Suite Name="MachineBanTest" Architecture="32" />
                                <Suite Name="MixSettingsManagementTest" Architecture="32" />
                                <Suite Name="MsgToolTest" Architecture="32" />
                                <Suite Name="ServiceDVT" Architecture="32" />
                                <Suite Name="SignatureTest" Architecture="32" />
                                <Suite Name="StorageWidget" Architecture="64" />
                                <Suite Name="StringServTest" Architecture="32" />
                                <Suite Name="StsFDTest" Architecture="32" />
                                <Suite Name="VortexSTF" Architecture="32" />
                                <Suite Name="XblConfigTest" Architecture="32" />
                                <Suite Name="XBOSTestV2-LF" Architecture="32" />
                                <Suite Name="xCrypto" Architecture="32" />
                                <Suite Name="XDSTest" Architecture="32" />
                                <Suite Name="XeUacs" Architecture="32" />
                                <Suite Name="XeXbosGamertag" Architecture="32" />
                                <Suite Name="XkdcTest" Architecture="32" />
                                <Suite Name="xonline.common.test.ConnectionSettings" Architecture="32" />
                                <Suite Name="xonline.common.test.HealthChecks" Architecture="32" />
                                <Suite Name="XrlScanTestSuite" Architecture="32" />
                                <Suite Name="XSGTest" Architecture="32" />
                                <Suite Name="XStoreTest" Architecture="32" />
                                <Suite Name="XTOU" Architecture="32" />
                                <!-- Community & Games Test Suites -->
                                <Suite Name="AccelTest" Architecture="32" />
                                <Suite Name="Achievement" Architecture="32" />
                                <Suite Name="Feedback" Architecture="32" />
                                <Suite Name="GamerSettings" Architecture="32" />
                                <Suite Name="MessagingTest" Architecture="32" />
                                <Suite Name="MixBetaManagement" Architecture="32" />
                                <Suite Name="MixMatchTest" Architecture="32" />
                                <Suite Name="MixStatsTest" Architecture="32" />
                                <Suite Name="MixStorage" Architecture="32" />
                                <Suite Name="MixTitleManagementTest" Architecture="32" />
                                <Suite Name="PresTest" Architecture="32" />
                                <Suite Name="PresWidgetTest" Architecture="64" />
                                <Suite Name="StatsFD" Architecture="32" />
                                <Suite Name="StatsWidgetv3" Architecture="64" />
                                <Suite Name="WcProfileTest" Architecture="32" />
                                <Suite Name="XArbTest" Architecture="32" />
                                <Suite Name="XBANCTest" Architecture="32" />
                                <Suite Name="XConnSrvTest" Architecture="32" />
                                <Suite Name="XMatchTest" Architecture="32" />
                                <!-- Marketplace Test Suites -->
                                <Suite Name="CatalogPurchaseTests" Architecture="32" />
                                <Suite Name="CatalogQueryTests" Architecture="32" />
                                <Suite Name="CustTest-MP" Architecture="32" />
                                <Suite Name="ListsFunc" Architecture="32" />
                                <Suite Name="OfferManagementTest" Architecture="32" />
                                <Suite Name="ProductManagementTest" Architecture="32" />
                                <Suite Name="RateMediaFDTest" Architecture="32" />
                                <Suite Name="SubscriptionFamilyServiceTest" Architecture="32" />
                                <Suite Name="TokenManagementTest" Architecture="32" />
                                <Suite Name="UacsTest" Architecture="32" />
                                <Suite Name="XBOSTestV2-MP" Architecture="32" />
                                <Suite Name="XcbkTest" Architecture="32" />
                                <Suite Name="XeMPUacs" Architecture="32" />
                                <Suite Name="XeXbosConsumable" Architecture="32" />
                                <Suite Name="XeXbosGameBrowsing" Architecture="32" />
                                <Suite Name="XeXbosOldContent" Architecture="32" />
                                <Suite Name="XeXbosPurchase" Architecture="32" />
                                <Suite Name="XeXbosSubscription" Architecture="32" />
                                <Suite Name="XeXbosToken" Architecture="32" />
                            </Suites>
                        </TestPass>
                    </Parameters>
                </Task>

                <!-- To publish the results to TFS, we need to copy the XML result files to the TFSLogs_Upload drop location -->
                <Task Name="Stage result files for TFS publishing" Module="FileTaskModule" Condition="IfPassing" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.xml" Recurse="false" Force="true" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="\\XLFINFRTLS001\TFSLogs_Upload" />
                    </Parameters>
                </Task>
                <Task Name="Restore access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Add" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Run Logs" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <Task Name="Send results email" Module="EmailTaskModule" Condition="IfPassing" Type="Local">
                <Parameters>
                    <MessageHeader ToList="xlftest,xlctest,xboxmtst" CcList="timki" />
                    <Subject>Test pass results for ##BuildName##[##BuildVersion##]</Subject>
                    <MessageBody Type="XML">
                        <MessageText Position="Top" Style="Callout">Test pass result logs can be found &lt;a href=&quot;##LogBase##\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression&quot;&gt;here.&lt;/a&gt;</MessageText>
                        <MessageText Position="Top" Style="Callout">All logs can be found &lt;a href=&quot;##LogBase##\##Environment##\##BuildName##\##BuildVersion##&quot;&gt;here.&lt;/a&gt;</MessageText>
                        <ContentSource Filename="##LogBase##\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\TestPassSummary.xml" Transform="##LogBase##\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\TestPassSummary.xslt" />
                    </MessageBody>
                </Parameters>
            </Task>
        </Job>

        <!--
            Job Name:       Update AutoNetStage with latest LKG build
            Schedule:       Every weekday at midnight
            Environment:    AutoNetStage
            Type:           Full deployment

            Deploys the latest R1 LKG build out of BVTNet into AutoNetStage in preparation for a full regression test pass.
        -->
        <Job Name="Update AutoNetStage with latest LKG build" Build="XOnline_R1" Environment="AutoNetStage" Type="Deployment" Priority="Medium" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="Weekly" Frequency="1" Weekdays="Monday,Tuesday,Wednesday,Thursday,Friday" StartTime="00:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\LastKnownGood\##BuildName##\Expanded\??.??.????.??" IsRemote="true"/>
            </Schedule>
            <Report ToList="hyperadm" Condition="Always" XsltName="DeploymentResults.xslt" />

            <TaskGroup Name="Stage LKG build to the AutoNetStage folder" Rollup="true">
                <Task Name="Delete old AutoNetStage LKG bits" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy LKG bits to the AutoNetStage folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\Expanded" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create the AutoNetStage environment" Condition="IfPassing" Rollup="false">
                <Task Name="Copy the BVTNet database deployment files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="deployment_bvtnet.xml" NewFileName="deployment_##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific Genealogy update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\genealogy\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\genealogy\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific UODB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\uodb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\uodb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific WebDB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\webdb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\webdb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Modify the database deployment files to point to the correct servers" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" FileSpec="deployment_##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="true" />
                        <Replace FindString="BVT" ReplaceString="##EnvServerPrefix##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB prodbase .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB upgrade .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Change the service.xml file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" FileSpec="service.xml" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Update the name of the XCBK cert in the site.xml file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\Secure\##Environment##\site.xml" />
                        <Replace XPath="Site/Certificates/SSLCert[@Identifier='ssl.spsxcbk']" Attribute="File" NewValue="##EnvPoolIISIp##.pfx" />
                    </Parameters>
                </Task>
                <Task Name="Create the Octopus config file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="bvtnet.xml" NewFileName="##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Change the user names in the Octopus config file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" FileSpec="##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="false" />
                    </Parameters>
                </Task>
                <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="//Server[@name='BVTXALLSQL001']" Attribute="name" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//Server[@name='BVTXALLSQL002']" Attribute="name" NewValue="##EnvAllSQL2##" />
                        <Replace XPath="//Server[@name='BVTMSTRSQL001']" Attribute="name" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//Server[@name='BVTCATRSQL001']" Attribute="name" NewValue="##EnvCatrSQL##" />
                        <Replace XPath="//Server[@name='BVTINFRTLS001']" Attribute="name" NewValue="##EnvInfrTLS##" />
                        <Replace XPath="//Server[@name='BVTPOOLIIS001']" Attribute="name" NewValue="##EnvPoolIIS##" />
                        <Replace XPath="//Server[@name='BVTPOOLINH001']" Attribute="name" NewValue="##EnvPoolINH##" />
                        <Replace XPath="//Server[@name='BVTSECUINH001']" Attribute="name" NewValue="##EnvSecuINH##" />
                        <Replace XPath="//PropertyValue[@name='Environment']" Attribute="value" NewValue="##Environment##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_BEGIN']" Attribute="value" NewValue="##EnvClientPoolIpBegin##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_END']" Attribute="value" NewValue="##EnvClientPoolIpEnd##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_NETMASK']" Attribute="value" NewValue="##EnvClientPoolNetmask##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_GATEWAY']" Attribute="value" NewValue="##EnvClientPoolGateway##" />
                        <Replace XPath="//PropertyValue[@name='SG_ADMIN_IP']" Attribute="value" NewValue="##EnvSGAdminIp##" />
                        <Replace XPath="//PropertyValue[@name='SG_INTERNET_IP']" Attribute="value" NewValue="##EnvSGInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='XDS_INTERNET_IP']" Attribute="value" NewValue="##EnvXDSInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='NpdbServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//PropertyValue[@name='Site.DataFolder']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='CatalogPublisher']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='CatalogDistributor']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='LegacyOfferServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Update the TPPSettings file for the new environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\deployment\titleproppro\tppsettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='BVTNet']" Attribute="Name" NewValue="##Environment##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitlePropLogs" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LBSvr" NewValue="##EnvPoolINH##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/MatchSvr" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Set the NPDB location in STF.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Set up LiveLib.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                        <AddElement XPath="livelib/environments">
                            <environment name="##Environment##-int" type="DirectAccess">
                                <defaultSchemaVersion major="6" minor="0" />
                                <ipaddresses>
                                    <ipaddress svcId="1" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_presence" />
                                    <ipaddress svcId="2" host="##EnvPoolIIS##" transactionType="FD" vifc="stringsvr" />
                                    <ipaddress svcId="4" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_base_subscription" />
                                    <ipaddress svcId="5" host="##EnvPoolIIS##" transactionType="FD" vifc="xuacs" />
                                    <ipaddress svcId="6" host="##EnvPoolIIS##" transactionType="FD" vifc="xmatchfd" />
                                    <ipaddress svcId="7" host="##EnvPoolIIS##" transactionType="FD" vifc="xstatsfd" />
                                    <ipaddress svcId="8" host="##EnvPoolIIS##" transactionType="FD" vifc="fbserver" />
                                    <ipaddress svcId="9" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_billing_offering" />
                                    <ipaddress svcId="10" host="##EnvPoolIIS##" transactionType="FD" />
                                    <ipaddress svcId="11" host="##EnvPoolIIS##" transactionType="FD" vifc="xtou" />
                                    <ipaddress svcId="12" host="##EnvPoolIIS##" transactionType="FD" vifc="xsig" />
                                    <ipaddress svcId="13" host="##EnvPoolIIS##" transactionType="FD" vifc="xqry" />
                                    <ipaddress svcId="14" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_name_resolution" />
                                    <ipaddress svcId="15" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_storage" />
                                    <ipaddress svcId="16" host="##EnvPoolIIS##" transactionType="FD" vifc="xarb" />
                                    <ipaddress svcId="18" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_messaging" />
                                    <ipaddress svcId="19" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_teams" />
                                    <ipaddress svcId="21" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_drm" />
                                    <ipaddress svcId="26" host="0.0.0.0" transactionType="FD" vifc="xconnsrv" />
                                    <ipaddress svcId="175" host="##EnvCatalogIp##" transactionType="Http" vifc="catalog" />
                                    <ipaddress svcId="176" host="##EnvPoolIIS##" transactionType="Http" vifc="web billing" />
                                    <ipaddress svcId="177" host="##EnvPoolIIS##" transactionType="AA" />
                                    <ipaddress svcId="178" host="##EnvPoolIIS##" transactionType="Http" />
                                    <ipaddress svcId="181" host="##EnvSecuINH##" transactionType="FD" vifc="authsg" />
                                </ipaddresses>
                            </environment>
                        </AddElement>
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Pre-Deployment tasks" Condition="IfPassing" Rollup="true">
                <Task Name="Restore base snapshots" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <ApplySnapshot SnapshotNameSpec="Ready for Deployment%" />
                    </Parameters>
                </Task>
                <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>HxHyperC2B10</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##Environment## Billing One Box" />
                        <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Ensure DAService has started" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="172.19.144.64" />
                    <Parameter Name="Services" Value="DAService" />
                    <Parameter Name="UserName" Value="VM1BoxDom\Administrator" />
                    <Parameter Name="Password" Value="#Bugsfor$" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Fix up the Temporal Partition on the Billing 1-box" Module="CommandLineTaskModule" Type="Remote">
                    <Parameters>
                        <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="true" CaptureOutput="false" />
                        <RunAt Server="172.19.144.64" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                    </Parameters>
                </Task>
                <!-- Enable the Geo Segmentation service -->
                <Task Name="Copy GeoFencing data file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                        <SourceLocation Path="G:\Stage\GeoFencing" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\Webroot\Geo\Data" />
                    </Parameters>
                </Task>
                <Task Name="Ensure the Geo Segmentation Service is started" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Restart" />
                    <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                    <Parameter Name="Services" Value="Geo Segmentation Service 2.2" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='LogRootDir']" Attribute="value" NewValue="E:\Logroot" />
                    </Parameters>
                </Task>
                <Task Name="Install Xbox LIVE Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Environment Configuration" Condition="IfPassing" Rollup="true">
                <!-- Update the AAIFDReflector -->
                <Task Name="Update the AAIFDReflector files on the SecuINH server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests\SuitesData\AAIFDReflector" />
                        <DestLocation Path="\\##EnvSecuINH##\d$\webroot\ActiveAuthTest" />
                    </Parameters>
                </Task>
                <Task Name="Recycle the AAIFDReflector App Pool" Module="IISTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="AppPools" Value="ActiveAuthTest" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>

                <!-- Deploy the LiveSignup app to the PoolIIS server -->
                <Task Name="Deploy LiveSignup" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\Stage\LiveSignup" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\webroot\xtou\xedl\LiveSignup" />
                    </Parameters>
                </Task>

                <!-- Update virtual interface IPs -->
                <Task Name="Add the fastEspMarketplaceSearch virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'fastEspMarketplaceSearch','##EnvPoolIISIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the FECatalogDBZune virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_ips set vc_ip='172.19.144.75' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='fecatalogdbzune'</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_A virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_A','172.19.144.75',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_B virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_B','172.19.144.75',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBWatcher" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBWatcher','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBXbox" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBXbox','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>

                <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
                <Task Name="Update the ContentDownload port to 3074 in t_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the ContentDownload port to 3074 in t_virtual_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_virtual_interface 'download','download',@port=3074,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>

                <!-- Update environment-specific settings overrides -->
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testContentType','4edb3445-d489-4f3f-9760-55f1a85dfe3a','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings user PUID" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testUserPuid','985160330844665','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type mappings" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false"><![CDATA[exec p_config_add_setting_override 'ratings_contenttype_mapping','<root><contentTypeMapping mediatype="1" contentTypeId="596d1667-572a-4611-9f87-a5d3edf45b36"/><contentTypeMapping mediatype="18" contentTypeId="faa29126-f880-444a-b951-01a4a8dce301"/><contentTypeMapping mediatype="19" contentTypeId="d180a26c-a2a4-4d7b-9094-3a12725447b5"/><contentTypeMapping mediatype="20" contentTypeId="3fe2a114-98c8-4881-bc7a-aaf16c2cab9c"/><contentTypeMapping mediatype="21" contentTypeId="3d6ada32-2733-4d41-b67c-e325f643c25f"/><contentTypeMapping mediatype="22" contentTypeId="7a1e9a32-4828-4180-9127-72e06435b553"/><contentTypeMapping mediatype="23" contentTypeId="d7da7178-06f4-4728-959c-d5ce6bf6f5a1"/><contentTypeMapping mediatype="30" contentTypeId="e9c2dbae-022f-49d2-816e-dc1604ed8aca"/><contentTypeMapping mediatype="34" contentTypeId="0ea3aa76-ae84-48cb-b9fc-32901f0191ae"/><contentTypeMapping mediatype="37" contentTypeId="c01942e6-de53-4eb6-92a4-7316a47a4c57"/><contentTypeMapping mediatype="47" contentTypeId="d0d510b6-43fa-4bcf-98e9-1c354f68fbbc"/></root>','##Environment##','ALL',-1,'ALL',1]]></Query>
                    </Parameters>
                </Task>
                <Task Name="Override the XCBK certificate name" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xcbk_sslCertSubject','##EnvPoolIISIp##','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download URL" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_overrides set vc_info1='##EnvINHInternetIp##' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='download'</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download Content Directory location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'download_contentDirectory','F:\contentDownload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for game offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_offerGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for video offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_videoGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <!--<Task Name="Enable nCipher for the KDC" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'kdcsvc_xmacs_useNCipher','1','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>-->
                <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the WCToolsMgmtUpload location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'wctoolsmgmt_uploadPathRoot','\\##EnvSecuINH##\toolsmgmtupload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>

                <!-- Update environment-specific LiveHive settings -->
                <Task Name="Update the AvatarPictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarPictureUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarAssetUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarAssetUriRoot','http://##EnvINHInternetIp##:3074/content'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the UpdateUriRoot1 LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','UpdateUriRoot1','http://##EnvINHInternetIp##:3074/content'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the StoragePictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','StoragePictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixAvatarConfigPath LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixAvatarConfigPath','/shaXam/0303/dd/dd/dddd060f-1cb5-42a9-8fc9-30bff45e81c9.txt'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixPreviewUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixPreviewUriRoot','http://10.198.102.130'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixUriRoot','http://10.198.102.97:51109'</Query>
                    </Parameters>
                </Task>

                <!-- Ensure all NT Services are started and restart the PoolIIS server -->
                <Task Name="Ensure services on the PoolINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,PresenceCache,ProfileCache,NotificationCache" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Reboot the SecuINH server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvSecuINH##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Reboot the PoolIIS server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvPoolIIS##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Prop BVT Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\d$\WebRoot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="5" />
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" ErrorsAreFatal="false" />
                        <RunAt Server="##EnvInfrTLS##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##">
                            <ExcludeComponent Name="wcdebugtest" />
                            <ExcludeComponent Name="cron" />
                        </HealthCheckList>
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Red">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CatalogWatcherPlugin" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Could not resolve Contentdistributor</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="marketplacecatalog" HealthStatus="Yellow">
                                <HealthBlockException Name="MarketplaceCatalogHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Failed to fetch Search View</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="lbsvr" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Leaderboard server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarb" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xarbinh" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">the specified performance counter 'Xbox Arbitration Server: Session Buckets' does not exist</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Run LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT\LiveLKG.xml" />
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Prop Remaining Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Prop Acceptance Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Acceptance" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
                <Task Name="Prop Extended Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Extended" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create final snapshots" Rollup="false" Condition="Always">
                <Task Name="Delete the old Last Good Deployment snapshot" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <DeleteSnapshot SnapshotNameSpec="LGD: ##BuildName##%" />
                    </Parameters>
                </Task>
                <Task Name="Create new Last Good Deployment snapshot" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <CreateSnapshot NewSnapshotName="LGD: ##BuildName## ##BuildVersion##" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Create failed snapshots" Module="VMTaskModule" Type="Local" Condition="IfFailing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - Deployment Failed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Give all users access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfFailing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Add" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
            </TaskGroup>
            
            <TaskGroup Name="Release the Environment" Condition="IfPassing" Rollup="false">
                <Task Name="Delete old trigger file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" FileSpec="Released.txt" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Create new trigger file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Create" FileSpec="Released.txt">
                            <FileContents>##BuildVersion##</FileContents>
                        </FileCommand>
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull Marketplace test data logs from the MstrSQL server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                    </Parameters>
                </Task>
                <Task Name="Copy the changes.txt file" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="changes.txt" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>
        </Job>

        <!--
            Job Name:       Run Complete Regression Test Pass
            Schedule:       Every quarter-hour on weekdays between 02:00 and 14:00
            Environment:    AutoNetStage
            Type:           Regression test pass

            Executes a complete STF Regression test pass against the LKG R1 build in AutoNetStage.
        -->
        <Job Name="Run Complete Regression Test Pass" Build="XOnline_R1" Environment="AutoNetStage" Type="TestRun" Priority="Medium" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="02:00:00" EndTime="14:00:00" Weekdays="Monday,Tuesday,Wednesday,Thursday,Friday">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\Released.txt" TriggerUse="ContentOnly" IsRemote="true"/>
            </Schedule>
            <Report ToList="HyperAdm" Condition="IfFailing" XsltName="DeploymentResults.xslt" />

            <TaskGroup Name="Setup Test Pass" Rollup="true" Condition="Always">
                <Task Name="Remove access permissions to the client machines" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Remove" Name="##Environment##-LocalAdmin-All" MemberOf="##Environment##-LocalAdmin-Client" />
                    </Parameters>
                </Task>
                <Task Name="Revert clients to a clean state" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##Client%" />
                        <ApplySnapshot SnapshotNameSpec="Clean%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60"/>

                <!-- The Tools need to be deployed to each client machine in order to execute the tools test suites -->
                <!--<Task Name="Create the config file for deploying Tools" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="Deploy_Tools_to_Clients.xml" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Configuration" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Customize the config file for deploying Tools" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\Deploy_Tools_to_Clients.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="DeploymentInstance" Attribute="releaseName" NewValue="Xbox Live Service" />
                        <Replace XPath="DeploymentInstance" Attribute="topologyName" NewValue="Expanded - Ops" />
                        <Replace XPath="//Server[@name='CLIENT001']" Attribute="name" NewValue="##EnvServerPrefix##CLIENT001" />
                        <Replace XPath="//Server[@name='CLIENT002']" Attribute="name" NewValue="##EnvServerPrefix##CLIENT002" />
                        <Replace XPath="//Server[@name='CLIENT003']" Attribute="name" NewValue="##EnvServerPrefix##CLIENT003" />
                        <Replace XPath="//Server[@name='CLIENT004']" Attribute="name" NewValue="##EnvServerPrefix##CLIENT004" />
                        <Replace XPath="//PropertyValue[@name='ENVIRONMENT_GLOBAL']" Attribute="value" NewValue="##Environment##" />
                        <Replace XPath="//PropertyValue[@name='NPDB_SVR_GLOBAL']" Attribute="value" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Deploy the Live Tools to all clients" Module="OctopusTaskModule" Condition="IfPassing" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\Deploy_Tools_to_Clients.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>-->

                <!-- Copy the STF Files from the deployment server to each Client. -->
                <Task Name="Stage STF to Client001" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                        <DestLocation Path="\\##EnvServerPrefix##Client001\d$\STF" />
                    </Parameters>
                </Task>
                <Task Name="Stage STF to Client002" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                        <DestLocation Path="\\##EnvServerPrefix##Client002\d$\STF" />
                    </Parameters>
                </Task>
                <Task Name="Stage STF to Client003" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                        <DestLocation Path="\\##EnvServerPrefix##Client003\d$\STF" />
                    </Parameters>
                </Task>
                <Task Name="Stage STF to Client004" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                        <DestLocation Path="\\##EnvServerPrefix##Client004\d$\STF" />
                    </Parameters>
                </Task>

                <!-- The copy of XblCore.dll that comes with STF needs to be installed on each client. -->
                <Task Name="Install XblCore.dll on Client001" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                        <RunAt Server="##EnvServerPrefix##Client001" />
                    </Parameters>
                </Task>
                <Task Name="Install XblCore.dll on Client002" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                        <RunAt Server="##EnvServerPrefix##Client002" />
                    </Parameters>
                </Task>
                <Task Name="Install XblCore.dll on Client003" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                        <RunAt Server="##EnvServerPrefix##Client003" />
                    </Parameters>
                </Task>
                <Task Name="Install XblCore.dll on Client004" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                        <RunAt Server="##EnvServerPrefix##Client004" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Execute Test Pass" Condition="IfPassing" Rollup="true">
                <Task Name="Run the Regression Test Pass" Module="TestPassTaskModule" Type="Remote" Condition="IfPassing" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <ResultXmlStylesheetName>TestSuiteSummary.xslt</ResultXmlStylesheetName>
                        <TestPass Env="##Environment##" Frequency="Regression" Build="##BuildName##" Version="##BuildVersion##" CutoffTime="23:00">
                            <TimingDataPath>G:\SuiteTimings\##Environment##\##BuildName##</TimingDataPath>
                            <ClientResultPath>E:\TestPassResults\##BuildName##\##BuildVersion##\Regression</ClientResultPath>
                            <LocalResultPath>L:\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression</LocalResultPath>
                            <STFLocation>D:\STF</STFLocation>
                            <STFParams NoAsync="true" />
                            <SuiteTimeoutSeconds>18000</SuiteTimeoutSeconds>
                            <EnvironmentRequirements>Billing,Catalog,XDS,nCipher,TestFD,AAIFDReflector,XTOU,Zune,NotOnXBLOB</EnvironmentRequirements>
                            <Clients>##EnvClientList##</Clients>
                            <Suites>
                                <!-- Live Foundation Test Suites -->
                                <Suite Name="AAGatewayTests" Architecture="32" />
                                <Suite Name="AAModuleTests" Architecture="32" />
                                <Suite Name="BehaviorInjection" Architecture="32" />
                                <Suite Name="CustTest-LF" Architecture="32" />
                                <Suite Name="GSToolTests" Architecture="32" />
                                <Suite Name="Hive" Architecture="32" />
                                <Suite Name="IFLICTest" Architecture="32" />
                                <Suite Name="LiveBVT" Architecture="32" />
                                <Suite Name="LiveMatchTest" Architecture="32" />
                                <Suite Name="LSPTest" Architecture="32" />
                                <Suite Name="MachineBanTest" Architecture="32" />
                                <Suite Name="MixSettingsManagementTest" Architecture="32" />
                                <Suite Name="MsgToolTest" Architecture="32" />
                                <Suite Name="SignatureTest" Architecture="32" />
                                <Suite Name="ServiceDVT" Architecture="32" />
                                <Suite Name="StorageWidget" Architecture="64" />
                                <Suite Name="StringServTest" Architecture="32" />
                                <Suite Name="StsFDTest" Architecture="32" />
                                <Suite Name="UacsTest-LF" Architecture="32" />
                                <suite Name="VortexSTF" Architecture="32" />
                                <Suite Name="XblConfigTest" Architecture="32" />
                                <Suite Name="XBOSTestV2-LF" Architecture="32" />
                                <Suite Name="xCrypto" Architecture="32" />
                                <Suite Name="XDSTest" Architecture="32" />
                                <Suite Name="XeUacs" Architecture="32" />
                                <Suite Name="XeXbosGamertag" Architecture="32" />
                                <Suite Name="XkdcTest" Architecture="32" />
                                <Suite Name="XmgmtTest" Architecture="32" />
                                <Suite Name="xonline.common.test.ConnectionSettings" Architecture="32" />
                                <Suite Name="xonline.common.test.HealthChecks" Architecture="32" />
                                <Suite Name="XrlScanTestSuite" Architecture="32" />
                                <Suite Name="XSGTest" Architecture="32" />
                                <Suite Name="XStoreTest" Architecture="32" />
                                <Suite Name="XTOU" Architecture="32" />
                                <!-- Community & Games Test Suites -->
                                <Suite Name="AccelTest" Architecture="32" />
                                <Suite Name="Achievement" Architecture="32" />
                                <Suite Name="Feedback" Architecture="32" />
                                <Suite Name="GamerSettings" Architecture="32" />
                                <Suite Name="MessagingTest" Architecture="32" />
                                <Suite Name="MixBetaManagement" Architecture="32" />
                                <Suite Name="MixMatchTest" Architecture="32" />
                                <Suite Name="MixStatsTest" Architecture="32" />
                                <Suite Name="MixStorage" Architecture="32" />
                                <Suite Name="MixTitleManagementTest" Architecture="32" />
                                <Suite Name="PresTest" Architecture="32" />
                                <Suite Name="PresWidgetTest" Architecture="64" />
                                <Suite Name="StatsFD" Architecture="32" />
                                <Suite Name="StatsWidgetv3" Architecture="32" />
                                <Suite Name="WcProfileTest" Architecture="32" />
                                <Suite Name="XArbTest" Architecture="32" />
                                <Suite Name="XBANCTest" Architecture="32" />
                                <Suite Name="XConnSrvTest" Architecture="32" />
                                <Suite Name="XMatchTest" Architecture="32" />
                                <!-- Marketplace Test Suites -->
                                <Suite Name="CatalogPurchaseTests" Architecture="32" />
                                <Suite Name="CatalogQueryTests" Architecture="32" />
                                <Suite Name="CustTest-MP" Architecture="32" />
                                <Suite Name="ListsFunc" Architecture="32" />
                                <Suite Name="OfferManagementTest" Architecture="32" />
                                <Suite Name="ProductManagementTest" Architecture="32" />
                                <Suite Name="RateMediaFDTest" Architecture="32" />
                                <Suite Name="SubscriptionFamilyServiceTest" Architecture="32" />
                                <Suite Name="TokenManagementTest" Architecture="32" />
                                <Suite Name="UacsTest-MP" Architecture="32" />
                                <Suite Name="XBOSTestV2-MP" Architecture="32" />
                                <Suite Name="XcbkTest" Architecture="32" />
                                <Suite Name="XeMPUacs" Architecture="32" />
                                <Suite Name="XeXbosConsumable" Architecture="32" />
                                <Suite Name="XeXbosGameBrowsing" Architecture="32" />
                                <Suite Name="XeXbosOldContent" Architecture="32" />
                                <Suite Name="XeXbosPurchase" Architecture="32" />
                                <Suite Name="XeXbosSubscription" Architecture="32" />
                                <Suite Name="XeXbosToken" Architecture="32" />
                            </Suites>
                        </TestPass>
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather log files" Condition="IfPassing" Rollup="true">
                <!-- To publish the results to TFS, we need to copy the XML result files to the TFSLogs_Upload drop location -->
                <Task Name="Stage result files for TFS publishing" Module="FileTaskModule" Condition="IfPassing" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.xml" Recurse="false" Force="true" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="\\XLFINFRTLS001\TFSLogs_Upload" />
                    </Parameters>
                </Task>

                <!-- Copy the Serialized Results xml files off each client machine -->
                <Task Name="Copy Serialized Results files from Client 001" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvServerPrefix##Client001\d$\STF\FuncOutput\SerializedRunResults" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\SerializedRunResults" />
                    </Parameters>
                </Task>
                <Task Name="Copy Serialized Results files from Client 002" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvServerPrefix##Client002\d$\STF\FuncOutput\SerializedRunResults" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\SerializedRunResults" />
                    </Parameters>
                </Task>
                <Task Name="Copy Serialized Results files from Client 003" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvServerPrefix##Client003\d$\STF\FuncOutput\SerializedRunResults" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\SerializedRunResults" />
                    </Parameters>
                </Task>
                <Task Name="Copy Serialized Results files from Client 004" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvServerPrefix##Client004\d$\STF\FuncOutput\SerializedRunResults" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\SerializedRunResults" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Run Logs" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <Task Name="Restore access permissions to the client machines" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Options Domain="hyper.live" />
                    <SecurityGroup Action="Add" Name="##Environment##-LocalAdmin-All" MemberOf="##Environment##-LocalAdmin-Client" />
                </Parameters>
            </Task>

            <Task Name="Send results email" Module="EmailTaskModule" Condition="IfPassing" Type="Local">
                <Parameters>
                    <MessageHeader ToList="xlftest,xlctest,xboxmtst" CcList="timki" />
                    <Subject>Test pass results for ##BuildName##[##BuildVersion##]</Subject>
                    <MessageBody Type="XML">
                        <MessageText Position="Top" Style="Callout">Test pass result logs can be found &lt;a href=&quot;##LogBase##\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression&quot;&gt;here.&lt;/a&gt;</MessageText>
                        <MessageText Position="Top" Style="Callout">All logs can be found &lt;a href=&quot;##LogBase##\##Environment##\##BuildName##\##BuildVersion##&quot;&gt;here.&lt;/a&gt;</MessageText>
                        <ContentSource Filename="##LogBase##\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\TestPassSummary.xml" Transform="##LogBase##\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\TestPassSummary.xslt" />
                    </MessageBody>
                </Parameters>
            </Task>
        </Job>

        <!--
            Job Name:       Update AutoNet with latest LKG build
            Schedule:       Every weekday at midnight
            Environment:    AutoNet
            Type:           Full deployment

            Deploys the latest R2 LKG build out of BVTNet into AutoNet in preparation for a full regression test pass.
        -->
        <Job Name="Update AutoNet with latest LKG build" Build="XOnline_R2" Environment="AutoNet" Type="Deployment" Priority="Medium" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="Weekly" Frequency="1" Weekdays="Monday,Tuesday,Wednesday,Thursday,Friday" StartTime="00:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\LastKnownGood\##BuildName##\Expanded\??.??.????.??" IsRemote="true"/>
            </Schedule>
            <Report ToList="HyperAdm" Condition="Always" XsltName="DeploymentResults.xslt" />

            <TaskGroup Name="Stage LKG build to AutoNet" Rollup="true">
                <Task Name="Delete old AutoNet LKG bits" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy LKG bits to the AutoNet folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\Expanded" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="\\##StagerName##\Prod Backups\Catalog\RawCatalogDBProdBackup.bak" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create the AutoNet environment" Condition="IfPassing" Rollup="false">
                <Task Name="Copy the BVTNet database deployment files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="deployment_bvtnet.xml" NewFileName="deployment_##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific Genealogy update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\genealogy\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\genealogy\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific UODB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\uodb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\uodb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific WebDB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\webdb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\webdb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Modify the database deployment files to point to the correct servers" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" FileSpec="deployment_##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="true" />
                        <Replace FindString="BVT" ReplaceString="##EnvServerPrefix##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB prodbase .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB upgrade .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Change the service.xml file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" FileSpec="service.xml" />
                        <Replace FindString="autonet" ReplaceString="##Environment##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Update the name of the XCBK cert in the site.xml file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\Secure\##Environment##\site.xml" />
                        <Replace XPath="Site/Certificates/SSLCert[@Identifier='ssl.spsxcbk']" Attribute="File" NewValue="##EnvPoolIISIp##.pfx" />
                    </Parameters>
                </Task>
                <Task Name="Create the Octopus config file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="bvtnet.xml" NewFileName="##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\hypernet" />
                    </Parameters>
                </Task>
                <Task Name="Change the user names in the Octopus config file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\hypernet" FileSpec="##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="false" />
                    </Parameters>
                </Task>
                <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\hypernet\##Environment##.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="//Server[@name='BVTXALLSQL001']" Attribute="name" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//Server[@name='BVTXALLSQL002']" Attribute="name" NewValue="##EnvAllSQL2##" />
                        <Replace XPath="//Server[@name='BVTMSTRSQL001']" Attribute="name" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//Server[@name='BVTCATRSQL001']" Attribute="name" NewValue="##EnvCatrSQL##" />
                        <Replace XPath="//Server[@name='BVTINFRTLS001']" Attribute="name" NewValue="##EnvInfrTLS##" />
                        <Replace XPath="//Server[@name='BVTPOOLIIS001']" Attribute="name" NewValue="##EnvPoolIIS##" />
                        <Replace XPath="//Server[@name='BVTPOOLINH001']" Attribute="name" NewValue="##EnvPoolINH##" />
                        <Replace XPath="//Server[@name='BVTSECUINH001']" Attribute="name" NewValue="##EnvSecuINH##" />
                        <Replace XPath="//PropertyValue[@name='Environment']" Attribute="value" NewValue="##Environment##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_BEGIN']" Attribute="value" NewValue="##EnvClientPoolIpBegin##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_END']" Attribute="value" NewValue="##EnvClientPoolIpEnd##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_NETMASK']" Attribute="value" NewValue="##EnvClientPoolNetmask##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_GATEWAY']" Attribute="value" NewValue="##EnvClientPoolGateway##" />
                        <Replace XPath="//PropertyValue[@name='SG_ADMIN_IP']" Attribute="value" NewValue="##EnvSGAdminIp##" />
                        <Replace XPath="//PropertyValue[@name='SG_INTERNET_IP']" Attribute="value" NewValue="##EnvSGInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='XDS_INTERNET_IP']" Attribute="value" NewValue="##EnvXDSInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='NpdbServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//PropertyValue[@name='Site.DataFolder']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='CatalogPublisher']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='CatalogDistributor']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='LegacyOfferServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Pre-Deployment Tasks" Condition="IfPassing" Rollup="false">
                <Task Name="Restore base snapshots" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <ApplySnapshot SnapshotNameSpec="Ready for Deployment%" />
                    </Parameters>
                </Task>
                <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>HxHyperC1B9</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##Environment## Billing One Box" />
                        <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Ensure DAService has started" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="172.19.144.58" />
                    <Parameter Name="Services" Value="DAService" />
                    <Parameter Name="UserName" Value="VM1BoxDom\Administrator" />
                    <Parameter Name="Password" Value="#Bugsfor$" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Fix up the Temporal Partition on the Billing 1-box" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="true" CaptureOutput="false" />
                        <RunAt Server="172.19.144.58" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                    </Parameters>
                </Task>
                <!-- Update the GeoFencing data file to avoid the GeoFencing health block warning -->
                <Task Name="Update the GeoFencing data file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                        <SourceLocation Path="G:\Stage\GeoFencing" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\Webroot\Geo\Data" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Install Xbox LIVE" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\HyperNet\##Environment##.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Environment Configuration" Rollup="true" Condition="IfPassing">
                <!-- Update the AAIFDReflector -->
                <Task Name="Update the AAIFDReflector files on the SecuINH server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests\SuitesData\AAIFDReflector" />
                        <DestLocation Path="\\##EnvSecuINH##\d$\webroot\ActiveAuthTest" />
                    </Parameters>
                </Task>

                <!-- Copy the SG ini file to the SecuINH server -->
                <Task Name="Copy SG ini file to the SecuINH server" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="sgkey_site1_ver1.ini" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\secure-##Environment##$" />
                        <DestLocation Path="\\##EnvSecuINH##\d$\webroot\sgcfg" />
                    </Parameters>
                </Task>

                <!-- Deploy the LiveSignup app to the PoolIIS server -->
                <Task Name="Deploy LiveSignup" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\Stage\LiveSignup" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\webroot\xtou\xedl\LiveSignup" />
                    </Parameters>
                </Task>

                <!-- Update virtual interface IPs -->
                <Task Name="Add the fastEspMarketplaceSearch virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'fastEspMarketplaceSearch','##EnvPoolIISIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the FECatalogDBZune virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_ips set vc_ip='172.19.144.75' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='fecatalogdbzune'</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_A virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_A','172.19.144.75',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_B virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_B','172.19.144.75',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBWatcher" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBWatcher','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBXbox" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBXbox','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>

                <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
                <Task Name="Update the ContentDownload port to 3074 in t_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the ContentDownload port to 3074 in t_virtual_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_virtual_interface 'download','download',@port=3074,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>

                <!-- Add ContentIngestion to the allowed XRL list -->
                <Task Name="Add ContentIngestion to the list of allowed XRLs" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">INSERT INTO t_xrl_virtual_interface_mappings(vc_environment,vc_xrl,vc_virtual_interface,ti_xrlscan,ti_websg,ti_livepxy,i_max_url_length,i_max_content_length,i_max_query_string_length,ti_allow_text_xml_type,ti_dont_get_sg_info,ti_allow_no_exact_match,ti_authsg,ti_block_limited_pc_account) VALUES (N'ALL',N'/contentIngestion/health.ashx',N'contentIngestion',1,0,0,100,0,400,0,1,0,0,0)</Query>
                    </Parameters>
                </Task>

                <!-- Update environment-specific settings overrides -->
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testContentType','4edb3445-d489-4f3f-9760-55f1a85dfe3a','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings user PUID" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testUserPuid','985160330844665','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type mappings" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false"><![CDATA[exec p_config_add_setting_override 'ratings_contenttype_mapping','<root><contentTypeMapping mediatype="1" contentTypeId="596d1667-572a-4611-9f87-a5d3edf45b36"/><contentTypeMapping mediatype="18" contentTypeId="faa29126-f880-444a-b951-01a4a8dce301"/><contentTypeMapping mediatype="19" contentTypeId="d180a26c-a2a4-4d7b-9094-3a12725447b5"/><contentTypeMapping mediatype="20" contentTypeId="3fe2a114-98c8-4881-bc7a-aaf16c2cab9c"/><contentTypeMapping mediatype="21" contentTypeId="3d6ada32-2733-4d41-b67c-e325f643c25f"/><contentTypeMapping mediatype="22" contentTypeId="7a1e9a32-4828-4180-9127-72e06435b553"/><contentTypeMapping mediatype="23" contentTypeId="d7da7178-06f4-4728-959c-d5ce6bf6f5a1"/><contentTypeMapping mediatype="30" contentTypeId="e9c2dbae-022f-49d2-816e-dc1604ed8aca"/><contentTypeMapping mediatype="34" contentTypeId="0ea3aa76-ae84-48cb-b9fc-32901f0191ae"/><contentTypeMapping mediatype="37" contentTypeId="c01942e6-de53-4eb6-92a4-7316a47a4c57"/><contentTypeMapping mediatype="47" contentTypeId="d0d510b6-43fa-4bcf-98e9-1c354f68fbbc"/></root>','##Environment##','ALL',-1,'ALL',1]]></Query>
                    </Parameters>
                </Task>
                <Task Name="Override the XCBK certificate name" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xcbk_sslCertSubject','##EnvPoolIISIp##','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download URL" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_overrides set vc_info1='##EnvINHInternetIp##' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='download'</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download Content Directory location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'download_contentDirectory','F:\contentDownload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for game offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_offerGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for video offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_videoGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable nCipher for the KDC" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'kdcsvc_xmacs_useNCipher','1','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable the DebugResult setting for XArb" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xarb_EnableDebugResult','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the WCToolsMgmtUpload location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'wctoolsmgmt_uploadPathRoot','\\##EnvSecuINH##\toolsmgmtupload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>

                <!-- Update environment-specific LiveHive settings -->
                <Task Name="Update the AvatarPictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarPictureUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarAssetUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarAssetUriRoot','http://##EnvINHInternetIp##:3074/content'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the StoragePictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','StoragePictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixAvatarConfigPath LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixAvatarConfigPath','/shaXam/0403/03/b0/03b03926-3388-4a1f-a7f6-6439bc13501c.txt'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixPreviewUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixPreviewUriRoot','http://xshwlab01.redmond.corp.microsoft.com'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixUriRoot','http://10.184.224.129'</Query>
                    </Parameters>
                </Task>

                <!-- Ensure all NT Services are started and reset all IIS AppPools -->
                <Task Name="Ensure services on ATNPoolINH001 are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,XPServer" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Reboot the SecuINH server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvSecuINH##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Reboot the PoolIIS server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvPoolIIS##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Prop BVT Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Update TPP logs location" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro\TPPSettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitleProp" />
                    </Parameters>
                </Task>
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\d$\WebRoot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="5" />
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" ErrorsAreFatal="false" />
                        <RunAt Server="##EnvInfrTLS##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##" />
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Red">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CatalogWatcherPlugin" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Could not resolve Contentdistributor</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="marketplacecatalog" HealthStatus="Yellow">
                                <HealthBlockException Name="MarketplaceCatalogHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Failed to fetch Search View</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Add the AutoNet NPDB location to the STF.xml file" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Point LiveLib to AutoNet" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <Replace XPath="livelib/environments/environment[@name='autonet-int']" Attribute="name" NewValue="##Environment##-int" />
                        <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                    </Parameters>
                </Task>
                <Task Name="Run LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT\LiveLKG.xml"/>
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Prop Remaining Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Prop Acceptance Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Acceptance" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
                <Task Name="Prop Extended Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Extended" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create final snapshots" Rollup="false" Condition="Always">
                <Task Name="Delete the old Last Good Deployment snapshot" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <DeleteSnapshot SnapshotNameSpec="LGD: ##BuildName##%" />
                    </Parameters>
                </Task>
                <Task Name="Create new Last Good Deployment snapshots" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <CreateSnapshot NewSnapshotName="LGD: ##BuildName## ##BuildVersion##" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Create failed snapshots" Module="VMTaskModule" Type="Local" Condition="IfFailing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - Deployment Failed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Give all users access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfFailing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Add" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Release the Environment" Condition="IfPassing" Rollup="false">
                <Task Name="Delete old trigger file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" FileSpec="Released.txt" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Create new trigger file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Create" FileSpec="Released.txt">
                            <FileContents>##BuildVersion##</FileContents>
                        </FileCommand>
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull Marketplace test data logs from the MstrSQL server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                    </Parameters>
                </Task>
                <Task Name="Copy the changes.txt file" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="changes.txt" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>
        </Job>

        <!--
            Job Name:       Run Complete STF Suite in AutoNet
            Schedule:       Every quarter-hour on weekdays between 01:00 and 14:00
            Environment:    AutoNet
            Type:           Regression test pass

            Executes a complete STF Regression test pass against the LKG R2 build in AutoNet.
        -->
        <Job Name="Run Complete STF Suite in AutoNet" Build="XOnline_R2" Environment="AutoNet" Type="TestRun" Priority="Medium" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="1" StartTime="01:00:00" EndTime="14:00:00" Weekdays="Monday,Tuesday,Wednesday,Thursday,Friday">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\Released.txt" TriggerUse="ContentOnly" IsRemote="true"/>
            </Schedule>
            <Report ToList="hyperadm" Condition="IfFailing" XsltName="DeploymentResults.xslt" />

            <TaskGroup Name="Setup Test Pass" Rollup="true" Condition="Always">
                <Task Name="Remove access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Remove" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
                <Task Name="Revert clients to a clean state" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##Client%" />
                        <ApplySnapshot SnapshotNameSpec="Clean%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60"/>

                <!-- The Tools need to be deployed to each client machine in order to execute the tools test suites -->
                <!--<Task Name="Create the config file for deploying Tools" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="Deploy_Tools_to_Clients.xml" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Configuration" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Customize the config file for deploying Tools" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\Deploy_Tools_to_Clients.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="DeploymentInstance" Attribute="releaseName" NewValue="Xbox Live Service" />
                        <Replace XPath="DeploymentInstance" Attribute="topologyName" NewValue="Expanded - Ops" />
                        <Replace XPath="//Server[@name='CLIENT001']" Attribute="name" NewValue="##EnvServerPrefix##CLIENT001" />
                        <Replace XPath="//Server[@name='CLIENT002']" Attribute="name" NewValue="##EnvServerPrefix##CLIENT002" />
                        <Replace XPath="//Server[@name='CLIENT003']" Attribute="name" NewValue="##EnvServerPrefix##CLIENT003" />
                        <Replace XPath="//Server[@name='CLIENT004']" Attribute="name" NewValue="##EnvServerPrefix##CLIENT004" />
                        <Replace XPath="//PropertyValue[@name='ENVIRONMENT_GLOBAL']" Attribute="value" NewValue="##Environment##" />
                        <Replace XPath="//PropertyValue[@name='NPDB_SVR_GLOBAL']" Attribute="value" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Deploy the Live Tools to all clients" Module="OctopusTaskModule" Condition="IfPassing" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\Deploy_Tools_to_Clients.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>-->

                <!-- Copy the STF Files from the deployment server to each Client. -->
                <Task Name="Stage STF to Client001" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                        <DestLocation Path="\\##EnvServerPrefix##Client001\d$\STF" />
                    </Parameters>
                </Task>
                <Task Name="Stage STF to Client002" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                        <DestLocation Path="\\##EnvServerPrefix##Client002\d$\STF" />
                    </Parameters>
                </Task>
                <Task Name="Stage STF to Client003" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                        <DestLocation Path="\\##EnvServerPrefix##Client003\d$\STF" />
                    </Parameters>
                </Task>
                <Task Name="Stage STF to Client004" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                        <DestLocation Path="\\##EnvServerPrefix##Client004\d$\STF" />
                    </Parameters>
                </Task>

                <!-- The copy of XblCore.dll that comes with STF needs to be installed on each client. -->
                <Task Name="Install XblCore.dll on Client001" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                        <RunAt Server="##EnvServerPrefix##Client001" />
                    </Parameters>
                </Task>
                <Task Name="Install XblCore.dll on Client002" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                        <RunAt Server="##EnvServerPrefix##Client002" />
                    </Parameters>
                </Task>
                <Task Name="Install XblCore.dll on Client003" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                        <RunAt Server="##EnvServerPrefix##Client003" />
                    </Parameters>
                </Task>
                <Task Name="Install XblCore.dll on Client004" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                        <RunAt Server="##EnvServerPrefix##Client004" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Execute Test Pass" Condition="IfPassing" Rollup="true">
                <Task Name="Run the Regression Test Pass" Module="TestPassTaskModule" Type="Remote" Condition="IfPassing" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <ResultXmlStylesheetName>TestSuiteSummary.xslt</ResultXmlStylesheetName>
                        <TestPass Env="##Environment##" Frequency="Regression" Build="##BuildName##" Version="##BuildVersion##" CutoffTime="23:00">
                            <TimingDataPath>G:\SuiteTimings\##Environment##\##BuildName##</TimingDataPath>
                            <ClientResultPath>E:\TestPassResults\##BuildName##\##BuildVersion##\Regression</ClientResultPath>
                            <LocalResultPath>L:\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression</LocalResultPath>
                            <STFLocation>D:\STF</STFLocation>
                            <STFParams NoAsync="true" />
                            <SuiteTimeoutSeconds>18000</SuiteTimeoutSeconds>
                            <EnvironmentRequirements>Billing,Catalog,XDS,nCipher,TestFD,AAIFDReflector,XTOU,Zune,NotOnXBLOB</EnvironmentRequirements>
                            <Clients>##EnvClientList##</Clients>
                            <Suites>
                                <!-- Live Foundation Test Suites -->
                                <Suite Name="AAGatewayTests" Architecture="32" />
                                <Suite Name="AAModuleTests" Architecture="32" />
                                <Suite Name="BehaviorInjection" Architecture="32" />
                                <Suite Name="CustTest-LF" Architecture="32" />
                                <Suite Name="GSToolTests" Architecture="32" />
                                <Suite Name="Hive" Architecture="32" />
                                <Suite Name="HijackAccountTests" Architecture="32" />
                                <Suite Name="IFLICTest" Architecture="32" />
                                <Suite Name="LiveBVT" Architecture="32" />
                                <Suite Name="LiveMatchTest" Architecture="32" />
                                <Suite Name="LSPTest" Architecture="32" />
                                <Suite Name="MachineBanTest" Architecture="32" />
                                <Suite Name="MixSettingsManagementTest" Architecture="32" />
                                <Suite Name="MsgToolTest" Architecture="32" />
                                <Suite Name="SignatureTest" Architecture="32" />
                                <Suite Name="ServiceDVT" Architecture="32" />
                                <Suite Name="StorageWidget" Architecture="64" />
                                <Suite Name="StringServTest" Architecture="32" />
                                <Suite Name="StsFDTest" Architecture="32" />
                                <Suite Name="UacsTest-LF" Architecture="32" />
                                <suite Name="VortexSTF" Architecture="32" />
                                <Suite Name="XblConfigTest" Architecture="32" />
                                <Suite Name="XBOSTestV2-LF" Architecture="32" />
                                <Suite Name="xCrypto" Architecture="32" />
                                <Suite Name="XDSTest" Architecture="32" />
                                <Suite Name="XeUacs" Architecture="32" />
                                <Suite Name="XeXbosGamertag" Architecture="32" />
                                <Suite Name="XkdcTest" Architecture="32" />
                                <Suite Name="XmgmtTest" Architecture="32" />
                                <Suite Name="xonline.common.test.ConnectionSettings" Architecture="32" />
                                <Suite Name="xonline.common.test.HealthChecks" Architecture="32" />
                                <Suite Name="XrlScanTestSuite" Architecture="32" />
                                <Suite Name="XSGTest" Architecture="32" />
                                <Suite Name="XStoreTest" Architecture="32" />
                                <Suite Name="XTOU" Architecture="32" />
                                <!-- Community & Games Test Suites -->
                                <Suite Name="AccelTest" Architecture="32" />
                                <Suite Name="Achievement" Architecture="32" />
                                <Suite Name="Feedback" Architecture="32" />
                                <Suite Name="GamerSettings" Architecture="32" />
                                <Suite Name="MessagingTest" Architecture="32" />
                                <Suite Name="MixBetaManagement" Architecture="32" />
                                <Suite Name="MixMatchTest" Architecture="32" />
                                <Suite Name="MixStatsTest" Architecture="32" />
                                <Suite Name="MixStorage" Architecture="32" />
                                <Suite Name="MixTitleManagementTest" Architecture="32" />
                                <Suite Name="PresTest" Architecture="32" />
                                <Suite Name="PresWidgetTest" Architecture="64" />
                                <Suite Name="StatsFD" Architecture="32" />
                                <Suite Name="StatsWidgetv3" Architecture="32" />
                                <Suite Name="WcProfileTest" Architecture="32" />
                                <Suite Name="XArbTest" Architecture="32" />
                                <Suite Name="XBANCTest" Architecture="32" />
                                <Suite Name="XConnSrvTest" Architecture="32" />
                                <Suite Name="XMatchTest" Architecture="32" />
                                <!-- Marketplace Test Suites -->
                                <Suite Name="CatalogPurchaseTests" Architecture="32" />
                                <Suite Name="CatalogQueryTests" Architecture="32" />
                                <Suite Name="CustTest-MP" Architecture="32" />
                                <Suite Name="ListsFunc" Architecture="32" />
                                <Suite Name="OfferManagementTest" Architecture="32" />
                                <Suite Name="ProductManagementTest" Architecture="32" />
                                <Suite Name="RateMediaFDTest" Architecture="32" />
                                <Suite Name="SubscriptionFamilyServiceTest" Architecture="32" />
                                <Suite Name="TokenManagementTest" Architecture="32" />
                                <Suite Name="UacsTest-MP" Architecture="32" />
                                <Suite Name="XBOSTestV2-MP" Architecture="32" />
                                <Suite Name="XcbkTest" Architecture="32" />
                                <Suite Name="XeMPUacs" Architecture="32" />
                                <Suite Name="XeXbosConsumable" Architecture="32" />
                                <Suite Name="XeXbosGameBrowsing" Architecture="32" />
                                <Suite Name="XeXbosOldContent" Architecture="32" />
                                <Suite Name="XeXbosPurchase" Architecture="32" />
                                <Suite Name="XeXbosSubscription" Architecture="32" />
                                <Suite Name="XeXbosToken" Architecture="32" />
                            </Suites>
                        </TestPass>
                    </Parameters>
                </Task>
            </TaskGroup>
            
            <TaskGroup Name="Gather log files" Condition="IfPassing" Rollup="true">
                <!-- To publish the results to TFS, we need to copy the XML result files to the TFSLogs_Upload drop location -->
                <Task Name="Stage result files for TFS publishing" Module="FileTaskModule" Condition="IfPassing" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.xml" Recurse="false" Force="true" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="\\XLFINFRTLS001\TFSLogs_Upload" />
                    </Parameters>
                </Task>

                <!-- Copy the Serialized Results xml files off each client machine -->
                <Task Name="Copy Serialized Results files from Client 001" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvServerPrefix##Client001\d$\STF\FuncOutput\SerializedRunResults" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\SerializedRunResults" />
                    </Parameters>
                </Task>
                <Task Name="Copy Serialized Results files from Client 002" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvServerPrefix##Client002\d$\STF\FuncOutput\SerializedRunResults" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\SerializedRunResults" />
                    </Parameters>
                </Task>
                <Task Name="Copy Serialized Results files from Client 003" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvServerPrefix##Client003\d$\STF\FuncOutput\SerializedRunResults" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\SerializedRunResults" />
                    </Parameters>
                </Task>
                <Task Name="Copy Serialized Results files from Client 004" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvServerPrefix##Client004\d$\STF\FuncOutput\SerializedRunResults" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\SerializedRunResults" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Run Logs" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <Task Name="Restore access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfPassing">
                <Parameters>
                    <Options Domain="hyper.live" />
                    <SecurityGroup Action="Add" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                </Parameters>
            </Task>

            <Task Name="Send results email" Module="EmailTaskModule" Condition="IfPassing" Type="Local">
                <Parameters>
                    <MessageHeader ToList="xlftest,xlctest,xboxmtst" CcList="timki" />
                    <Subject>Test pass results for ##BuildName##[##BuildVersion##]</Subject>
                    <MessageBody Type="XML">
                        <MessageText Position="Top" Style="Callout">Test pass result logs can be found &lt;a href=&quot;##LogBase##\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression&quot;&gt;here.&lt;/a&gt;</MessageText>
                        <MessageText Position="Top" Style="Callout">All logs can be found &lt;a href=&quot;##LogBase##\##Environment##\##BuildName##\##BuildVersion##&quot;&gt;here.&lt;/a&gt;</MessageText>
                        <ContentSource Filename="##LogBase##\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\TestPassSummary.xml" Transform="##LogBase##\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression\TestPassSummary.xslt" />
                    </MessageBody>
                </Parameters>
            </Task>
        </Job>




        <!--
            Job Name:       Deploy latest XSR build to TestNetShip
            Schedule:       Every quarter-hour between 01:00 and 22:00
            Environment:    TestNetShip
            Type:           LKG - Upgrade deployment

            Upgrade deployment job for the latest XSR build from the Main branch.
        -->
        <Job Name="Deploy latest XSR build to TestNetShip" Build="XOnline_Main" Environment="TestNetShip" Type="Deployment" Priority="High" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="22:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##.XSR\??.??.????.??" IsRemote="true"/>
            </Schedule>
            <Report ToList="xbldm" Condition="Always" XsltName="DeploymentResults.xslt">
              <JobHistory MaxDays="30" MaxJobs="40" />
            </Report>

            <TaskGroup Name="Create XSR deployment file set" Rollup="true">
                <Task Name="Delete old XSR deployment files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy base deployment files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2009-11.BSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Dec 2009 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2009-12.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Feb 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-02.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Mar 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-03.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay May 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-05.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay May 2010 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-05.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay June 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-06.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay June 2010 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-06.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay August 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-08.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay August 2010 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-08.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Delete old version file(s)" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" FileSpec="??.??.????.??" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Current XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create the TestNetShip environment" Condition="IfPassing" Rollup="false">
                <Task Name="Copy the BVTNet database deployment files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="deployment_bvtnet.xml" NewFileName="deployment_##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific Genealogy update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\genealogy\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\genealogy\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific UODB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\uodb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\uodb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific WebDB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\webdb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\webdb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Modify the database deployment files to point to the correct servers" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" FileSpec="deployment_##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="true" />
                        <Replace FindString="BVT" ReplaceString="##EnvServerPrefix##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB prodbase .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB upgrade .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Add the environment name to the service.xml file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" FileSpec="service.xml" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Update the name of the XCBK cert in the site.xml file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\Secure\##Environment##\site.xml" />
                        <Replace XPath="Site/Certificates/SSLCert[@Identifier='ssl.spsxcbk']" Attribute="File" NewValue="##EnvPoolIISIp##.pfx" />
                    </Parameters>
                </Task>
                <Task Name="Create the Octopus deployment configuration file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="bvtnet.xml" NewFileName="##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Change the user names in the Octopus config file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" FileSpec="##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="false" />
                    </Parameters>
                </Task>
                <Task Name="Customize the Octopus deployment configuration file" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="DeploymentInstance" Attribute="releaseName" NewValue="2010 09 XSR Main" />
                        <Replace XPath="DeploymentInstance" Attribute="topologyName" NewValue="Full" />
                        <Replace XPath="//Server[@name='BVTXALLSQL001']" Attribute="name" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//Server[@name='BVTXALLSQL002']" Attribute="name" NewValue="##EnvAllSQL2##" />
                        <Replace XPath="//Server[@name='BVTMSTRSQL001']" Attribute="name" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//Server[@name='BVTCATRSQL001']" Attribute="name" NewValue="##EnvCatrSQL##" />
                        <Replace XPath="//Server[@name='BVTINFRTLS001']" Attribute="name" NewValue="##EnvInfrTLS##" />
                        <Replace XPath="//Server[@name='BVTPOOLIIS001']" Attribute="name" NewValue="##EnvPoolIIS##" />
                        <Replace XPath="//Server[@name='BVTPOOLINH001']" Attribute="name" NewValue="##EnvPoolINH##" />
                        <Replace XPath="//Server[@name='BVTSECUINH001']" Attribute="name" NewValue="##EnvSecuINH##" />
                        <Replace XPath="//PropertyValue[@name='Environment']" Attribute="value" NewValue="##Environment##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_BEGIN']" Attribute="value" NewValue="##EnvClientPoolIpBegin##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_END']" Attribute="value" NewValue="##EnvClientPoolIpEnd##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_NETMASK']" Attribute="value" NewValue="##EnvClientPoolNetmask##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_GATEWAY']" Attribute="value" NewValue="##EnvClientPoolGateway##" />
                        <Replace XPath="//PropertyValue[@name='SG_ADMIN_IP']" Attribute="value" NewValue="##EnvSGAdminIp##" />
                        <Replace XPath="//PropertyValue[@name='SG_INTERNET_IP']" Attribute="value" NewValue="##EnvSGInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='XDS_INTERNET_IP']" Attribute="value" NewValue="##EnvXDSInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='NpdbServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//PropertyValue[@name='Site.DataFolder']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='CatalogPublisher']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='CatalogDistributor']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='LegacyOfferServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Update the TPPSettings file for the new environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\deployment\titleproppro\tppsettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='BVTNet']" Attribute="Name" NewValue="##Environment##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitleProp" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LBSvr" NewValue="##EnvPoolINH##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/MatchSvr" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Update the local WebStore config file to point to this environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="C:\Program Files\Microsoft Webstore\WstRuntime.config" />
                        <!-- This is a total hack because WebStore uses upper-case site names and we use mixed-case environment names. -->
                        <Replace XPath="configuration/WEBSTORE/WEBSTOREMETADATA/SITES/SITE[@NAME='TESTNETSHIP']/CONFIGS/CONFIG" Attribute="SERVERNAME" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Set the NPDB location in STF.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Set up LiveLib.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                        <AddElement XPath="livelib/environments">
                            <environment name="##Environment##-int" type="DirectAccess">
                                <defaultSchemaVersion major="6" minor="0" />
                                <ipaddresses>
                                    <ipaddress svcId="1" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_presence" />
                                    <ipaddress svcId="2" host="##EnvPoolIIS##" transactionType="FD" vifc="stringsvr" />
                                    <ipaddress svcId="4" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_base_subscription" />
                                    <ipaddress svcId="5" host="##EnvPoolIIS##" transactionType="FD" vifc="xuacs" />
                                    <ipaddress svcId="6" host="##EnvPoolIIS##" transactionType="FD" vifc="xmatchfd" />
                                    <ipaddress svcId="7" host="##EnvPoolIIS##" transactionType="FD" vifc="xstatsfd" />
                                    <ipaddress svcId="8" host="##EnvPoolIIS##" transactionType="FD" vifc="fbserver" />
                                    <ipaddress svcId="9" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_billing_offering" />
                                    <ipaddress svcId="10" host="##EnvPoolIIS##" transactionType="FD" />
                                    <ipaddress svcId="11" host="##EnvPoolIIS##" transactionType="FD" vifc="xtou" />
                                    <ipaddress svcId="12" host="##EnvPoolIIS##" transactionType="FD" vifc="xsig" />
                                    <ipaddress svcId="13" host="##EnvPoolIIS##" transactionType="FD" vifc="xqry" />
                                    <ipaddress svcId="14" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_name_resolution" />
                                    <ipaddress svcId="15" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_storage" />
                                    <ipaddress svcId="16" host="##EnvPoolIIS##" transactionType="FD" vifc="xarb" />
                                    <ipaddress svcId="18" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_messaging" />
                                    <ipaddress svcId="19" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_teams" />
                                    <ipaddress svcId="21" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_drm" />
                                    <ipaddress svcId="26" host="0.0.0.0" transactionType="FD" vifc="xconnsrv" />
                                    <ipaddress svcId="175" host="##EnvCatalogIp##" transactionType="Http" vifc="catalog" />
                                    <ipaddress svcId="176" host="##EnvPoolIIS##" transactionType="Http" vifc="web billing" />
                                    <ipaddress svcId="177" host="##EnvPoolIIS##" transactionType="AA" />
                                    <ipaddress svcId="178" host="##EnvPoolIIS##" transactionType="Http" />
                                    <ipaddress svcId="181" host="##EnvSecuINH##" transactionType="FD" vifc="authsg" />
                                </ipaddresses>
                            </environment>
                        </AddElement>
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Pre-Deployment Tasks" Condition="IfPassing" Rollup="false">
                <Task Name="Restore base snapshots" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <ApplySnapshot SnapshotNameSpec="LatestXSR: Ready for Deployment%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <!-- Update the data file used by the Geo Segmentation service -->
                <Task Name="Copy GeoFencing data file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                        <SourceLocation Path="G:\Stage\GeoFencing" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\Webroot\Geo\Data" />
                    </Parameters>
                </Task>
                <!-- Stop all services on the PoolINH and SecuINH servers -->
                <Task Name="Stop services on the PoolINH server" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Stop" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,XPServer" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Stop services on the SecuINH server" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Stop" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="Services" Value="XDS,XKDC,xmgmt,SGSVC" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <!-- Recycle all App Pools on the PoolIIS server -->
                <Task Name="Recycle all App Pools on the PoolIIS server" Module="IISTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="StartStoppedPools" Value="true" />
                    <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                    <Parameter Name="AppPools" Value="All" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Install Xbox LIVE Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Install Test Components" Rollup="true" Condition="IfPassing">
                <!-- Copying the previously edited configuration file -->
                <Task Name="Create the Octopus deployment configuration file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="##Environment##.xml" NewFileName="##Environment##.TestComponents.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##" />
                    </Parameters>
                </Task>
                <!-- Updating the release name for the Test-only components -->
                <Task Name="Customize the Octopus deployment configuration file" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.TestComponents.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="releaseName" NewValue="Test Components Main" />
                    </Parameters>
                </Task>
                <Task Name="Install Test Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\##Environment##\##Environment##.TestComponents.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Environment Configuration" Rollup="true" Condition="IfPassing">
                <Task Name="Add the fastEspMarketplaceSearch virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'fastEspMarketplaceSearch','##EnvPoolIISIp##',1</Query>
                    </Parameters>
                </Task>
                <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
                <Task Name="Update the ContentDownload port to 3074 in t_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the ContentDownload port to 3074 in t_virtual_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_virtual_interface 'download','download',@port=3074,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBWatcher" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBWatcher','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBXbox" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBXbox','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>

                <!-- Update environmnent-specific settings -->
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Remove the xuacs_allowUncheckedRecovery setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">delete from t_setting_overrides where vc_setting='xuacs_allowUncheckedRecovery' and vc_environment='##Environment##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable the DebugResult setting for XArb" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xarb_EnableDebugResult','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable nCipher for the KDC" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'kdcsvc_xmacs_useNCipher','1','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the WCToolsMgmtUpload location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'wctoolsmgmt_uploadPathRoot','\\##EnvSecuINH##\toolsmgmtupload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>

                <!-- Update the AAIFDReflector -->
                <Task Name="Update the AAIFDReflector files on the SecuINH server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests\SuitesData\AAIFDReflector" />
                        <DestLocation Path="\\##EnvSecuINH##\d$\webroot\ActiveAuthTest" />
                    </Parameters>
                </Task>
                <Task Name="Recycle the AAIFDReflector App Pool" Module="IISTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="AppPools" Value="ActiveAuthTest" />
                    <Parameter Name="StartStoppedPools" Value="true" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>

                <!--
                    Ensure all NT Services are started and reset all IIS AppPools
                -->
                <Task Name="Ensure services on the PoolINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,XPServer" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Reboot the SecuINH server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvSecuINH##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Reboot the PoolIIS server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvPoolIIS##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Reboot the TLS server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvInfrTLS##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="30" />
            </TaskGroup>

            <TaskGroup Name="Prop BVT Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\d$\WebRoot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="5" />
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" ErrorsAreFatal="false" />
                        <RunAt Server="##EnvInfrTLS##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##" />
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Red">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CatalogWatcherPlugin" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Could not resolve Contentdistributor</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="marketplacecatalog" HealthStatus="Yellow">
                                <HealthBlockException Name="MarketplaceCatalogHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Failed to fetch Search View</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Run LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT\LiveLKG.xml"/>
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Prop Remaining Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Prop Acceptance Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Acceptance" />
                    <Parameter Name="Threads" Value="5" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
                <Task Name="Prop Extended Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Extended" />
                    <Parameter Name="Threads" Value="10" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create final snapshots" Rollup="false" Condition="Always">
                <Task Name="Delete the old Last Good Deployment snapshot" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <DeleteSnapshot SnapshotNameSpec="LGD: ##BuildName##%" />
                    </Parameters>
                </Task>
                <Task Name="Create new Last Good Deployment snapshots" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <CreateSnapshot NewSnapshotName="LGD: ##BuildName## ##BuildVersion##" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Create failed snapshots" Module="VMTaskModule" Type="Local" Condition="IfFailing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - Deployment Failed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Give all users access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfFailing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Add" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Release the Environment" Condition="IfPassing" Rollup="false">
                <Task Name="Delete old trigger file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" FileSpec="Released.txt" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Create new trigger file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Create" FileSpec="Released.txt">
                            <FileContents>##BuildVersion##</FileContents>
                        </FileCommand>
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Raise build to LKG" Condition="IfPassing" Rollup="false">
                <Task Name="Delete old LKG files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\XSR" />
                    </Parameters>
                </Task>
                <Task Name="Copy build to LKG folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\XSR" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull Marketplace test data logs from the MstrSQL server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                    </Parameters>
                </Task>
                <Task Name="Copy the changes.txt file to the log folder" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="changes.txt" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>
        </Job>

        <!--
            Job Name:       Flip sub-environments
            Schedule:       Every day at midnight
            Environment:    TestNetShip
            Type:           DNS flip

            After a successful deployment to the offline TestNetShip environment, this job flips the two sub-environments.
        -->
        <Job Name="Flip sub-environments" Build="XOnline_Main" Environment="TestNetShip" Type="Other" Priority="High" Enabled="true">
            <Schedule Rate="Daily" Frequency="1" StartTime="00:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\Released.txt" IsRemote="true" TriggerUse="ContentOnly" />
            </Schedule>
            <Report ToList="HyperAdm" Condition="IfFailing" XsltName="deploymentResults.xslt" />

            <TaskGroup Name="Update DNS entries" Rollup="true">
                <Task Name="Update the server name DNS entries" Module="DNSTaskModule" Type="Remote">
                    <Parameters>
                        <DNSEntries DNSServer="HxInfxDCPINH001" Zone="Hyper.Live" TTL="120">
                            <DNSEntry Type="CNAME" Name="##Environment##_NPDB" Value="##EnvAllSQL1##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNSXALLSQL001" Value="##EnvAllSQL1##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNSXALLSQL002" Value="##EnvAllSQL2##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNSMSTRSQL001" Value="##EnvMstrSQL##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNSCATRSQL001" Value="##EnvCatrSQL##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNSPOOLIIS001" Value="##EnvPoolIIS##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNSPOOLINH001" Value="##EnvPoolINH##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNSSECUINH001" Value="##EnvSecuINH##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNSINFRTLS001" Value="##EnvInfrTLS##.Hyper.Live" />
                        </DNSEntries>
                    </Parameters>
                </Task>
                <Task Name="Update redirector DNS entries" Module="DNSTaskModule" Type="Remote">
                    <Parameters>
                        <DNSEntries DNSServer="HxInfDNSINH001" Zone="htns.xboxlive.com" TTL="120">
                            <DNSEntry Type="A" Name="as" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="download" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="macs" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="tds" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="xds" Value="##EnvXDSInternetIp##" />
                            <DNSEntry Type="A" Name="xeas" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="xedownload" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="xemacs" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="xetds" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="xetgs" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="xexds" Value="##EnvXDSInternetIp##" />
                        </DNSEntries>
                    </Parameters>
                </Task>
            </TaskGroup>

            <Task Name="Update the active environment in the Deployment database" Module="SQLTaskModule" Condition="IfPassing" Type="Local">
                <Parameters>
                    <Connection Server="XlfInfrTLS001" Database="DeploymentDB" />
                    <Query>exec p_env_flip '##Environment##'</Query>
                </Parameters>
            </Task>

            <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                <Parameters>
                    <Hosts>HxHyperC1B12</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##Environment## Billing One Box" />
                    <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                </Parameters>
            </Task>
            <Wait WaitSeconds="60"/>
            <Task Name="Ensure DAService has started" Module="ServicesTaskModule" Type="Remote">
                <Parameter Name="Action" Value="Start" />
                <Parameter Name="Machine" Value="172.19.144.60" />
                <Parameter Name="Services" Value="DAService" />
                <Parameter Name="UserName" Value="VM1BoxDom\Administrator" />
                <Parameter Name="Password" Value="#Bugsfor$" />
                <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Fix up the Temporal Partition on the Billing 1-box" Module="CommandLineTaskModule" Type="Remote">
                <Parameters>
                    <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="true" CaptureOutput="false" />
                    <RunAt Server="172.19.144.60" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                </Parameters>
            </Task>
            <!-- TODO: Add a task to send mail to the Concerned TestNetShip Users alias -->
        </Job>

        <!--
            Job Name:       Update TestNetMain with latest LKG build
            Schedule:       Every quarter-hour between 04:00 and 20:00
            Environment:    TestNetMain
            Type:           Full deployment

            Deploys the latest R2 LKG build out of BVTNet into the offline TestNetMain environment.
        -->
        <Job Name="Update TestNetMain with latest LKG build" Build="XOnline_R2" Environment="TestNetMain" Type="Deployment" Priority="Medium" Enabled="true" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="04:00:00" EndTime="20:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\LastKnownGood\##BuildName##\Expanded\??.??.????.??" IsRemote="true"/>
            </Schedule>
            <Report ToList="HyperAdm" Condition="Always" XsltName="DeploymentResults.xslt">
                <JobHistory MaxDays="30" MaxJobs="40" />
            </Report>

            <TaskGroup Name="Stage LKG build to the TestNetMain folder" Rollup="true">
                <Task Name="Delete old TestNetMain LKG bits" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy LKG bits to the TestNetMain folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\LastKnownGood\##BuildName##\Expanded" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Setup Test Pass" Rollup="true" Condition="Always">
              <Task Name="Remove access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfPassing">
                <Parameters>
                  <Options Domain="hyper.live" />
                  <SecurityGroup Action="Remove" Name="Domain Users" MemberOf="TestNet-LocalAdmin-All" />
                </Parameters>
              </Task>
            </TaskGroup>

            <TaskGroup Name="Create the TestNetMain environment" Condition="IfPassing" Rollup="false">
                <Task Name="Copy the BVTNet database deployment files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="deployment_bvtnet.xml" NewFileName="deployment_##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific Genealogy update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\genealogy\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\genealogy\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific UODB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\uodb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\uodb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific WebDB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\webdb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\webdb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Modify the database deployment files to point to the correct servers" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase" FileSpec="deployment_##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="true" />
                        <Replace FindString="BVT" ReplaceString="##EnvServerPrefix##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB prodbase .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\prodbase\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB upgrade .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\database\upgrade\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Change the service.xml file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" FileSpec="service.xml" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Update the name of the XCBK cert in the site.xml file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\Secure\##Environment##\site.xml" />
                        <Replace XPath="Site/Certificates/SSLCert[@Identifier='ssl.spsxcbk']" Attribute="File" NewValue="##EnvPoolIISIp##.pfx" />
                    </Parameters>
                </Task>
                <Task Name="Create the Octopus config file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="bvtnet.xml" NewFileName="##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\hypernet" />
                    </Parameters>
                </Task>
                <Task Name="Change the user names in the Octopus config file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\hypernet" FileSpec="##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="false" />
                    </Parameters>
                </Task>
                <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\hypernet\##Environment##.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="//Server[@name='BVTXALLSQL001']" Attribute="name" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//Server[@name='BVTXALLSQL002']" Attribute="name" NewValue="##EnvAllSQL2##" />
                        <Replace XPath="//Server[@name='BVTMSTRSQL001']" Attribute="name" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//Server[@name='BVTCATRSQL001']" Attribute="name" NewValue="##EnvCatrSQL##" />
                        <Replace XPath="//Server[@name='BVTINFRTLS001']" Attribute="name" NewValue="##EnvInfrTLS##" />
                        <Replace XPath="//Server[@name='BVTPOOLIIS001']" Attribute="name" NewValue="##EnvPoolIIS##" />
                        <Replace XPath="//Server[@name='BVTPOOLINH001']" Attribute="name" NewValue="##EnvPoolINH##" />
                        <Replace XPath="//Server[@name='BVTSECUINH001']" Attribute="name" NewValue="##EnvSecuINH##" />
                        <Replace XPath="//PropertyValue[@name='Environment']" Attribute="value" NewValue="##Environment##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_BEGIN']" Attribute="value" NewValue="##EnvClientPoolIpBegin##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_END']" Attribute="value" NewValue="##EnvClientPoolIpEnd##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_NETMASK']" Attribute="value" NewValue="##EnvClientPoolNetmask##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_GATEWAY']" Attribute="value" NewValue="##EnvClientPoolGateway##" />
                        <Replace XPath="//PropertyValue[@name='SG_ADMIN_IP']" Attribute="value" NewValue="##EnvSGAdminIp##" />
                        <Replace XPath="//PropertyValue[@name='SG_INTERNET_IP']" Attribute="value" NewValue="##EnvSGInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='XDS_INTERNET_IP']" Attribute="value" NewValue="##EnvXDSInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='NpdbServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//PropertyValue[@name='Site.DataFolder']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='CatalogPublisher']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='CatalogDistributor']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='LegacyOfferServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Update the TPPSettings file for the new environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\deployment\titleproppro\tppsettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='BVTNet']" Attribute="Name" NewValue="##Environment##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitlePropLogs" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LBSvr" NewValue="##EnvPoolINH##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/MatchSvr" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Update the local WebStore config file to point to this environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="C:\Program Files\Microsoft Webstore\WstRuntime.config" />
                        <!-- This is a total hack because WebStore uses upper-case site names and we use mixed-case environment names. -->
                        <Replace XPath="configuration/WEBSTORE/WEBSTOREMETADATA/SITES/SITE[@NAME='TESTNETMAIN']/CONFIGS/CONFIG" Attribute="SERVERNAME" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Set the NPDB location in STF.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Set up LiveLib.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                        <AddElement XPath="livelib/environments">
                            <environment name="##Environment##-int" type="DirectAccess">
                                <defaultSchemaVersion major="6" minor="0" />
                                <ipaddresses>
                                    <ipaddress svcId="1" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_presence" />
                                    <ipaddress svcId="2" host="##EnvPoolIIS##" transactionType="FD" vifc="stringsvr" />
                                    <ipaddress svcId="4" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_base_subscription" />
                                    <ipaddress svcId="5" host="##EnvPoolIIS##" transactionType="FD" vifc="xuacs" />
                                    <ipaddress svcId="6" host="##EnvPoolIIS##" transactionType="FD" vifc="xmatchfd" />
                                    <ipaddress svcId="7" host="##EnvPoolIIS##" transactionType="FD" vifc="xstatsfd" />
                                    <ipaddress svcId="8" host="##EnvPoolIIS##" transactionType="FD" vifc="fbserver" />
                                    <ipaddress svcId="9" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_billing_offering" />
                                    <ipaddress svcId="10" host="##EnvPoolIIS##" transactionType="FD" />
                                    <ipaddress svcId="11" host="##EnvPoolIIS##" transactionType="FD" vifc="xtou" />
                                    <ipaddress svcId="12" host="##EnvPoolIIS##" transactionType="FD" vifc="xsig" />
                                    <ipaddress svcId="13" host="##EnvPoolIIS##" transactionType="FD" vifc="xqry" />
                                    <ipaddress svcId="14" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_name_resolution" />
                                    <ipaddress svcId="15" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_storage" />
                                    <ipaddress svcId="16" host="##EnvPoolIIS##" transactionType="FD" vifc="xarb" />
                                    <ipaddress svcId="18" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_messaging" />
                                    <ipaddress svcId="19" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_teams" />
                                    <ipaddress svcId="21" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_drm" />
                                    <ipaddress svcId="26" host="0.0.0.0" transactionType="FD" vifc="xconnsrv" />
                                    <ipaddress svcId="175" host="##EnvCatalogIp##" transactionType="Http" vifc="catalog" />
                                    <ipaddress svcId="176" host="##EnvPoolIIS##" transactionType="Http" vifc="web billing" />
                                    <ipaddress svcId="177" host="##EnvPoolIIS##" transactionType="AA" />
                                    <ipaddress svcId="178" host="##EnvPoolIIS##" transactionType="Http" />
                                    <ipaddress svcId="181" host="##EnvSecuINH##" transactionType="FD" vifc="authsg" />
                                </ipaddresses>
                            </environment>
                        </AddElement>
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Pre-Deployment tasks" Condition="IfPassing" Rollup="true">
                <Task Name="Restore base snapshots" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <ApplySnapshot SnapshotNameSpec="Ready for Deployment%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Copy GeoFencing data file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                        <SourceLocation Path="G:\Stage\GeoFencing" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\Webroot\Geo\Data" />
                    </Parameters>
                </Task>
                <Task Name="Ensure the Geo Segmentation Service is started" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Restart" />
                    <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                    <Parameter Name="Services" Value="Geo Segmentation Service 2.2" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\hypernet\##Environment##.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='LogRootDir']" Attribute="value" NewValue="E:\Logroot" />
                    </Parameters>
                </Task>
                <Task Name="Install Xbox LIVE Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\hypernet\##Environment##.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>


            <TaskGroup Name="Environment Configuration" Condition="IfPassing" Rollup="true">
                <!-- Update the AAIFDReflector -->
                <Task Name="Update the AAIFDReflector files on the SecuINH server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests\SuitesData\AAIFDReflector" />
                        <DestLocation Path="\\##EnvSecuINH##\d$\webroot\ActiveAuthTest" />
                    </Parameters>
                </Task>
                <Task Name="Recycle the AAIFDReflector App Pool" Module="IISTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="AppPools" Value="ActiveAuthTest" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>

                <!-- Deploy the LiveSignup app to the PoolIIS server -->
                <Task Name="Deploy LiveSignup" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\Stage\LiveSignup" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\webroot\xtou\xedl\LiveSignup" />
                    </Parameters>
                </Task>

                <!-- Update virtual interface IPs -->
                <Task Name="Add the fastEspMarketplaceSearch virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'fastEspMarketplaceSearch','##EnvPoolIISIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the FECatalogDBZune virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_ips set vc_ip='172.19.144.75' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='fecatalogdbzune'</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_A virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_A','172.19.144.75',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_B virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_B','172.19.144.75',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBWatcher" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBWatcher','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBXbox" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBXbox','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>

                <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
                <Task Name="Update the ContentDownload port to 3074 in t_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the ContentDownload port to 3074 in t_virtual_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_virtual_interface 'download','download',@port=3074,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>

                <!-- Update environment-specific settings overrides -->
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testContentType','4edb3445-d489-4f3f-9760-55f1a85dfe3a','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings user PUID" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testUserPuid','985160330844665','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type mappings" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false"><![CDATA[exec p_config_add_setting_override 'ratings_contenttype_mapping','<root><contentTypeMapping mediatype="1" contentTypeId="596d1667-572a-4611-9f87-a5d3edf45b36"/><contentTypeMapping mediatype="18" contentTypeId="faa29126-f880-444a-b951-01a4a8dce301"/><contentTypeMapping mediatype="19" contentTypeId="d180a26c-a2a4-4d7b-9094-3a12725447b5"/><contentTypeMapping mediatype="20" contentTypeId="3fe2a114-98c8-4881-bc7a-aaf16c2cab9c"/><contentTypeMapping mediatype="21" contentTypeId="3d6ada32-2733-4d41-b67c-e325f643c25f"/><contentTypeMapping mediatype="22" contentTypeId="7a1e9a32-4828-4180-9127-72e06435b553"/><contentTypeMapping mediatype="23" contentTypeId="d7da7178-06f4-4728-959c-d5ce6bf6f5a1"/><contentTypeMapping mediatype="30" contentTypeId="e9c2dbae-022f-49d2-816e-dc1604ed8aca"/><contentTypeMapping mediatype="34" contentTypeId="0ea3aa76-ae84-48cb-b9fc-32901f0191ae"/><contentTypeMapping mediatype="37" contentTypeId="c01942e6-de53-4eb6-92a4-7316a47a4c57"/><contentTypeMapping mediatype="47" contentTypeId="d0d510b6-43fa-4bcf-98e9-1c354f68fbbc"/></root>','##Environment##','ALL',-1,'ALL',1]]></Query>
                    </Parameters>
                </Task>
                <Task Name="Override the XCBK certificate name" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xcbk_sslCertSubject','##EnvPoolIISIp##','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download URL" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_overrides set vc_info1='##EnvINHInternetIp##' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='download'</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download Content Directory location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'download_contentDirectory','F:\contentDownload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for game offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_offerGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for video offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_videoGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable nCipher for the KDC" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'kdcsvc_xmacs_useNCipher','1','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the WCToolsMgmtUpload location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'wctoolsmgmt_uploadPathRoot','\\##EnvSecuINH##\toolsmgmtupload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>

                <!-- Update environment-specific LiveHive settings -->
                <Task Name="Update the AvatarPictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarPictureUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarAssetUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarAssetUriRoot','http://##EnvINHInternetIp##:3074/content'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the UpdateUriRoot1 LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','UpdateUriRoot1','http://##EnvINHInternetIp##:3074/content'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the StoragePictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','StoragePictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixAvatarConfigPath LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixAvatarConfigPath','/shaXam/0303/dd/dd/dddd060f-1cb5-42a9-8fc9-30bff45e81c9.txt'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixPreviewUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixPreviewUriRoot','http://10.198.102.130'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixUriRoot','http://10.184.224.129'</Query>
                    </Parameters>
                </Task>

                <Task Name="Ensure services on the PoolINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,PresenceCache,ProfileCache,NotificationCache" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Reboot the SecuINH server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvSecuINH##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Reboot the PoolIIS server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvPoolIIS##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Prop BVT Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\d$\WebRoot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="5" />
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" ErrorsAreFatal="false" />
                        <RunAt Server="##EnvInfrTLS##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##" />
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Red">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CatalogWatcherPlugin" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Could not resolve Contentdistributor</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="marketplacecatalog" HealthStatus="Yellow">
                                <HealthBlockException Name="MarketplaceCatalogHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Failed to fetch Search View</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Run LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT\LiveLKG.xml" />
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Prop Remaining Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Prop Acceptance Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Acceptance" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
                <Task Name="Prop Extended Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Extended" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create final snapshots" Rollup="false" Condition="Always">
                <Task Name="Delete the old Last Good Deployment snapshot" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <DeleteSnapshot SnapshotNameSpec="LGD: ##BuildName##%" />
                    </Parameters>
                </Task>
                <Task Name="Create new Last Good Deployment snapshots" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <CreateSnapshot NewSnapshotName="LGD: ##BuildName## ##BuildVersion##" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Create failed snapshots" Module="VMTaskModule" Type="Local" Condition="IfFailing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <CreateSnapshot NewSnapshotName="##BuildName## ##BuildVersion## - Deployment Failed" ReplaceExisting="true" />
                    </Parameters>
                </Task>
                <Task Name="Give all users access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfFailing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Add" Name="Domain Users" MemberOf="TestNet-LocalAdmin-All" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Release the Environment" Condition="IfPassing" Rollup="false">
                <Task Name="Delete old trigger file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" FileSpec="Released.txt" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Create new trigger file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Create" FileSpec="Released.txt">
                            <FileContents>##BuildVersion##</FileContents>
                        </FileCommand>
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull Marketplace test data logs from the MstrSQL server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                    </Parameters>
                </Task>
                <Task Name="Copy the changes.txt file" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="changes.txt" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>
        </Job>

        <!--
            Job Name:       Flip TestNetMain
            Schedule:       Every day at midnight
            Environment:    TestNetMain
            Type:           DNS flip

            After a successful deployment to the offline TestNetMain environment, this job flips the two sub-environments.
        -->
        <Job Name="Flip TestNetMain" Build="XOnline_R2" Environment="TestNetMain" Type="Other" Priority="High" Enabled="true">
            <Schedule Rate="Daily" Frequency="1" StartTime="00:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\Released.txt" IsRemote="true" TriggerUse="ContentOnly" />
            </Schedule>
            <Report ToList="HyperAdm" Condition="IfFailing" XsltName="deploymentResults.xslt" />

            <TaskGroup Name="Update DNS entries" Rollup="true">
                <Task Name="Update the server name DNS entries" Module="DNSTaskModule" Type="Remote">
                    <Parameters>
                        <DNSEntries DNSServer="HxInfxDCPINH001" Zone="Hyper.Live" TTL="120">
                            <DNSEntry Type="CNAME" Name="##Environment##_NPDB" Value="##EnvAllSQL1##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNMXALLSQL001" Value="##EnvAllSQL1##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNMXALLSQL002" Value="##EnvAllSQL2##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNMMSTRSQL001" Value="##EnvMstrSQL##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNMCATRSQL001" Value="##EnvCatrSQL##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNMPOOLIIS001" Value="##EnvPoolIIS##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNMPOOLINH001" Value="##EnvPoolINH##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNMSECUINH001" Value="##EnvSecuINH##.Hyper.Live" />
                            <DNSEntry Type="CNAME" Name="TNMINFRTLS001" Value="##EnvInfrTLS##.Hyper.Live" />
                        </DNSEntries>
                    </Parameters>
                </Task>
                <Task Name="Update redirector DNS entries" Module="DNSTaskModule" Type="Remote">
                    <Parameters>
                        <DNSEntries DNSServer="HxInfDNSINH001" Zone="htnm.xboxlive.com" TTL="120">
                            <DNSEntry Type="A" Name="as" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="download" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="macs" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="tds" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="xds" Value="##EnvXDSInternetIp##" />
                            <DNSEntry Type="A" Name="xeas" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="xedownload" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="xemacs" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="xetds" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="xetgs" Value="##EnvINHInternetIp##" />
                            <DNSEntry Type="A" Name="xexds" Value="##EnvXDSInternetIp##" />
                        </DNSEntries>
                    </Parameters>
                </Task>
            </TaskGroup>

            <Task Name="Update the active environment in the Deployment database" Module="SQLTaskModule" Condition="IfPassing" Type="Local">
                <Parameters>
                    <Connection Server="XlfInfrTLS001" Database="DeploymentDB" />
                    <Query>exec p_env_flip '##Environment##'</Query>
                </Parameters>
            </Task>

            <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                <Parameters>
                    <Hosts>HxHyperC1B12</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##Environment## Billing One Box" />
                    <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                </Parameters>
            </Task>
            <Wait WaitSeconds="60"/>
            <Task Name="Ensure DAService has started" Module="ServicesTaskModule" Type="Remote">
                <Parameter Name="Action" Value="Start" />
                <Parameter Name="Machine" Value="172.19.144.57" />
                <Parameter Name="Services" Value="DAService" />
                <Parameter Name="UserName" Value="VM1BoxDom\Administrator" />
                <Parameter Name="Password" Value="#Bugsfor$" />
                <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Fix up the Temporal Partition on the Billing 1-box" Module="CommandLineTaskModule" Type="Remote">
                <Parameters>
                    <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="true" CaptureOutput="false" />
                    <RunAt Server="172.19.144.57" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                </Parameters>
            </Task>
        </Job>




        <!--
            Deploy the latest shipping XSR to TestNetShip
            
            This job is for updating the XSR environments to the latest shipping XSR build
        -->
        <Job Name="Deploy the latest shipping XSR" Build="XOnline_Main" Environment="TestNetShip" Type="Deployment" Priority="Medium" Enabled="false" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="23:00:00" />
            <Report ToList="hyperadm" Condition="Always" XsltName="DeploymentResults.xslt" />

            <TaskGroup Name="Create XSR deployment file set" Rollup="true">
                <Task Name="Delete old XSR deployment files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy base deployment files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2009-11.BSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Dec 2009 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2009-12.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Feb 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-02.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Mar 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-03.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay May 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-05.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay May 2010 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-05.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay June 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-06.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay June 2010 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-06.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay August 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-08.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create the environment" Condition="IfPassing" Rollup="false">
                <Task Name="Copy the BVTNet database deployment files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="deployment_bvtnet.xml" NewFileName="deployment_##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\prodbase" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\prodbase" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific Genealogy update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\genealogy\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\genealogy\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific UODB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\uodb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\uodb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific WebDB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\webdb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\webdb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Modify the database deployment files to point to the correct servers" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\prodbase" FileSpec="deployment_##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="true" />
                        <Replace FindString="BVT" ReplaceString="##EnvServerPrefix##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB prodbase .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\prodbase\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB upgrade .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Add the environment name to the 32-bit service.xml file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp" FileSpec="service.xml" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" IgnoreCase="true" />
                    </Parameters>
                </Task>
                <Task Name="Add the environment name to the 64-bit service.xml file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail64\msi\esp" FileSpec="service.xml" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" IgnoreCase="true" />
                    </Parameters>
                </Task>
                <Task Name="Update the name of the XCBK cert in the site.xml file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\Secure\##Environment##\site.xml" />
                        <Replace XPath="Site/Certificates/SSLCert[@Identifier='ssl.spsxcbk']" Attribute="File" NewValue="##EnvPoolIISIp##.pfx" />
                    </Parameters>
                </Task>
                <Task Name="Create the Octopus deployment configuration file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="##BuildName##_XSR.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Configuration" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Customize the Octopus deployment configuration file" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##\##BuildName##_XSR.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="DeploymentInstance" Attribute="releaseName" NewValue="Summer 09" />
                        <Replace XPath="DeploymentInstance" Attribute="topologyName" NewValue="2010_08_XSR" />
                        <Replace XPath="//Server[@name='XALLSQL001']" Attribute="name" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//Server[@name='XALLSQL002']" Attribute="name" NewValue="##EnvAllSQL2##" />
                        <Replace XPath="//Server[@name='MSTRSQL001']" Attribute="name" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//Server[@name='CATRSQL001']" Attribute="name" NewValue="##EnvCatrSQL##" />
                        <Replace XPath="//Server[@name='POOLIIS001']" Attribute="name" NewValue="##EnvPoolIIS##" />
                        <Replace XPath="//Server[@name='POOLINH001']" Attribute="name" NewValue="##EnvPoolINH##" />
                        <Replace XPath="//Server[@name='SECUINH001']" Attribute="name" NewValue="##EnvSecuINH##" />
                        <Replace XPath="//Server[@name='INFRTLS001']" Attribute="name" NewValue="##EnvInfrTLS##" />
                        <Replace XPath="//PropertyValue[@name='ENVIRONMENT_GLOBAL']" Attribute="value" NewValue="##Environment##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_BEGIN']" Attribute="value" NewValue="##EnvClientPoolIpBegin##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_END']" Attribute="value" NewValue="##EnvClientPoolIpEnd##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_NETMASK']" Attribute="value" NewValue="##EnvClientPoolNetmask##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_GATEWAY']" Attribute="value" NewValue="##EnvClientPoolGateway##" />
                        <Replace XPath="//PropertyValue[@name='SG_ADMIN_IP']" Attribute="value" NewValue="##EnvSGAdminIp##" />
                        <Replace XPath="//PropertyValue[@name='SG_INTERNET_IP']" Attribute="value" NewValue="##EnvSGInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='XDS_INTERNET_IP']" Attribute="value" NewValue="##EnvXDSInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='NPDB_SVR_GLOBAL']" Attribute="value" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//PropertyValue[@name='Site.DataFolder']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='CATALOG_PROD_BACKUP_GLOBAL']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='CATALOG_PUBLISHER']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='CATALOG_DISTRIBUTOR']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvAllSQL1##']">
                            <PublishedComponentName name="NPDB Upgrade XSR" />
                            <PublishedComponentName name="tokendb_upgrade XSR" />
                            <PublishedComponentName name="UODB Upgrade XSR" />
                            <PublishedComponentName name="usercommercedb_upgrade XSR" />
                            <PublishedComponentName name="WebDB Upgrade XSR" />
                        </AddElement>
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvMstrSQL##']">
                            <PublishedComponentName name="catalog_drop_subscription" />
                            <PublishedComponentName name="catalog_upgrade_remove_articles" />
                            <PublishedComponentName name="catalog_upgrade" />
                            <PublishedComponentName name="catalog_upgrade_add_articles" />
                            <PublishedComponentName name="catalog_add_subscription" />
                        </AddElement>
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvCatrSQL##']">
                            <PublishedComponentName name="catalog_drop_subscription" />
                            <PublishedComponentName name="catalog_install_replica" />
                            <PublishedComponentName name="catalog_add_subscription" />
                        </AddElement>
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvPoolIIS##']">
                            <PublishedComponentName name="PreRequisites-Front Doors" />
                            <PublishedComponentName name="Cron Front Door" />
                            <PublishedComponentName name="Match Front Door" />
                            <PublishedComponentName name="Mix Beta Management Service" />
                            <PublishedComponentName name="Mix Offer Management Service" />
                            <PublishedComponentName name="Mix Product Management Service" />
                            <PublishedComponentName name="Mix Storage Service" />
                            <PublishedComponentName name="Mix Subscription Family Service" />
                            <PublishedComponentName name="Mix Title Management Service" />
                            <PublishedComponentName name="Mix Token Management Service" />
                            <PublishedComponentName name="XBOS Front Door" />
                            <PublishedComponentName name="XCBK Front Door" />
                            <PublishedComponentName name="XUACS Front Door" />
                            <PublishedComponentName name="Presence Front Door" />
                            <PublishedComponentName name="Strings Front Door" />
                            <PublishedComponentName name="Sts Front Door" />
                            <PublishedComponentName name="Support Front Door" />
                            <PublishedComponentName name="Vortex FD Service" />
                            <PublishedComponentName name="WC Storage" />
                            <PublishedComponentName name="XSIG Front Door" />
                        </AddElement>
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvSecuINH##']">
                            <PublishedComponentName name="PreRequisites-Front Doors" />
                            <PublishedComponentName name="Active Auth Server" />
                            <PublishedComponentName name="SG Server" />
                            <PublishedComponentName name="XKDC Server" />
                        </AddElement>
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvPoolINH##']">
                            <PublishedComponentName name="Cleanser Server" />
                        </AddElement>
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvInfrTLS##']">
                            <PublishedComponentName name="PreRequisites-Front Doors" />
                            <PublishedComponentName name="Tools XSR" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Update the TPPSettings file for the new environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\deployment\titleproppro\tppsettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='BVTNet']" Attribute="Name" NewValue="##Environment##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitleProp" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LBSvr" NewValue="##EnvPoolINH##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/MatchSvr" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Update the local WebStore config file to point to this environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="C:\Program Files\Microsoft Webstore\WstRuntime.config" />
                        <!-- This is a total hack because WebStore uses upper-case site names and we use mixed-case environment names. -->
                        <Replace XPath="configuration/WEBSTORE/WEBSTOREMETADATA/SITES/SITE[@NAME='TESTNETSHIP']/CONFIGS/CONFIG" Attribute="SERVERNAME" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Set the NPDB location in STF.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Set up LiveLib.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                        <AddElement XPath="livelib/environments">
                            <environment name="##Environment##-int" type="DirectAccess">
                                <defaultSchemaVersion major="6" minor="0" />
                                <ipaddresses>
                                    <ipaddress svcId="1" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_presence" />
                                    <ipaddress svcId="2" host="##EnvPoolIIS##" transactionType="FD" vifc="stringsvr" />
                                    <ipaddress svcId="4" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_base_subscription" />
                                    <ipaddress svcId="5" host="##EnvPoolIIS##" transactionType="FD" vifc="xuacs" />
                                    <ipaddress svcId="6" host="##EnvPoolIIS##" transactionType="FD" vifc="xmatchfd" />
                                    <ipaddress svcId="7" host="##EnvPoolIIS##" transactionType="FD" vifc="xstatsfd" />
                                    <ipaddress svcId="8" host="##EnvPoolIIS##" transactionType="FD" vifc="fbserver" />
                                    <ipaddress svcId="9" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_billing_offering" />
                                    <ipaddress svcId="10" host="##EnvPoolIIS##" transactionType="FD" />
                                    <ipaddress svcId="11" host="##EnvPoolIIS##" transactionType="FD" vifc="xtou" />
                                    <ipaddress svcId="12" host="##EnvPoolIIS##" transactionType="FD" vifc="xsig" />
                                    <ipaddress svcId="13" host="##EnvPoolIIS##" transactionType="FD" vifc="xqry" />
                                    <ipaddress svcId="14" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_name_resolution" />
                                    <ipaddress svcId="15" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_storage" />
                                    <ipaddress svcId="16" host="##EnvPoolIIS##" transactionType="FD" vifc="xarb" />
                                    <ipaddress svcId="18" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_messaging" />
                                    <ipaddress svcId="19" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_teams" />
                                    <ipaddress svcId="21" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_drm" />
                                    <ipaddress svcId="26" host="0.0.0.0" transactionType="FD" vifc="xconnsrv" />
                                    <ipaddress svcId="175" host="##EnvCatalogIp##" transactionType="Http" vifc="catalog" />
                                    <ipaddress svcId="176" host="##EnvPoolIIS##" transactionType="Http" vifc="web billing" />
                                    <ipaddress svcId="177" host="##EnvPoolIIS##" transactionType="AA" />
                                    <ipaddress svcId="178" host="##EnvPoolIIS##" transactionType="Http" />
                                    <ipaddress svcId="181" host="##EnvSecuINH##" transactionType="FD" vifc="authsg" />
                                </ipaddresses>
                            </environment>
                        </AddElement>
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Pre-Deployment Tasks" Condition="IfPassing" Rollup="false">
                <Task Name="Restore base snapshots" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <ApplySnapshot SnapshotNameSpec="LatestXSR: Ready for Deployment%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <!-- Update the data file used by the Geo Segmentation service -->
                <Task Name="Copy GeoFencing data file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                        <SourceLocation Path="G:\Stage\GeoFencing" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\Webroot\Geo\Data" />
                    </Parameters>
                </Task>
                <!-- Stop all services on the PoolINH and SecuINH servers -->
                <Task Name="Stop services on the PoolINH server" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Stop" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,XPServer" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Stop services on the SecuINH server" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Stop" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="Services" Value="XDS,XKDC,xmgmt,SGSVC" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <!-- Recycle all App Pools on the PoolIIS server -->
                <Task Name="Recycle all App Pools on the PoolIIS server" Module="IISTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="StartStoppedPools" Value="true" />
                    <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                    <Parameter Name="AppPools" Value="All" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Fix up configuration file to point to 32-bit" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##\##BuildName##_XSR.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp" />
                    </Parameters>
                </Task>
                <Task Name="Install 32-bit Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##\##BuildName##_XSR.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Fix up configuration file to point to 64-bit" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##\##BuildName##_XSR.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail64\msi\esp" />
                    </Parameters>
                </Task>
                <Task Name="Install 64-bit Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##\##BuildName##_XSR.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="30" />
            </TaskGroup>

            <TaskGroup Name="Environment Configuration" Rollup="true" Condition="IfPassing">
                <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
                <Task Name="Update the ContentDownload port to 3074 in t_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the ContentDownload port to 3074 in t_virtual_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_virtual_interface 'download','download',@port=3074,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBWatcher" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBWatcher','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBXbox" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBXbox','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>

                <!-- Update environmnent-specific settings -->
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Remove the xuacs_allowUncheckedRecovery setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">delete from t_setting_overrides where vc_setting='xuacs_allowUncheckedRecovery' and vc_environment='##Environment##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable the DebugResult setting for XArb" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xarb_EnableDebugResult','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable nCipher for the KDC" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'kdcsvc_xmacs_useNCipher','1','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>

                <!-- Update the AAIFDReflector -->
                <Task Name="Update the AAIFDReflector files on the SecuINH server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests\SuitesData\AAIFDReflector" />
                        <DestLocation Path="\\##EnvSecuINH##\d$\webroot\ActiveAuthTest" />
                    </Parameters>
                </Task>
                <Task Name="Recycle the AAIFDReflector App Pool" Module="IISTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="AppPools" Value="ActiveAuthTest" />
                    <Parameter Name="StartStoppedPools" Value="true" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>

                <!--
                    Ensure all NT Services are started and reset all IIS AppPools
                -->
                <Task Name="Ensure services on the PoolINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,XPServer" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Reboot the SecuINH server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvSecuINH##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Reboot the PoolIIS server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvPoolIIS##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Prop BVT Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\d$\WebRoot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="5" />
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" ErrorsAreFatal="false" />
                        <RunAt Server="##EnvInfrTLS##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##" />
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Yellow">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Run LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT\LiveLKG.xml"/>
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Prop Remaining Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Prop Acceptance Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Acceptance" />
                    <Parameter Name="Threads" Value="5" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
                <Task Name="Prop Extended Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Extended" />
                    <Parameter Name="Threads" Value="10" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
            </TaskGroup>

            <Task Name="Create the new Ready for Deployment snapshots" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                <Parameters>
                    <Hosts>##EnvHostList##</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Client%" />
                    <CreateSnapshot NewSnapshotName="LatestXSR: Ready for Deployment" ReplaceExisting="true" />
                </Parameters>
            </Task>
        </Job>

        <!--
            Deploy the latest shipping XSR to AutoNetShip
            
            This job is for updating the XSR environments to the latest shipping XSR build
        -->
        <Job Name="Deploy the latest shipping XSR" Build="XOnline_Main" Environment="AutoNetShip" Type="Deployment" Priority="Medium" Enabled="false" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="23:00:00" />
            <Report ToList="hyperadm" Condition="Always" XsltName="DeploymentResults.xslt" />

            <TaskGroup Name="Create XSR deployment file set" Rollup="true">
                <Task Name="Delete old XSR deployment files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy base deployment files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2009-11.BSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Dec 2009 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2009-12.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Feb 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-02.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay Mar 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-03.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay May 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-05.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay May 2010 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-05.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay June 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-06.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay June 2010 QFE files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-06.QFE" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Overlay August 2010 XSR files" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Shipped\2010-08.XSR" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Create the environment" Condition="IfPassing" Rollup="false">
                <Task Name="Copy the BVTNet database deployment files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="deployment_bvtnet.xml" NewFileName="deployment_##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\prodbase" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\prodbase" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific Genealogy update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\genealogy\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\genealogy\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific UODB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\uodb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\uodb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific WebDB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\webdb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\webdb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Modify the database deployment files to point to the correct servers" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\prodbase" FileSpec="deployment_##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="true" />
                        <Replace FindString="BVT" ReplaceString="##EnvServerPrefix##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB prodbase .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\prodbase\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB upgrade .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\database\upgrade\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Add the environment name to the 32-bit service.xml file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp" FileSpec="service.xml" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" IgnoreCase="true" />
                    </Parameters>
                </Task>
                <Task Name="Add the environment name to the 64-bit service.xml file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail64\msi\esp" FileSpec="service.xml" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" IgnoreCase="true" />
                    </Parameters>
                </Task>
                <Task Name="Update the name of the XCBK cert in the site.xml file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\Secure\##Environment##\site.xml" />
                        <Replace XPath="Site/Certificates/SSLCert[@Identifier='ssl.spsxcbk']" Attribute="File" NewValue="##EnvPoolIISIp##.pfx" />
                    </Parameters>
                </Task>
                <Task Name="Create the Octopus deployment configuration file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="##BuildName##_XSR.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Configuration" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Customize the Octopus deployment configuration file" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##\##BuildName##_XSR.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="DeploymentInstance" Attribute="releaseName" NewValue="Summer 09" />
                        <Replace XPath="DeploymentInstance" Attribute="topologyName" NewValue="2010_08_XSR" />
                        <Replace XPath="//Server[@name='XALLSQL001']" Attribute="name" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//Server[@name='XALLSQL002']" Attribute="name" NewValue="##EnvAllSQL2##" />
                        <Replace XPath="//Server[@name='MSTRSQL001']" Attribute="name" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//Server[@name='CATRSQL001']" Attribute="name" NewValue="##EnvCatrSQL##" />
                        <Replace XPath="//Server[@name='POOLIIS001']" Attribute="name" NewValue="##EnvPoolIIS##" />
                        <Replace XPath="//Server[@name='POOLINH001']" Attribute="name" NewValue="##EnvPoolINH##" />
                        <Replace XPath="//Server[@name='SECUINH001']" Attribute="name" NewValue="##EnvSecuINH##" />
                        <Replace XPath="//Server[@name='INFRTLS001']" Attribute="name" NewValue="##EnvInfrTLS##" />
                        <Replace XPath="//PropertyValue[@name='ENVIRONMENT_GLOBAL']" Attribute="value" NewValue="##Environment##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_BEGIN']" Attribute="value" NewValue="##EnvClientPoolIpBegin##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_END']" Attribute="value" NewValue="##EnvClientPoolIpEnd##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_NETMASK']" Attribute="value" NewValue="##EnvClientPoolNetmask##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_GATEWAY']" Attribute="value" NewValue="##EnvClientPoolGateway##" />
                        <Replace XPath="//PropertyValue[@name='SG_ADMIN_IP']" Attribute="value" NewValue="##EnvSGAdminIp##" />
                        <Replace XPath="//PropertyValue[@name='SG_INTERNET_IP']" Attribute="value" NewValue="##EnvSGInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='XDS_INTERNET_IP']" Attribute="value" NewValue="##EnvXDSInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='NPDB_SVR_GLOBAL']" Attribute="value" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//PropertyValue[@name='Site.DataFolder']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='CATALOG_PROD_BACKUP_GLOBAL']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='CATALOG_PUBLISHER']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='CATALOG_DISTRIBUTOR']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvAllSQL1##']">
                            <PublishedComponentName name="NPDB Upgrade XSR" />
                            <PublishedComponentName name="tokendb_upgrade XSR" />
                            <PublishedComponentName name="UODB Upgrade XSR" />
                            <PublishedComponentName name="usercommercedb_upgrade XSR" />
                            <PublishedComponentName name="WebDB Upgrade XSR" />
                        </AddElement>
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvMstrSQL##']">
                            <PublishedComponentName name="catalog_drop_subscription" />
                            <PublishedComponentName name="catalog_upgrade_remove_articles" />
                            <PublishedComponentName name="catalog_upgrade" />
                            <PublishedComponentName name="catalog_upgrade_add_articles" />
                            <PublishedComponentName name="catalog_add_subscription" />
                        </AddElement>
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvCatrSQL##']">
                            <PublishedComponentName name="catalog_drop_subscription" />
                            <PublishedComponentName name="catalog_install_replica" />
                            <PublishedComponentName name="catalog_add_subscription" />
                        </AddElement>
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvPoolIIS##']">
                            <PublishedComponentName name="PreRequisites-Front Doors" />
                            <PublishedComponentName name="Cron Front Door" />
                            <PublishedComponentName name="Match Front Door" />
                            <PublishedComponentName name="Mix Beta Management Service" />
                            <PublishedComponentName name="Mix Offer Management Service" />
                            <PublishedComponentName name="Mix Product Management Service" />
                            <PublishedComponentName name="Mix Storage Service" />
                            <PublishedComponentName name="Mix Subscription Family Service" />
                            <PublishedComponentName name="Mix Title Management Service" />
                            <PublishedComponentName name="Mix Token Management Service" />
                            <PublishedComponentName name="XBOS Front Door" />
                            <PublishedComponentName name="XCBK Front Door" />
                            <PublishedComponentName name="XUACS Front Door" />
                            <PublishedComponentName name="Presence Front Door" />
                            <PublishedComponentName name="Strings Front Door" />
                            <PublishedComponentName name="Sts Front Door" />
                            <PublishedComponentName name="Support Front Door" />
                            <PublishedComponentName name="Vortex FD Service" />
                            <PublishedComponentName name="WC Storage" />
                            <PublishedComponentName name="XSIG Front Door" />
                        </AddElement>
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvSecuINH##']">
                            <PublishedComponentName name="PreRequisites-Front Doors" />
                            <PublishedComponentName name="Active Auth Server" />
                            <PublishedComponentName name="SG Server" />
                            <PublishedComponentName name="XKDC Server" />
                        </AddElement>
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvPoolINH##']">
                            <PublishedComponentName name="Cleanser Server" />
                        </AddElement>
                        <AddElement XPath="DeploymentInstance/Server[@name='##EnvInfrTLS##']">
                            <PublishedComponentName name="PreRequisites-Front Doors" />
                            <PublishedComponentName name="Tools XSR" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Update the TPPSettings file for the new environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\deployment\titleproppro\tppsettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='BVTNet']" Attribute="Name" NewValue="##Environment##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitleProp" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LBSvr" NewValue="##EnvPoolINH##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/MatchSvr" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Set the NPDB location in STF.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Set up LiveLib.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                        <AddElement XPath="livelib/environments">
                            <environment name="##Environment##-int" type="DirectAccess">
                                <defaultSchemaVersion major="6" minor="0" />
                                <ipaddresses>
                                    <ipaddress svcId="1" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_presence" />
                                    <ipaddress svcId="2" host="##EnvPoolIIS##" transactionType="FD" vifc="stringsvr" />
                                    <ipaddress svcId="4" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_base_subscription" />
                                    <ipaddress svcId="5" host="##EnvPoolIIS##" transactionType="FD" vifc="xuacs" />
                                    <ipaddress svcId="6" host="##EnvPoolIIS##" transactionType="FD" vifc="xmatchfd" />
                                    <ipaddress svcId="7" host="##EnvPoolIIS##" transactionType="FD" vifc="xstatsfd" />
                                    <ipaddress svcId="8" host="##EnvPoolIIS##" transactionType="FD" vifc="fbserver" />
                                    <ipaddress svcId="9" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_billing_offering" />
                                    <ipaddress svcId="10" host="##EnvPoolIIS##" transactionType="FD" />
                                    <ipaddress svcId="11" host="##EnvPoolIIS##" transactionType="FD" vifc="xtou" />
                                    <ipaddress svcId="12" host="##EnvPoolIIS##" transactionType="FD" vifc="xsig" />
                                    <ipaddress svcId="13" host="##EnvPoolIIS##" transactionType="FD" vifc="xqry" />
                                    <ipaddress svcId="14" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_name_resolution" />
                                    <ipaddress svcId="15" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_storage" />
                                    <ipaddress svcId="16" host="##EnvPoolIIS##" transactionType="FD" vifc="xarb" />
                                    <ipaddress svcId="18" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_messaging" />
                                    <ipaddress svcId="19" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_teams" />
                                    <ipaddress svcId="21" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_drm" />
                                    <ipaddress svcId="26" host="0.0.0.0" transactionType="FD" vifc="xconnsrv" />
                                    <ipaddress svcId="175" host="##EnvCatalogIp##" transactionType="Http" vifc="catalog" />
                                    <ipaddress svcId="176" host="##EnvPoolIIS##" transactionType="Http" vifc="web billing" />
                                    <ipaddress svcId="177" host="##EnvPoolIIS##" transactionType="AA" />
                                    <ipaddress svcId="178" host="##EnvPoolIIS##" transactionType="Http" />
                                    <ipaddress svcId="181" host="##EnvSecuINH##" transactionType="FD" vifc="authsg" />
                                </ipaddresses>
                            </environment>
                        </AddElement>
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Pre-Deployment Tasks" Condition="IfPassing" Rollup="false">
                <Task Name="Remove access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <Options Domain="hyper.live" />
                        <SecurityGroup Action="Remove" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
                    </Parameters>
                </Task>
                <Task Name="Restore base snapshots" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="##EnvServerPrefix##Client%" />
                        <ApplySnapshot SnapshotNameSpec="LatestXSR: Ready for Deployment%" />
                    </Parameters>
                </Task>
                <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>HxHyperC2B4</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##Environment## Billing One Box" />
                        <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Ensure DAService has started" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="172.19.144.61" />
                    <Parameter Name="Services" Value="DAService" />
                    <Parameter Name="UserName" Value="VM1BoxDom\Administrator" />
                    <Parameter Name="Password" Value="#Bugsfor$" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Fix up the Temporal Partition on the Billing 1-box" Module="CommandLineTaskModule" Type="Remote">
                    <Parameters>
                        <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="true" CaptureOutput="false" />
                        <RunAt Server="172.19.144.61" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                    </Parameters>
                </Task>
                <!-- Update the data file used by the Geo Segmentation service -->
                <Task Name="Copy GeoFencing data file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                        <SourceLocation Path="G:\Stage\GeoFencing" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\Webroot\Geo\Data" />
                    </Parameters>
                </Task>
                <!-- Stop all services on the PoolINH and SecuINH servers -->
                <Task Name="Stop services on the PoolINH server" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Stop" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,XPServer" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Stop services on the SecuINH server" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Stop" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="Services" Value="XDS,XKDC,xmgmt,SGSVC" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <!-- Recycle all App Pools on the PoolIIS server -->
                <Task Name="Recycle all App Pools on the PoolIIS server" Module="IISTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="StartStoppedPools" Value="true" />
                    <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                    <Parameter Name="AppPools" Value="All" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Fix up configuration file to point to 32-bit" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##\##BuildName##_XSR.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp" />
                    </Parameters>
                </Task>
                <Task Name="Install 32-bit Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##\##BuildName##_XSR.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Fix up configuration file to point to 64-bit" Module="XMLFileModule" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##\##BuildName##_XSR.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail64\msi\esp" />
                    </Parameters>
                </Task>
                <Task Name="Install 64-bit Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\msi\esp\configuration\##Environment##\##BuildName##_XSR.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>

            <TaskGroup Name="Environment Configuration" Rollup="true" Condition="IfPassing">
                <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
                <Task Name="Update the ContentDownload port to 3074 in t_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the ContentDownload port to 3074 in t_virtual_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_virtual_interface 'download','download',@port=3074,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBWatcher" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBWatcher','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBXbox" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBXbox','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>

                <!-- Set environment-specific setting overrides -->
                <Task Name="Enable nCipher for the KDC" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'kdcsvc_xmacs_useNCipher','1','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Remove the xuacs_allowUncheckedRecovery setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">delete from t_setting_overrides where vc_setting='xuacs_allowUncheckedRecovery' and vc_environment='##Environment##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable the DebugResult setting for XArb" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xarb_EnableDebugResult','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>

                <!-- Update the AAIFDReflector -->
                <Task Name="Update the AAIFDReflector files on the SecuINH server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests\SuitesData\AAIFDReflector" />
                        <DestLocation Path="\\##EnvSecuINH##\d$\webroot\ActiveAuthTest" />
                    </Parameters>
                </Task>
                <Task Name="Recycle the AAIFDReflector App Pool" Module="IISTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="AppPools" Value="ActiveAuthTest" />
                    <Parameter Name="StartStoppedPools" Value="true" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>

                <!--
                    Ensure all NT Services are started and reset all IIS AppPools
                -->
                <Task Name="Ensure services on the PoolINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,XPServer" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Reboot the SecuINH server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvSecuINH##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Reboot the PoolIIS server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvPoolIIS##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="120" />
            </TaskGroup>

            <TaskGroup Name="Prop BVT Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\d$\WebRoot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="5" />
                </Task>
                <Wait WaitSeconds="30" />
                <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" ErrorsAreFatal="false" />
                        <RunAt Server="##EnvInfrTLS##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##" />
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Yellow">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Run LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT\LiveLKG.xml"/>
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <TaskGroup Name="Prop Remaining Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Prop Acceptance Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Acceptance" />
                    <Parameter Name="Threads" Value="5" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
                <Task Name="Prop Extended Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Extended" />
                    <Parameter Name="Threads" Value="10" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
            </TaskGroup>

            <Task Name="Create the new Ready for Deployment snapshots" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                <Parameters>
                    <Hosts>##EnvHostList##</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Client%" />
                    <CreateSnapshot NewSnapshotName="LatestXSR: Ready for Deployment" ReplaceExisting="true" />
                </Parameters>
            </Task>
        </Job>



        <!--
              Job Name:       CoverNet XOnline R2 Testing
              Schedule:       Every quarter-hour on Monday, Tuesday, Wednesday & Friday between 04:30 and 17:00
              Environment:    CoverNet
              Type:           LKG - Full deployment
              
              Code-Coverage Instrumented XOnline_R2 LKG testing in Covernet
          -->
        <Job Name="CoverNet XOnline R2 Testing" Build="XOnline_R2" Environment="CoverNet" Type="Deployment" Priority="Medium" Enabled="false" LogBase="\\XLFINFRTLS001\Logs">
            <Schedule Rate="QuarterHourly" Frequency="0" Weekdays="Monday,Tuesday,Wednesday,Friday" StartTime="04:30:00" EndTime="17:00:00">
                <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\Latest\##BuildName##.cov\??.??.????.??" IsRemote="true"/>
            </Schedule>
            <Report ToList="ryanward" Condition="Always" XsltName="DeploymentResults.xslt" />

            <TaskGroup Name="Stage LKG build to the CoverNet folder" Rollup="true">
                <Task Name="Delete old CoverNet LKG bits" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Copy LKG bits to the CoverNet folder" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\Latest\##BuildName##.cov" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>
            <!-- Create CoverNet Environment -->
            <TaskGroup Name="Create the CoverNet environment" Condition="IfPassing" Rollup="false">
                <Task Name="Copy the BVTNet database deployment files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="deployment_bvtnet.xml" NewFileName="deployment_##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\database\prodbase" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\database\prodbase" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific Genealogy update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\database\upgrade\genealogy\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\database\upgrade\genealogy\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific UODB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\database\upgrade\uodb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\database\upgrade\uodb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Create environment-specific WebDB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\database\upgrade\webdb\dml\data\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\database\upgrade\webdb\dml\data\##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Modify the database deployment files to point to the correct servers" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\database\prodbase" FileSpec="deployment_##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="true" />
                        <Replace FindString="BVT" ReplaceString="##EnvServerPrefix##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB prodbase .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\database\prodbase\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Inject the new environment name into the NPDB upgrade .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\database\upgrade\npdb\dml\data" FileSpec="*.sql" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                    </Parameters>
                </Task>
                <Task Name="Change the service.xml file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\octopus" FileSpec="service.xml" />
                        <Replace FindString="bvtnet" ReplaceString="##Environment##" IgnoreCase="true" />
                        <Recurse />
                    </Parameters>
                </Task>
                <Task Name="Update the name of the XCBK cert in the site.xml file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\Secure\##Environment##\site.xml" />
                        <Replace XPath="Site/Certificates/SSLCert[@Identifier='ssl.spsxcbk']" Attribute="File" NewValue="##EnvPoolIISIp##.pfx" />
                    </Parameters>
                </Task>
                <Task Name="Create the Octopus config file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="bvtnet.xml" NewFileName="##Environment##.xml" Recurse="true" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\configuration\bvtnet" />
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\configuration\hypernet" />
                    </Parameters>
                </Task>
                <Task Name="Change the user names in the Octopus config file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\configuration\hypernet" FileSpec="##Environment##.xml" />
                        <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="false" />
                    </Parameters>
                </Task>
                <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\configuration\hypernet\##Environment##.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail.cov\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="//Server[@name='BVTXALLSQL001']" Attribute="name" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//Server[@name='BVTXALLSQL002']" Attribute="name" NewValue="##EnvAllSQL2##" />
                        <Replace XPath="//Server[@name='BVTMSTRSQL001']" Attribute="name" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//Server[@name='BVTCATRSQL001']" Attribute="name" NewValue="##EnvCatrSQL##" />
                        <Replace XPath="//Server[@name='BVTINFRTLS001']" Attribute="name" NewValue="##EnvInfrTLS##" />
                        <Replace XPath="//Server[@name='BVTPOOLIIS001']" Attribute="name" NewValue="##EnvPoolIIS##" />
                        <Replace XPath="//Server[@name='BVTPOOLINH001']" Attribute="name" NewValue="##EnvPoolINH##" />
                        <Replace XPath="//Server[@name='BVTSECUINH001']" Attribute="name" NewValue="##EnvSecuINH##" />
                        <Replace XPath="//PropertyValue[@name='Environment']" Attribute="value" NewValue="##Environment##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_BEGIN']" Attribute="value" NewValue="##EnvClientPoolIpBegin##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_END']" Attribute="value" NewValue="##EnvClientPoolIpEnd##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_NETMASK']" Attribute="value" NewValue="##EnvClientPoolNetmask##" />
                        <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_GATEWAY']" Attribute="value" NewValue="##EnvClientPoolGateway##" />
                        <Replace XPath="//PropertyValue[@name='SG_ADMIN_IP']" Attribute="value" NewValue="##EnvSGAdminIp##" />
                        <Replace XPath="//PropertyValue[@name='SG_INTERNET_IP']" Attribute="value" NewValue="##EnvSGInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='XDS_INTERNET_IP']" Attribute="value" NewValue="##EnvXDSInternetIp##" />
                        <Replace XPath="//PropertyValue[@name='NpdbServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                        <Replace XPath="//PropertyValue[@name='Site.DataFolder']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='CatalogPublisher']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='CatalogDistributor']" Attribute="value" NewValue="##EnvMstrSQL##" />
                        <Replace XPath="//PropertyValue[@name='LegacyOfferServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Update the TPPSettings file for the new environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\deployment\titleproppro\tppsettings.xml" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='BVTNet']" Attribute="Name" NewValue="##Environment##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\TitlePropLogs" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LBSvr" NewValue="##EnvPoolINH##" />
                        <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/MatchSvr" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Update the local WebStore config file to point to this environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="C:\Program Files\Microsoft Webstore\WstRuntime.config" />
                        <!-- This is a total hack because WebStore uses upper-case site names and we use mixed-case environment names. -->
                        <Replace XPath="configuration/WEBSTORE/WEBSTOREMETADATA/SITES/SITE[@NAME='COVERNET']/CONFIGS/CONFIG" Attribute="SERVERNAME" NewValue="##EnvAllSQL1##" />
                    </Parameters>
                </Task>
                <Task Name="Set the NPDB location in STF.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\stf.xml" />
                        <AddElement XPath="stf/config">
                            <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                        </AddElement>
                    </Parameters>
                </Task>
                <Task Name="Set up LiveLib.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\stftests\livelib.xml" />
                        <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                        <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                        <AddElement XPath="livelib/environments">
                            <environment name="##Environment##-int" type="DirectAccess">
                                <defaultSchemaVersion major="6" minor="0" />
                                <ipaddresses>
                                    <ipaddress svcId="1" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_presence" />
                                    <ipaddress svcId="2" host="##EnvPoolIIS##" transactionType="FD" vifc="stringsvr" />
                                    <ipaddress svcId="4" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_base_subscription" />
                                    <ipaddress svcId="5" host="##EnvPoolIIS##" transactionType="FD" vifc="xuacs" />
                                    <ipaddress svcId="6" host="##EnvPoolIIS##" transactionType="FD" vifc="xmatchfd" />
                                    <ipaddress svcId="7" host="##EnvPoolIIS##" transactionType="FD" vifc="xstatsfd" />
                                    <ipaddress svcId="8" host="##EnvPoolIIS##" transactionType="FD" vifc="fbserver" />
                                    <ipaddress svcId="9" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_billing_offering" />
                                    <ipaddress svcId="10" host="##EnvPoolIIS##" transactionType="FD" />
                                    <ipaddress svcId="11" host="##EnvPoolIIS##" transactionType="FD" vifc="xtou" />
                                    <ipaddress svcId="12" host="##EnvPoolIIS##" transactionType="FD" vifc="xsig" />
                                    <ipaddress svcId="13" host="##EnvPoolIIS##" transactionType="FD" vifc="xqry" />
                                    <ipaddress svcId="14" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_name_resolution" />
                                    <ipaddress svcId="15" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_storage" />
                                    <ipaddress svcId="16" host="##EnvPoolIIS##" transactionType="FD" vifc="xarb" />
                                    <ipaddress svcId="18" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_messaging" />
                                    <ipaddress svcId="19" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_teams" />
                                    <ipaddress svcId="21" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_drm" />
                                    <ipaddress svcId="26" host="0.0.0.0" transactionType="FD" vifc="xconnsrv" />
                                    <ipaddress svcId="175" host="##EnvCatalogIp##" transactionType="Http" vifc="catalog" />
                                    <ipaddress svcId="176" host="##EnvPoolIIS##" transactionType="Http" vifc="web billing" />
                                    <ipaddress svcId="177" host="##EnvPoolIIS##" transactionType="AA" />
                                    <ipaddress svcId="178" host="##EnvPoolIIS##" transactionType="Http" />
                                    <ipaddress svcId="181" host="##EnvSecuINH##" transactionType="FD" vifc="authsg" />
                                </ipaddresses>
                            </environment>
                        </AddElement>
                    </Parameters>
                </Task>
            </TaskGroup>
            <!-- Pre-Deployment Tasks -->
            <TaskGroup Name="Pre-Deployment Tasks" Condition="IfPassing" Rollup="false">
                <!-- Restore the base snapshots on all servers -->
                <Task Name="Restore base snapshots" Module="AsyncVMSnapshotModule" Type="Local" Condition="IfPassing">
                    <Parameter Name="Action" Value="ApplySnap" />
                    <Parameter Name="HostList" Value="##EnvHostList##" />
                    <Parameter Name="VMNameSpec" Value="##EnvServerPrefix##%" />
                    <Parameter Name="IgnoreVMList" Value="##EnvServerPrefix##Client%" />
                    <Parameter Name="SnapshotNameSpec" Value="Ready for Deployment%" />
                    <Parameter Name="Force" Value="true" />
                    <Parameter Name="UserName" Value="##EnvUserName##" />
                    <Parameter Name="Password" Value="##LocalPassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##LocalPasswordEncrypted##" />
                </Task>
                <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local">
                    <Parameters>
                        <Hosts>HxHyperC2B7</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##Environment## Billing One Box" />
                        <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Ensure DAService has started" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="172.19.144.62" />
                    <Parameter Name="Services" Value="DAService" />
                    <Parameter Name="UserName" Value="VM1BoxDom\Administrator" />
                    <Parameter Name="Password" Value="#Bugsfor$" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Fix up the Temporal Partition on the Billing 1-box" Module="CommandLineTaskModule" Type="Remote">
                    <Parameters>
                        <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="true" CaptureOutput="false" />
                        <RunAt Server="172.19.144.62" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                    </Parameters>
                </Task>

                <!-- Enable the Geo Segmentation service -->
                <Task Name="Copy GeoFencing data file" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                        <SourceLocation Path="G:\Stage\GeoFencing" />
                        <DestLocation Path="\\##EnvPoolIIS##\D$\Webroot\Geo\Data" />
                    </Parameters>
                </Task>
                <Task Name="Ensure the Geo Segmentation Service is started" Module="ServicesTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Restart" />
                    <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                    <Parameter Name="Services" Value="Geo Segmentation Service 2.2" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
            </TaskGroup>
            <!-- Install Xbox LIVE using Octopus -->
            <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
                <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <FileLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\hypernet\##Environment##.xml" />
                        <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\octopus" />
                        <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\Deployment" />
                        <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                        <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                        <Replace XPath="//PropertyValue[@name='LogRootDir']" Attribute="value" NewValue="E:\Logroot" />
                    </Parameters>
                </Task>
                <Task Name="Install Xbox LIVE Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="InstallationType" Value="install" />
                    <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\merged-retail\configuration\hypernet\##Environment##.xml" />
                    <Parameter Name="Password" Value="##RemotePassword##" />
                    <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
                </Task>
                <Wait WaitSeconds="60" />
            </TaskGroup>
            <!-- Configure the Environment -->
            <TaskGroup Name="Environment Configuration" Rollup="true" Condition="IfPassing">
                <!-- Update the AAIFDReflector -->
                <Task Name="Update the AAIFDReflector files on the SecuINH server" Module="FileTaskModule" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests\SuitesData\AAIFDReflector" />
                        <DestLocation Path="\\##EnvSecuINH##\D$\webroot\ActiveAuthTest" />
                    </Parameters>
                </Task>
                <Task Name="Recycle the AAIFDReflector App Pool" Module="IISTaskModule" Type="Remote">
                    <Parameter Name="Action" Value="Recycle" />
                    <Parameter Name="Machine" Value="##EnvSecuINH##" />
                    <Parameter Name="AppPools" Value="ActiveAuthTest" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <!-- Copy the SG ini file to the SecuINH server -->
                <Task Name="Copy SG ini file to the SecuINH server" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="sgkey_site1_ver1.ini" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\secure-##Environment##$" />
                        <DestLocation Path="\\##EnvSecuINH##\d$\webroot\sgcfg" />
                    </Parameters>
                </Task>
                <!-- Deploy the LiveSignup app to the PoolIIS server -->
                <Task Name="Deploy LiveSignup" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\Stage\LiveSignup" />
                        <DestLocation Path="\\##EnvPoolIIS##\d$\webroot\xtou\xedl\LiveSignup" />
                    </Parameters>
                </Task>
                <!-- Update virtual interface IPs -->
                <Task Name="Add the fastEspMarketplaceSearch virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'fastEspMarketplaceSearch','##EnvPoolIISIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the FECatalogDBZune virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_ips set vc_ip='172.19.144.75' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='fecatalogdbzune'</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_A virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_A','172.19.144.75',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Add the FECatalogDBZune_B virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_B','172.19.144.75',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBWatcher" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBWatcher','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the Virtual Interface IP for FECatalogDBXbox" Module="SQLTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBXbox','##EnvCatrSQLIp##',1</Query>
                    </Parameters>
                </Task>
                <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
                <Task Name="Update the ContentDownload port to 3074 in t_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the ContentDownload port to 3074 in t_virtual_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_virtual_interface 'download','download',@port=3074,@timeout=30000,@overwriteExistingValue=1</Query>
                    </Parameters>
                </Task>
                <!-- Update environment-specific settings overrides -->
                <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testContentType','4edb3445-d489-4f3f-9760-55f1a85dfe3a','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings user PUID" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testUserPuid','985160330844665','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the Ratings content type mappings" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false"><![CDATA[exec p_config_add_setting_override 'ratings_contenttype_mapping','<root><contentTypeMapping mediatype="1" contentTypeId="596d1667-572a-4611-9f87-a5d3edf45b36"/><contentTypeMapping mediatype="18" contentTypeId="faa29126-f880-444a-b951-01a4a8dce301"/><contentTypeMapping mediatype="19" contentTypeId="d180a26c-a2a4-4d7b-9094-3a12725447b5"/><contentTypeMapping mediatype="20" contentTypeId="3fe2a114-98c8-4881-bc7a-aaf16c2cab9c"/><contentTypeMapping mediatype="21" contentTypeId="3d6ada32-2733-4d41-b67c-e325f643c25f"/><contentTypeMapping mediatype="22" contentTypeId="7a1e9a32-4828-4180-9127-72e06435b553"/><contentTypeMapping mediatype="23" contentTypeId="d7da7178-06f4-4728-959c-d5ce6bf6f5a1"/><contentTypeMapping mediatype="30" contentTypeId="e9c2dbae-022f-49d2-816e-dc1604ed8aca"/><contentTypeMapping mediatype="34" contentTypeId="0ea3aa76-ae84-48cb-b9fc-32901f0191ae"/><contentTypeMapping mediatype="37" contentTypeId="c01942e6-de53-4eb6-92a4-7316a47a4c57"/><contentTypeMapping mediatype="47" contentTypeId="d0d510b6-43fa-4bcf-98e9-1c354f68fbbc"/></root>','##Environment##','ALL',-1,'ALL',1]]></Query>
                    </Parameters>
                </Task>
                <Task Name="Override the XCBK certificate name" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xcbk_sslCertSubject','##EnvPoolIISIp##','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download URL" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">update t_site_virtual_interface_overrides set vc_info1='##EnvINHInternetIp##' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='download'</Query>
                    </Parameters>
                </Task>
                <Task Name="Override the default Download Content Directory location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'download_contentDirectory','F:\contentDownload','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for game offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_offerGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable GeoFencing for video offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_videoGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Enable nCipher for the KDC" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <!-- This environment isn't recognized by the nCipher box, so we need to set this value to 0 -->
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'kdcsvc_xmacs_useNCipher','0','##Environment##','ALL',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                    </Parameters>
                </Task>
                <!-- Update environment-specific LiveHive settings -->
                <Task Name="Update the AvatarPictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarPictureUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the AvatarAssetUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarAssetUriRoot','http://##EnvINHInternetIp##:3074/content'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the UpdateUriRoot1 LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','UpdateUriRoot1','http://##EnvINHInternetIp##:3074/content'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogCDNUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the CatalogUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriPort','12020'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the StoragePictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','StoragePictureUriRoot','http://##EnvINHInternetIp##'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixAvatarConfigPath LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixAvatarConfigPath','/shaXam/0403/03/b0/03b03926-3388-4a1f-a7f6-6439bc13501c.txt'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixPreviewUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixPreviewUriRoot','http://10.198.102.130'</Query>
                    </Parameters>
                </Task>
                <Task Name="Update the EpixUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixUriRoot','http://10.184.224.129'</Query>
                    </Parameters>
                </Task>
                <!-- Ensure all NT Services are started and reset all IIS AppPools -->
                <Task Name="Ensure services on the PoolINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                    <Parameter Name="Action" Value="Start" />
                    <Parameter Name="Machine" Value="##EnvPoolINH##" />
                    <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,PresenceCache,ProfileCache,NotificationCache" />
                    <Parameter Name="ErrorsAreFatal" Value="false" />
                </Task>
                <Task Name="Reboot the SecuINH server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvSecuINH##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="60" />
                <Task Name="Reboot the PoolIIS server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                    <Parameters>
                        <Hosts>##EnvHostList##</Hosts>
                        <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                        <VM NameSpec="##EnvPoolIIS##" />
                        <RebootVM />
                    </Parameters>
                </Task>
                <Wait WaitSeconds="90" />
            </TaskGroup>

            <!-- Run TitlePropPro to prop all BVT titles -->
            <TaskGroup Name="Prop BVT Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\Deployment\TitlePropPro" />
                        <DestLocation Path="\\##EnvInfrTLS##\D$\WebRoot\TitlePropPro" />
                    </Parameters>
                </Task>
                <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="BVT" />
                    <Parameter Name="Threads" Value="1" />
                </Task>
                <Wait WaitSeconds="120" />
                <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" ErrorsAreFatal="false" />
                        <RunAt Server="##EnvInfrTLS##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <!-- Validate the deployment using Healthchecks and the LiveLKG suite -->
            <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
                <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameters>
                        <HealthCheckList NPDBServer="##EnvAllSQL1##" />
                        <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                        <Options BatchSize="5" />
                        <LogsLocation>\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\HealthChecks</LogsLocation>
                        <HealthCheckExceptions>
                            <HealthCheckException Component="authsg" HealthStatus="Yellow">
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="catalog" HealthStatus="Yellow">
                                <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="cron" HealthStatus="Red">
                                <HealthBlockException Name="*" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                                </HealthBlockException>
                                <HealthBlockException Name="CatalogWatcherPlugin" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Could not resolve Contentdistributor</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="marketplacecatalog" HealthStatus="Yellow">
                                <HealthBlockException Name="MarketplaceCatalogHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">Failed to fetch Search View</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                                <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="livecache" HealthStatus="Yellow">
                                <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="ratings" HealthStatus="Red">
                                <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                    <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xbos" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            </HealthCheckException>
                            <HealthCheckException Component="xsig" HealthStatus="Yellow">
                                <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                            <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                                <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                                <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                    <ErrorDetails Op="Contains">Expiry check:</ErrorDetails>
                                </HealthBlockException>
                            </HealthCheckException>
                        </HealthCheckExceptions>
                    </Parameters>
                </Task>
                <Task Name="Run LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                    <Parameter Name="STFLocation" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests" />
                    <Parameter Name="Environment" Value="##Environment##"/>
                    <Parameter Name="Suite" Value="F:\Builds\##Environment##\##BuildName##\retail\test\stftests\suites\LiveBVT.dll" />
                    <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##\LiveBVT"/>
                    <Parameter Name="AllowTag" Value="LiveLKG" />
                </Task>
            </TaskGroup>

            <!-- Prop remaining titles -->
            <TaskGroup Name="Prop Remaining Titles" Rollup="true" Condition="IfPassing">
                <Task Name="Prop Acceptance Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Acceptance" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
                <Task Name="Prop Extended Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                    <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                    <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                    <Parameter Name="Env" Value="##Environment##" />
                    <Parameter Name="Title" Value="Extended" />
                    <Parameter Name="PropFailuresAreFatal" Value="false" />
                </Task>
            </TaskGroup>

            <!-- Release the environment -->
            <TaskGroup Name="Release the Environment" Condition="IfPassing" Rollup="false">
                <Task Name="Delete old trigger file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Delete" FileSpec="Released.txt" Recurse="false" Force="true" />
                        <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
                <Task Name="Create new trigger file" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Create" FileSpec="Released.txt">
                            <FileContents>##BuildVersion##</FileContents>
                        </FileCommand>
                        <DestLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##" />
                    </Parameters>
                </Task>
            </TaskGroup>

            <!-- Gather Post-Mortem information from this job: Events, IIS/App Logs, and select NPDB settings -->
            <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
                <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <Connection ServerList="##EnvAllServersList##" />
                        <EventLog Name="Application" />
                        <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                        <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                        <Filter Field="Type" Op="NotEquals" Value="4" />
                        <Filter Field="Type" Op="NotEquals" Value="5" />
                        <Output Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\EventLogs\##JobId## (##JobType##)" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                    </Parameters>
                </Task>
                <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                    </Parameters>
                </Task>
                <Task Name="Pull Marketplace test data logs from the MstrSQL server" Module="FileTaskModule" Condition="Always" Type="Remote">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                        <DestLocation Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                    </Parameters>
                </Task>
                <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                    </Parameters>
                </Task>
                <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                    <Parameters>
                        <Connection Server="##EnvAllSQL1##" Database="npdb" />
                        <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                        <Results Path="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                    </Parameters>
                </Task>
                <Task Name="Copy the changes.txt file to attach to the results mail" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Copy" FileSpec="changes.txt" Recurse="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
                <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                    <Parameters>
                        <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                        <SourceLocation Path="\\##StagerName##\Logs\##Environment##\##BuildName##\##BuildVersion##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                        <DestLocation Path="##LogBase##\##Environment##\##BuildName##\##BuildVersion##" />
                    </Parameters>
                </Task>
            </TaskGroup>
        </Job>

        <!--
              Job Name:       Run Complete STF Suite
              Schedule:       Every quarter-hour on Thursday between 01:00 and 14:00
              Environment:    CoverNet
              Type:           Regression test pass

              Code-Coverage Instrumented complete STF Suite
          -->
        <Job Name="Run Complete STF Suite" Build="XOnline_R2" Environment="CoverNet" Type="TestRun" Priority="Medium" Enabled="false" LogBase="\\XLFINFRTLS001\Logs">
          <Schedule Rate="QuarterHourly" Frequency="1" StartTime="01:00:00" EndTime="14:00:00" Weekdays="Thursday">
            <Trigger FileSpec="\\##StagerName##\##StagerBuildShare##\##Environment##\##BuildName##\Released.txt" TriggerUse="ContentOnly" IsRemote="true"/>
          </Schedule>
          <Report ToList="ryanward" Condition="Always" XsltName="DeploymentResults.xslt" />
          <!-- Setup Test Pass -->
          <TaskGroup Name="Setup Test Pass" Condition="Always" Rollup="true" >
            <Task Name="Remove access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfPassing">
              <Parameters>
                <Options Domain="hyper.live" />
                <SecurityGroup Action="Remove" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
              </Parameters>
            </Task>
            <Task Name="Revert clients to a clean state" Module="AsyncVMSnapshotModule" Type="Local">
              <Parameter Name="Action" Value="ApplySnap" />
              <Parameter Name="HostList" Value="##EnvHostList##" />
              <Parameter Name="VMNameSpec" Value="##EnvServerPrefix##Client%" />
              <Parameter Name="SnapshotNameSpec" Value="Clean%" />
              <Parameter Name="Force" Value="true" />
              <Parameter Name="UserName" Value="##EnvUserName##" />
              <Parameter Name="Password" Value="##LocalPassword##" />
              <Parameter Name="PasswordEncrypted" Value="##LocalPasswordEncrypted##" />
            </Task>
            <Wait WaitSeconds="60"/>
            <Task Name="Stage STF to Client001" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                <DestLocation Path="\\##EnvServerPrefix##Client001\D$\STF" />
              </Parameters>
            </Task>
            <Task Name="Stage STF to Client002" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                <DestLocation Path="\\##EnvServerPrefix##Client002\D$\STF" />
              </Parameters>
            </Task>
            <Task Name="Stage STF to Client003" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                <DestLocation Path="\\##EnvServerPrefix##Client003\D$\STF" />
              </Parameters>
            </Task>
            <Task Name="Stage STF to Client004" Module="FileTaskModule" Condition="IfPassing" Type="Remote">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\##BuildName##\retail\test\STFTests" />
                <DestLocation Path="\\##EnvServerPrefix##Client004\D$\STF" />
              </Parameters>
            </Task>
            <Task Name="Install XblCore.dll into the GAC" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
              <Parameters>
                <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                <RunAt Server="##EnvServerPrefix##Client001" />
              </Parameters>
            </Task>
            <Task Name="Install XblCore.dll into the GAC" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
              <Parameters>
                <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                <RunAt Server="##EnvServerPrefix##Client002" />
              </Parameters>
            </Task>
            <Task Name="Install XblCore.dll into the GAC" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
              <Parameters>
                <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                <RunAt Server="##EnvServerPrefix##Client003" />
              </Parameters>
            </Task>
            <Task Name="Install XblCore.dll into the GAC" Module="CommandLineTaskModule" Type="Remote" Condition="IfPassing">
              <Parameters>
                <Command Executable="C:\Windows\Microsoft.NET\Framework64\v2.0.50727\InstallUtil.exe" Arguments="D:\STF\XblCore.dll" CaptureOutput="false" />
                <RunAt Server="##EnvServerPrefix##Client004" />
              </Parameters>
            </Task>
          </TaskGroup>

          <!-- Start GumShoe Collection Session -->
          <TaskGroup Name="Start GumShoe Collection Session" Condition="IfPassing" Rollup="true">
            <!-- Enable DAService -->
            <Task Name="Start the DAService on the PoolIIS server" Module="ServicesTaskModule" Condition="Always" Type="Remote">
              <Parameter Name="Action" Value="Start" />
              <Parameter Name="Machine" Value="##EnvPoolIIS##" />
              <Parameter Name="Services" Value="DAService" />
              <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Start GumShoe collection session the PoolIIS server" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="start" TimeoutSeconds="120" />
                <RunAt Server="##EnvPoolIIS##" />
              </Parameters>
            </Task>
            <Task Name="Turn off AutoSave on PoolIIS" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="autosave off" TimeoutSeconds="120" />
                <RunAt Server="##EnvPoolIIS##" />
              </Parameters>
            </Task>
            <!-- Stop DA Service -->
            <Task Name="Stop the DAService on the PoolIIS server" Module="ServicesTaskModule" Condition="Always" Type="Remote">
              <Parameter Name="Action" Value="Stop" />
              <Parameter Name="Machine" Value="##EnvPoolIIS##" />
              <Parameter Name="Services" Value="DAService" />
              <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>

            <!-- Enable DA Service -->
            <Task Name="Start the DAService on the PoolINH server" Module="ServicesTaskModule" Condition="Always" Type="Remote">
              <Parameter Name="Action" Value="Start" />
              <Parameter Name="Machine" Value="##EnvPoolINH##" />
              <Parameter Name="Services" Value="DAService" />
              <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Start GumShoe collection session the PoolINH server" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="start" TimeoutSeconds="120" />
                <RunAt Server="##EnvPoolINH##" />
              </Parameters>
            </Task>
            <Task Name="Turn off AutoSave on PoolINH" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="autosave off" TimeoutSeconds="120" />
                <RunAt Server="##EnvPoolINH##" />
              </Parameters>
            </Task>
            <!-- Stop DA Service -->
            <Task Name="Stop the DAService on the PoolINH server" Module="ServicesTaskModule" Condition="Always" Type="Remote">
              <Parameter Name="Action" Value="Stop" />
              <Parameter Name="Machine" Value="##EnvPoolINH##" />
              <Parameter Name="Services" Value="DAService" />
              <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>

            <!-- Enable DA Service -->
            <Task Name="Start the DAService on the SecuINH server" Module="ServicesTaskModule" Condition="Always" Type="Remote">
              <Parameter Name="Action" Value="Start" />
              <Parameter Name="Machine" Value="##EnvSecuINH##" />
              <Parameter Name="Services" Value="DAService" />
              <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Start GumShoe collection session the SecuINH server" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="start" TimeoutSeconds="120" />
                <RunAt Server="##EnvSecuINH##" />
              </Parameters>
            </Task>
            <Task Name="Turn off AutoSave on SecuINH" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="autosave off" TimeoutSeconds="120" />
                <RunAt Server="##EnvSecuINH##" />
              </Parameters>
            </Task>
            <!-- Stop DA Service -->
            <Task Name="Stop the DAService on the SecuINH server" Module="ServicesTaskModule" Condition="Always" Type="Remote">
              <Parameter Name="Action" Value="Stop" />
              <Parameter Name="Machine" Value="##EnvSecuINH##" />
              <Parameter Name="Services" Value="DAService" />
              <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
          </TaskGroup>

          <!-- Generate SQL Coverage Symbols and Start SQL Tracing -->
          <TaskGroup Name="Generate SQL Coverage Symbols and Start SQL Tracing" Condition="IfPassing" Rollup="true">
            <!-- Clean out collection location -->
            <Task Name="Run Batch File to Remove Any Old Collection Data" Module="CommandLineTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <Command Executable="cmd.exe" Arguments="/C G:\Stage\Utilities\SQLCC\SQL.Cleanup.bat" WorkingDirectory="G:\Stage\Utilities\SQLCC" TimeoutSeconds="300" ErrorsAreFatal="false" />
              </Parameters>
            </Task>
            <!-- Execute batch file -->
            <Task Name="Run Batch File to Generate SQL Coverage Symbols and Start Tracing" Module="CommandLineTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <Command Executable="cmd.exe" Arguments="/C G:\Stage\Utilities\SQLCC\SQL.GenerateAndStartTracing.bat" WorkingDirectory="G:\Stage\Utilities\SQLCC" TimeoutSeconds="900" ErrorsAreFatal="false" />
              </Parameters>
            </Task>
          </TaskGroup>

          <!-- Execute Test Pass -->
          <TaskGroup Name="Execute Test Pass" Condition="IfPassing" Rollup="true">
            <Task Name="Run the Regression Test Pass" Module="TestPassTaskModule" Type="Remote" Condition="IfPassing" LocalLogTarget="\\XLFINFRTLS001\Logs">
              <Parameters>
                <ResultXmlStylesheetName>TestSuiteSummary.xslt</ResultXmlStylesheetName>
                <TestPass DumpSuiteDetails="true" Env="##Environment##" Frequency="Regression" Build="##BuildName##" Version="##BuildVersion##" CutoffTime="23:00">
                  <TimingDataPath>G:\SuiteTimings\##Environment##\##BuildName##</TimingDataPath>
                  <ClientResultPath>E:\TestPassResults\##BuildName##\##BuildVersion##\Regression</ClientResultPath>
                  <LocalResultPath>L:\Logs\##Environment##\##BuildName##\##BuildVersion##\TestPassResults\Regression</LocalResultPath>
                  <STFLocation>D:\STF</STFLocation>
                  <STFParams NoAsync="true" />
                  <SuiteTimeoutSeconds>18000</SuiteTimeoutSeconds>
                  <EnvironmentRequirements>Billing,Catalog,XDS,TestFD,AAIFDReflector,XTOU,Zune,NotOnXBLOB</EnvironmentRequirements>
                  <Clients>##EnvClientList##</Clients>
                  <Suites>
                    <!-- Live Foundation Test Suites -->
                    <Suite Name="AAGatewayTests" Architecture="32" />
                    <Suite Name="AAModuleTests" Architecture="32" />
                    <Suite Name="BehaviorInjection" Architecture="32" />
                    <Suite Name="CustTest-LF" Architecture="32" />
                    <Suite Name="GSToolTests" Architecture="32" />
                    <Suite Name="Hive" Architecture="32" />
                    <Suite Name="IFLICTest" Architecture="32" />
                    <Suite Name="LiveBVT" Architecture="32" />
                    <Suite Name="LiveMatchTest" Architecture="32" />
                    <Suite Name="LSPTest" Architecture="32" />
                    <Suite Name="MachineBanTest" Architecture="32" />
                    <Suite Name="MixSettingsManagementTest" Architecture="32" />
                    <Suite Name="MsgToolTest" Architecture="32" />
                    <Suite Name="ServiceDVT" Architecture="32" />
                    <Suite Name="SignatureTest" Architecture="32" />
                    <Suite Name="StorageWidget" Architecture="64" />
                    <Suite Name="StringServTest" Architecture="32" />
                    <Suite Name="StsFDTest" Architecture="32" />
                    <Suite Name="VortexSTF" Architecture="32" />
                    <Suite Name="XblConfigTest" Architecture="32" />
                    <Suite Name="XBOSTestV2-LF" Architecture="32" />
                    <Suite Name="xCrypto" Architecture="32" />
                    <Suite Name="XDSTest" Architecture="32" />
                    <Suite Name="XeUacs" Architecture="32" />
                    <Suite Name="XeXbosGamertag" Architecture="32" />
                    <Suite Name="XkdcTest" Architecture="32" />
                    <Suite Name="xonline.common.test.ConnectionSettings" Architecture="32" />
                    <Suite Name="xonline.common.test.HealthChecks" Architecture="32" />
                    <Suite Name="XrlScanTestSuite" Architecture="32" />
                    <Suite Name="XSGTest" Architecture="32" />
                    <Suite Name="XStoreTest" Architecture="32" />
                    <Suite Name="XTOU" Architecture="32" />
                    <!-- Community & Games Test Suites -->
                    <Suite Name="AccelTest" Architecture="32" />
                    <Suite Name="Achievement" Architecture="32" />
                    <Suite Name="Feedback" Architecture="32" />
                    <Suite Name="GamerSettings" Architecture="32" />
                    <Suite Name="MessagingTest" Architecture="32" />
                    <Suite Name="MixBetaManagement" Architecture="32" />
                    <Suite Name="MixMatchTest" Architecture="32" />
                    <Suite Name="MixStatsTest" Architecture="32" />
                    <Suite Name="MixStorage" Architecture="32" />
                    <Suite Name="MixTitleManagementTest" Architecture="32" />
                    <Suite Name="PresTest" Architecture="32" />
                    <Suite Name="PresWidgetTest" Architecture="64" />
                    <Suite Name="StatsFD" Architecture="32" />
                    <Suite Name="StatsWidgetv3" Architecture="64" />
                    <Suite Name="WcProfileTest" Architecture="32" />
                    <Suite Name="XArbTest" Architecture="32" />
                    <Suite Name="XBANCTest" Architecture="32" />
                    <Suite Name="XConnSrvTest" Architecture="32" />
                    <Suite Name="XMatchTest" Architecture="32" />
                    <!-- Marketplace Test Suites -->
                    <Suite Name="CatalogPurchaseTests" Architecture="32" />
                    <Suite Name="CatalogQueryTests" Architecture="32" />
                    <Suite Name="CustTest-MP" Architecture="32" />
                    <Suite Name="ListsFunc" Architecture="32" />
                    <Suite Name="OfferManagementTest" Architecture="32" />
                    <Suite Name="ProductManagementTest" Architecture="32" />
                    <Suite Name="RateMediaFDTest" Architecture="32" />
                    <Suite Name="TokenManagementTest" Architecture="32" />
                    <Suite Name="UacsTest" Architecture="32" />
                    <Suite Name="XBOSTestV2-MP" Architecture="32" />
                    <Suite Name="XcbkTest" Architecture="32" />
                    <Suite Name="XeMPUacs" Architecture="32" />
                    <Suite Name="XeXbosConsumable" Architecture="32" />
                    <Suite Name="XeXbosGameBrowsing" Architecture="32" />
                    <Suite Name="XeXbosOldContent" Architecture="32" />
                    <Suite Name="XeXbosPurchase" Architecture="32" />
                    <Suite Name="XeXbosSubscription" Architecture="32" />
                    <Suite Name="XeXbosToken" Architecture="32" />
                  </Suites>
                </TestPass>
              </Parameters>
            </Task>
            <Task Name="Restore access permissions to the environment" Module="ActiveDirectoryTaskModule" Type="Remote" Condition="IfPassing">
              <Parameters>
                <Options Domain="hyper.live" />
                <SecurityGroup Action="Add" Name="Domain Users" MemberOf="##Environment##-LocalAdmin-All" />
              </Parameters>
            </Task>
          </TaskGroup>

          <!-- Save coverage data from PoolIIS server -->
          <TaskGroup Name="Collect and Upload coverage data from PoolIIS server" Condition="IfPassing" Rollup="true">
            <Task Name="Start the DAService on the PoolIIS server" Module="ServicesTaskModule" Condition="Always" Type="Remote">
              <Parameter Name="Action" Value="Start" />
              <Parameter Name="Machine" Value="##EnvPoolIIS##" />
              <Parameter Name="Services" Value="DAService" />
              <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Save GumShoe collection session on the PoolIIS server" Module="CommandLineTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="save ##BuildVersion##" TimeoutSeconds="120" />
                <RunAt Server="##EnvPoolIIS##" />
              </Parameters>
            </Task>
            <Task Name="End GumShoe collection session on the PoolIIS server" Module="CommandLineTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="stop" TimeoutSeconds="120" />
                <RunAt Server="##EnvPoolIIS##" />
              </Parameters>
            </Task>
            <Task Name="Publish GumShoe data to Staging" Module="CommandLineTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="publish \\##StagerName##\Transfer\CoverageData\##BuildName##\##BuildVersion##\##EnvPoolIIS##" TimeoutSeconds="120" />
                <RunAt Server="##EnvPoolIIS##" />
              </Parameters>
            </Task>
            <Task Name="Pull all coverage files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                <SourceLocation Path="\\##StagerName##\Transfer\CoverageData\##BuildName##\##BuildVersion##\##EnvPoolIIS##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##\CoverageData\##EnvPoolIIS##" />
              </Parameters>
            </Task>
          </TaskGroup>

          <!-- Save coverage data from PoolINH server -->
          <TaskGroup Name="Collect and Upload coverage data from PoolINH server" Condition="IfPassing" Rollup="true">
            <Task Name="Start the DAService on the PoolINH server" Module="ServicesTaskModule" Condition="Always" Type="Remote">
              <Parameter Name="Action" Value="Start" />
              <Parameter Name="Machine" Value="##EnvPoolINH##" />
              <Parameter Name="Services" Value="DAService" />
              <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Save GumShoe collection session on the PoolINH server" Module="CommandLineTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="save ##BuildVersion##" TimeoutSeconds="120" />
                <RunAt Server="##EnvPoolINH##" />
              </Parameters>
            </Task>
            <Task Name="End GumShoe collection session on the PoolINH server" Module="CommandLineTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="stop" TimeoutSeconds="120" />
                <RunAt Server="##EnvPoolINH##" />
              </Parameters>
            </Task>
            <Task Name="Publish GumShoe data to Staging" Module="CommandLineTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="publish \\##StagerName##\Transfer\CoverageData\##BuildName##\##BuildVersion##\##EnvPoolINH##" TimeoutSeconds="120" />
                <RunAt Server="##EnvPoolINH##" />
              </Parameters>
            </Task>
            <Task Name="Pull all coverage files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                <SourceLocation Path="\\##StagerName##\Transfer\CoverageData\##BuildName##\##BuildVersion##\##EnvPoolINH##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##\CoverageData\##EnvPoolINH##" />
              </Parameters>
            </Task>
          </TaskGroup>

          <!-- Save coverage data from SecuINH server -->
          <TaskGroup Name="Collect and Upload coverage data from SecuINH server" Condition="IfPassing" Rollup="true">
            <Task Name="Start the DAService on the SecuINH server" Module="ServicesTaskModule" Condition="Always" Type="Remote">
              <Parameter Name="Action" Value="Start" />
              <Parameter Name="Machine" Value="##EnvSecuINH##" />
              <Parameter Name="Services" Value="DAService" />
              <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Save GumShoe collection session on the SecuINH server" Module="CommandLineTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="save ##BuildVersion##" TimeoutSeconds="120" />
                <RunAt Server="##EnvSecuINH##" />
              </Parameters>
            </Task>
            <Task Name="End GumShoe collection session on the PoolINH server" Module="CommandLineTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="stop" TimeoutSeconds="120" />
                <RunAt Server="##EnvSecuINH##" />
              </Parameters>
            </Task>
            <Task Name="Publish GumShoe data to Staging" Module="CommandLineTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <Command Executable="gumshoe.exe" Arguments="publish \\##StagerName##\Transfer\CoverageData\##BuildName##\##BuildVersion##\##EnvSecuINH##" TimeoutSeconds="120" />
                <RunAt Server="##EnvSecuINH##" />
              </Parameters>
            </Task>
            <Task Name="Pull all coverage files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                <SourceLocation Path="\\##StagerName##\Transfer\CoverageData\##BuildName##\##BuildVersion##\##EnvSecuINH##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##\CoverageData\##EnvSecuINH##" />
              </Parameters>
            </Task>
          </TaskGroup>

          <!-- Add CovSym files to Redmond Share -->
          <TaskGroup Name="Add CovSym files to Redmond Share" Condition="IfPassing" Rollup="true">
            <Task Name="Copy .COVSYM files (Redmond)" Module="FileTaskModule" Condition="Always" Type="Local">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                <SourceLocation Path="\\##StagerName##\Builds\##Environment##\##BuildName##\retail.cov\covsym" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##\CoverageData\CovSym" />
              </Parameters>
            </Task>
            <Task Name="Copy .COVSYM (64-bit) files (Redmond)" Module="FileTaskModule" Condition="Always" Type="Local">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                <SourceLocation Path="\\##StagerName##\Builds\##Environment##\##BuildName##\retail64.cov\covsym" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##\CoverageData\CovSym64" />
              </Parameters>
            </Task>
          </TaskGroup>

          <!-- Setup GumShoe project files -->
          <TaskGroup Name="Create and Populate the GumShot Project Files" Condition="IfPassing" Rollup="true">
            <Task Name="Create .covproj file" Module="FileTaskModule" Condition="Always" Type="Local">
              <Parameters>
                <FileCommand Action="Create" FileSpec="##BuildVersion##.covproj" Force="true">
                  <FileContents>&lt;Project&gt;&lt;/Project&gt;</FileContents>
                </FileCommand>
                <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##\CoverageData" />
              </Parameters>
            </Task>
            <Task Name="Populate the .covproj file" Module="XMLFileModule" Condition="Always" Type="Local">
              <Parameters>
                <FileLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##\CoverageData\##BuildVersion##.covproj" />
                <AddElement XPath="Project">
                  <CoverageDataSources>
                    <MS.Magellan.Reporting.CoverageDataPath Source="##LogBase##\##Environment##\##BuildName##\##BuildVersion##\CoverageData\*.covdata" SearchOption="AllDirectories" />
                    <MS.Magellan.Reporting.CoverageSymbolPath Source="##LogBase##\##Environment##\##BuildName##\##BuildVersion##\CoverageData\*.covsym" SearchOption="AllDirectories" />
                  </CoverageDataSources>
                  <Filters />
                  <PathMappings>
                    <PathMapping OriginalPath="e:\XONLINE\r2" ReplacePath="\\edge-svcs\release\XONLINE\R2\##BuildVersion##\src" />
                  </PathMappings>
                </AddElement>
              </Parameters>
            </Task>

            <!-- Create .gumproj  file -->
            <Task Name="Create .gumproj file" Module="FileTaskModule" Condition="Always" Type="Local">
              <Parameters>
                <FileCommand Action="Create" FileSpec="##BuildVersion##.gumproj" Force="true">
                  <FileContents>&lt;GumshoeProject&gt;&lt;/GumshoeProject&gt;</FileContents>
                </FileCommand>
                <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##\CoverageData" />
              </Parameters>
            </Task>
            <Task Name="Populate the .gumproj file" Module="XMLFileModule" Condition="Always" Type="Local">
              <Parameters>
                <FileLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##\CoverageData\##BuildVersion##.gumproj" />
                <AddElement XPath="GumshoeProject">
                  <CovProjFile>##BuildVersion##.covproj</CovProjFile>
                  <Version>1.2.467.2000</Version>
                  <CovsymFiles>
                    <CovsymFile>
                      <Source>##LogBase##\##Environment##\##BuildName##\##BuildVersion##\CoverageData\*.covsym</Source>
                      <Id />
                    </CovsymFile>
                  </CovsymFiles>
                </AddElement>
              </Parameters>
            </Task>
          </TaskGroup>

          <!-- Generate SQL Coverage Report -->
          <TaskGroup Name="Generate SQL Coverage Report" Condition="IfPassing" Rollup="true">
            <!-- Execute batch file -->
            <Task Name="Run Batch File to Generate SQL Coverage Report" Module="CommandLineTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <Command Executable="cmd.exe" Arguments="/C G:\Stage\Utilities\SQLCC\SQL.GenerateReport.bat" WorkingDirectory="G:\Stage\Utilities\SQLCC" TimeoutSeconds="1800" ErrorsAreFatal="false" />
              </Parameters>
            </Task>
          </TaskGroup>

          <!-- Copy SQL Coverage Data into Redmond -->
          <TaskGroup Name="Copy SQL Coverage Data into Redmond" Condition="IfPassing" Rollup="true">
            <Task Name="Copy SQL Coverage Data (Redmond)" Module="FileTaskModule" Condition="Always" Type="Local">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" Force="true" />
                <SourceLocation Path="\\##StagerName##\SqlCCv2" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                <DestLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##\CoverageData\SQLCoverage" />
              </Parameters>
            </Task>
            <Task Name="Modify the result files to point to the correct server" Module="FileStringReplaceModule" Condition="Always" Type="Local">
              <Parameters>
                <FileLocation Path="G:\Logs\##Environment##\##BuildName##\##BuildVersion##\CoverageData\SQLCoverage" FileSpec="*.xml" />
                <Replace FindString="\\##StagerName##\SqlCCv2" ReplaceString="##LogBase##\##Environment##\##BuildName##\##BuildVersion##\CoverageData\SQLCoverage" IgnoreCase="true" />
                <Recurse />
              </Parameters>
            </Task>
          </TaskGroup>

          <!-- Pull event log and app log information out of the environment -->
          <TaskGroup Name="Gather Post-Run Logs" Condition="Always" Rollup="false">
            <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <Connection ServerList="##EnvAllServersList##" />
                <EventLog Name="Application" />
                <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                <Filter Field="Type" Op="NotEquals" Value="4" />
                <Filter Field="Type" Op="NotEquals" Value="5" />
                <Output Path="L:\Logs\##Environment##\JobLogs\##JobId##\EventLogs" />
              </Parameters>
            </Task>
            <Task Name="Pull IIS and application logs from ATNPoolIIS001" Module="FileTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                <DestLocation Path="L:\Logs\##Environment##\JobLogs\##JobId##\AppLogs\##EnvPoolIIS##" />
              </Parameters>
            </Task>
            <Task Name="Pull application logs from ATNPoolINH001" Module="FileTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                <DestLocation Path="L:\Logs\##Environment##\JobLogs\##JobId##\AppLogs\##EnvPoolINH##" />
              </Parameters>
            </Task>
            <Task Name="Pull IIS and application logs from ATNSecuINH001" Module="FileTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                <DestLocation Path="L:\Logs\##Environment##\JobLogs\##JobId##\AppLogs\##EnvSecuINH##" />
              </Parameters>
            </Task>
            <Task Name="Pull IIS and application logs from ATNInfrTLS001" Module="FileTaskModule" Condition="Always" Type="Remote">
              <Parameters>
                <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                <DestLocation Path="L:\Logs\##Environment##\JobLogs\##JobId##\AppLogs\##EnvInfrTLS##" />
              </Parameters>
            </Task>
            <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
              <Parameters>
                <Connection Server="##EnvAllSQL1##" Database="npdb" />
                <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                <Results Path="L:\Logs\##Environment##\JobLogs\##JobId##\Settings" FileName="t_live_registry_settings.csv" />
              </Parameters>
            </Task>
            <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
              <Parameters>
                <Connection Server="##EnvAllSQL1##" Database="npdb" />
                <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                <Results Path="L:\Logs\##Environment##\JobLogs\##JobId##\Settings" FileName="t_setting_overrides.csv" />
              </Parameters>
            </Task>
            <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
              <Parameters>
                <Connection Server="##EnvAllSQL1##" Database="npdb" />
                <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                <Results Path="L:\Logs\##Environment##\JobLogs\##JobId##\Settings" FileName="t_server_interfaces.csv" />
              </Parameters>
            </Task>
            <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
              <Parameters>
                <Connection Server="##EnvAllSQL1##" Database="npdb" />
                <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                <Results Path="L:\Logs\##Environment##\JobLogs\##JobId##\Settings" FileName="t_site_virtual_interface_ips.csv" />
              </Parameters>
            </Task>
            <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
              <Parameters>
                <Connection Server="##EnvAllSQL1##" Database="npdb" />
                <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                <Results Path="L:\Logs\##Environment##\JobLogs\##JobId##\Settings" FileName="t_site_virtual_interface_overrides.csv" />
              </Parameters>
            </Task>
            <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
              <Parameters>
                <Connection Server="##EnvAllSQL1##" Database="npdb" />
                <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                <Results Path="L:\Logs\##Environment##\JobLogs\##JobId##\Settings" FileName="t_server_nics.csv" />
              </Parameters>
            </Task>
            <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
              <Parameters>
                <Connection Server="##EnvAllSQL1##" Database="npdb" />
                <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                <Results Path="L:\Logs\##Environment##\JobLogs\##JobId##\Settings" FileName="t_environment_user_roles.csv" />
              </Parameters>
            </Task>
            <Task Name="Pull Logs back to the Redmond domain" Module="FileTaskModule" Type="Local" Condition="Always">
              <Parameters>
                <FileCommand Action="Move" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                <SourceLocation Path="\\##StagerName##\Logs\##Environment##\JobLogs\##JobId##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                <DestLocation Path="##LogBase##\##Environment##\JobLogs\##JobId##" />
              </Parameters>
            </Task>
          </TaskGroup>
        </Job>



      <!--
            Cleanup Snapshots job - XBLOB_LKG
            
            This job only keeps the last deployment attempt from each branch.
        -->
        <Job Name="Cleanup Old XBLOB Snapshots" Type="Other" Environment="XBLOB_LKG" Build="XOnline_R2" Priority="Low" Enabled="true">
            <Schedule Rate="Daily" Frequency="1" StartTime="21:00:00" />
            <Report ToList="HyperAdm" XsltName="DeploymentResults.xslt" Condition="IfFailing" />
            <Task Name="Cleanup Snapshots" Module="VMCleanupSnapshotModule" Type="Local">
                <Parameters>
                    <HostList Hosts="##EnvHostList##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                    <VMList VMSpec="##EnvServerPrefix##" DelChildren="True" />
                    <SnapKeyword String="XOnline_R2.* - LKG Testing.*" KeepCount="1" />
                    <SnapKeyword String="XOnline_R1.* - LKG Testing.*" KeepCount="1" />
                    <SnapKeyword String="XOnline_Main.* - LKG Testing.*" KeepCount="1" />
                    <SnapKeyword String=".* - KEEP" KeepCount="-1" />
                </Parameters>
            </Task>
        </Job>

        <!--
            Cleanup Snapshots job - XBLOB_LKG2
            
            This job only keeps the last deployment attempt from each branch.
        -->
        <Job Name="Cleanup Old XBLOB Snapshots" Type="Other" Environment="XBLOB_LKG2" Build="XOnline_R2" Priority="Low" Enabled="true">
            <Schedule Rate="Daily" Frequency="1" StartTime="21:00:00" />
            <Report ToList="HyperAdm" XsltName="DeploymentResults.xslt" Condition="IfFailing" />
            <Task Name="Cleanup Snapshots" Module="VMCleanupSnapshotModule" Type="Local">
                <Parameters>
                    <HostList Hosts="##EnvHostList##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                    <VMList VMSpec="##EnvServerPrefix##" DelChildren="True" />
                    <SnapKeyword String="XOnline_R2.* - LKG Testing.*" KeepCount="1" />
                    <SnapKeyword String="XOnline_R1.* - LKG Testing.*" KeepCount="1" />
                    <SnapKeyword String="XOnline_Main.* - LKG Testing.*" KeepCount="1" />
                    <SnapKeyword String=".* - KEEP" KeepCount="-1" />
                </Parameters>
            </Task>
        </Job>

        <!--
            Cleanup Snapshots job - BVTNet
            
            This job only keeps the last deployment attempt from each branch.
        -->
        <Job Name="Cleanup Old BVTNet Snapshots" Type="Other" Environment="BVTNet" Build="XOnline_R2" Priority="Low" Enabled="true">
            <Schedule Rate="Daily" Frequency="1" StartTime="21:00:00" />
            <Report ToList="HyperAdm" XsltName="DeploymentResults.xslt" Condition="IfFailing" />
            <Task Name="Cleanup Snapshots" Module="VMCleanupSnapshotModule" Type="Local">
                <Parameters>
                    <HostList Hosts="##EnvHostList##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                    <VMList VMSpec="##EnvServerPrefix##%" DelChildren="True" />
                    <SnapKeyword String="XOnline_R2.* - LKG Testing.*" KeepCount="1" />
                    <SnapKeyword String="XOnline_R1.* - LKG Testing.*" KeepCount="1" />
                    <SnapKeyword String="XOnline_Main.* - LKG Testing.*" KeepCount="1" />
                    <SnapKeyword String="PRIVATE_BUILD.*" KeepCount="0" />
                    <SnapKeyword String=".* - KEEP" KeepCount="-1" />
                </Parameters>
            </Task>
        </Job>

        <!--
            Cleanup Snapshots job - TestNetMain
            
            This job cleans out all but the latest Failure snapshot
        -->
        <Job Name="Cleanup Snapshots" Type="Other" Environment="TestNetMain" Build="XOnline_R2" Priority="Low" Enabled="true">
            <Schedule Rate="Daily" Frequency="1" StartTime="21:00:00" />
            <Report ToList="HyperAdm" XsltName="DeploymentResults.xslt" Condition="IfFailing" />
            <Task Name="Cleanup Snapshots" Module="VMCleanupSnapshotModule" Type="Local">
                <Parameters>
                    <HostList Hosts="##EnvHostList##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                    <VMList VMSpec="##EnvServerPrefix##%" DelChildren="True" />
                    <SnapKeyword String="XOnline_R2.* - Deployment Failed.*" KeepCount="1" />
                    <SnapKeyword String=".* - KEEP" KeepCount="-1" />
                </Parameters>
            </Task>
        </Job>

        <!--
            Cleanup Snapshots job - AutoNet
            
            This job cleans out all but the latest Failure snapshot
        -->
        <Job Name="Cleanup Snapshots" Type="Other" Environment="AutoNet" Build="XOnline_R2" Priority="Low" Enabled="true">
            <Schedule Rate="Daily" Frequency="1" StartTime="21:00:00" />
            <Report ToList="HyperAdm" XsltName="DeploymentResults.xslt" Condition="IfFailing" />
            <Task Name="Cleanup Snapshots" Module="VMCleanupSnapshotModule" Type="Local">
                <Parameters>
                    <HostList Hosts="##EnvHostList##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                    <VMList VMSpec="##EnvServerPrefix##%" DelChildren="True" />
                    <SnapKeyword String="XOnline_R2.* - Deployment Failed.*" KeepCount="1" />
                    <SnapKeyword String=".* - KEEP" KeepCount="-1" />
                </Parameters>
            </Task>
        </Job>

        <!--
            Cleanup Snapshots job - AutoNetShip
            
            This job cleans out all but the latest Failure snapshot
        -->
        <Job Name="Cleanup Snapshots" Type="Other" Environment="AutoNetShip" Build="XOnline_Main" Priority="Low" Enabled="true">
            <Schedule Rate="Daily" Frequency="1" StartTime="21:00:00" />
            <Report ToList="HyperAdm" XsltName="DeploymentResults.xslt" Condition="IfFailing" />
            <Task Name="Cleanup Snapshots" Module="VMCleanupSnapshotModule" Type="Local">
                <Parameters>
                    <HostList Hosts="##EnvHostList##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                    <VMList VMSpec="##EnvServerPrefix##%" DelChildren="True" />
                    <SnapKeyword String="XOnline_Main.* - Deployment Failed.*" KeepCount="1" />
                    <SnapKeyword String="XOnline_R1.* - Deployment Failed.*" KeepCount="1" />
                    <SnapKeyword String=".* - KEEP" KeepCount="-1" />
                </Parameters>
            </Task>
        </Job>

        <!--
            Cleanup Snapshots job - TestNetShip
            
            This job cleans out all but the latest Failure snapshot
        -->
        <Job Name="Cleanup Snapshots" Type="Other" Environment="TestNetShip" Build="XOnline_Main" Priority="Low" Enabled="true">
            <Schedule Rate="Daily" Frequency="1" StartTime="21:00:00" />
            <Report ToList="HyperAdm" XsltName="DeploymentResults.xslt" Condition="IfFailing" />
            <Task Name="Cleanup Snapshots" Module="VMCleanupSnapshotModule" Type="Local">
                <Parameters>
                    <HostList Hosts="##EnvHostList##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                    <VMList VMSpec="##EnvServerPrefix##%" DelChildren="True" />
                    <SnapKeyword String="XOnline_Main.* - Deployment Failed.*" KeepCount="1" />
                    <SnapKeyword String="XOnline_R1.* - Deployment Failed.*" KeepCount="1" />
                    <SnapKeyword String=".* - KEEP" KeepCount="-1" />
                </Parameters>
            </Task>
        </Job>

        <!--
            Cleanup Snapshots job - AutoNetStage
            
            This job cleans out all but the latest Failure snapshot
        -->
        <Job Name="Cleanup Snapshots" Type="Other" Environment="AutoNetStage" Build="XOnline_R1" Priority="Low" Enabled="true">
            <Schedule Rate="Daily" Frequency="1" StartTime="21:00:00" />
            <Report ToList="HyperAdm" XsltName="DeploymentResults.xslt" Condition="IfFailing" />
            <Task Name="Cleanup Snapshots" Module="VMCleanupSnapshotModule" Type="Local">
                <Parameters>
                    <HostList Hosts="##EnvHostList##" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                    <VMList VMSpec="##EnvServerPrefix##%" DelChildren="True" />
                    <SnapKeyword String="XOnline_R1.* - Deployment Failed.*" KeepCount="1" />
                    <SnapKeyword String=".* - KEEP" KeepCount="-1" />
                </Parameters>
            </Task>
        </Job>



        <!--
            Update GeoFencing Data File
            
            The purpose of this job is to update the LastWrite time of the GeoFencing data file in order to prevent
            some healthchecks from returning a yellow result because the file is older than 31 days.
            This job gets scheduled to run every 3 weeks on Saturday morning.
        -->
        <Job Name="Update GeoFencing Data File" Environment="HyperNet" Build="XOnline_R2" Priority="Low" Type="Other" Enabled="true">
            <Schedule Rate="Weekly" Frequency="2" StartTime="00:00:00" Weekdays="Monday" />
            <Report ToList="craigwh" Condition="IfFailing" />
            <Task Name="Change the LastWrite time of the GeoFencing data file" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <SourceLocation Path="\\HXINFDEPINH001\Stage\GeoFencing" />
                    <FileCommand Action="EditAttributes" FileSpec="MSCOMGeoInfoServerData.dat" ErrorsAreFatal="false">
                        <FileTime Type="LastWrite">##CurrentTime##</FileTime>
                    </FileCommand>
                </Parameters>
            </Task>
        </Job>

    </Jobs>
</BuildDetectorService>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Automation\JSService\JSService.xml ===
ï»¿<?xml version="1.0" encoding="utf-8" ?>
<JSService>
    <DataSource Server="LocalHost" Database="DeploymentDB" />
    <Environments>
        <Environment Name="BVTNet" />
        <Environment Name="AutoNet" />
        <Environment Name="CoreNet" />
        <Environment Name="XBLOB_LKG" />
        <Environment Name="HyperNet" />
        <Environment Name="TestNetMain_A" />
        <Environment Name="TestNetMain_B" />
    </Environments>
</JSService>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Automation\TaskModules\ActiveDirectoryTaskModule\Example.xml ===
ï»¿<?xml version="1.0" encoding="utf-8"?>
<BuildDetectorService>
  <DataSource Server="XLFInfrTLS001" Database="DeploymentDB" />
  <Jobs>
    <!-- Enumeration Examples -->
    <Job Name="Enumeration Examples" Priority="Medium" Enabled="true">
      <Task Name="List All Security Groups and Users" Module="ActiveDirectoryTaskModule" Type="Remote">
        <Parameters>
          <Options Domain="hyper.live" />
          <SecurityGroup Action="Enumerate" />
          <User Action="Enumerate" Filter="(&amp;(objectCategory=user)(objectClass=person))" />
        </Parameters>
      </Task>
      <Task Name="List All AutoNet Security Groups and Users with the first name of John" Module="ActiveDirectoryTaskModule" Type="Remote">
        <Parameters>
          <Options Domain="hyper.live" />
          <SecurityGroup Action="Enumerate" Name="AutoNet-*"/>
          <User Action="Enumerate" FirstName="John" />
        </Parameters>
      </Task>
      <Task Name="List All Members of the Domain Admins Security Group" Module="ActiveDirectoryTaskModule" Type="Remote">
        <Parameters>
          <Options Domain="hyper.live" OutputPath="L:\Logs\##Environment##\##BuildName##\##BuildVersion##\AppLogs\##JobId## (##JobType##)" />
          <SecurityGroup Action="Enumerate" Name="Domain Admins" />
        </Parameters>
      </Task>
    </Job>

    <!-- Creation Examples -->
    <Job Name="Creation Examples" Priority="Medium" Enabled="true">
      <Task Name="Create Test Domain Structure" Module="ActiveDirectoryTaskModule" Type="Remote">
        <Parameters>
          <Options Domain="hyper.live" />
          <OrganizationalUnit Action="Create" Name="Testing" Path="Accounts" />
          <OrganizationalUnit Action="Create" Name="Groups" Path="Testing\Accounts" />
          <OrganizationalUnit Action="Create" Name="Service Accounts" Path="Testing\Accounts" />
          <OrganizationalUnit Action="Create" Name="Users" Path="Testing\Accounts" />
          <OrganizationalUnit Action="Create" Name="OPS" Path="Users\Testing\Accounts" />
          <OrganizationalUnit Action="Create" Name="XBLES" Path="Users\Testing\Accounts" />
          <OrganizationalUnit Action="Create" Name="DEV" Path="XBLES\Users\Testing\Accounts" />
          <OrganizationalUnit Action="Create" Name="TEST" Path="XBLES\Users\Testing\Accounts" />
          <SecurityGroup Action="Create" Name="Test - Domain Admin Group" Description="Test - XBL Security Group" Path="Groups\Testing\Accounts" />
          <User Action="Create" Alias="tst.user01" Description="XBL User Test Account" FirstName="Test - User" LastName="One" Path="TEST\XBLES\Users\Testing\Accounts" />
          <User Action="Create" Alias="tst.user02" Description="XBL User Test Account" FirstName="Test - Two" LastName="twou" Path="TEST\XBLES\Users\Testing\Accounts" />
          <User Action="Create" Alias="test.user03" Description="XBL User Test Account" FirstName="Test - Test" LastName="Account" Path="TEST\XBLES\Users\Testing\Accounts" />
          <User Action="Create" Alias="test.admin" Description="XBL User Test Account" FirstName="Test - Administrator" LastName="UserAccount" MemberOf="Test - Domain Admin Group" Path="TEST\XBLES\Users\Testing\Accounts" />
        </Parameters>
      </Task>
    </Job>
  </Jobs>
</BuildDetectorService>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Automation\TaskModules\STFTaskModule\Transforms\TestPassSummaryQuick.xml ===
ï»¿<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="TestPassSummaryQuick.xslt"?>

<target file="TestPassSummary.xml" />
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Automation\TFSUploader\TFSUploader.xml ===
ï»¿<?xml version="1.0" encoding="utf-8" ?>
<TFSUploader>
    <BaseDirectory>G:\TFSLogs_Upload</BaseDirectory>
    <ArchiveDirectory>G:\TFSLogs</ArchiveDirectory>
    <LogsBaseDirectory>\\XLFINFRTLS001\Logs</LogsBaseDirectory>
    <Uploader Path="G:\TFS\TfsPublishResults.exe">
        <!-- Expected filename: <suiteName>-<env>-<build>-<version>-<frequency>-<yyyyMMddHHmmss>.xml -->
        <Parameter Name="buildDefinition" Value="##BuildName##" />
        <Parameter Name="buildNumber" Value="##BuildVersion##" />
        <Parameter Name="flavor" Value="retail" />
        <Parameter Name="platform" Value="x86" />
        <Parameter Name="nunit" Value="##FileName##" />
        <Parameter Name="frequency" Value="##Frequency##" />
        <Parameter Name="logPath" Value="##LogPath##" />
        <Parameter Name="env" Value="##Environment##" />
    </Uploader>
</TFSUploader>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Automation\Website\PrivateDeploymentJobDescription.xml ===
ï»¿<?xml version="1.0" encoding="utf-8" ?>
<PrivateDeploymentJobs>
    <Job Name="XOnline R2 Private Build Deployment" Type="Deployment" Environment="BVTNet" Build="XOnline_R2" Priority="Low" Enabled="false">
        <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="17:00:00" />
        <Report ToList="" XsltName="DeploymentResults.xslt" />

        <TaskGroup Name="Stage Build" Rollup="true" Condition="Always">
            <Task Name="Delete old private build files" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Delete" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD" />
                </Parameters>
            </Task>
            <Task Name="Copy private build to the BVTNet folder" Module="StageFilesTaskModule" Type="Local">
                <Parameters>
                    <SourceLocation Path="##BuildPath##" />
                    <DestLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\PRIVATE_BUILD" UserName="##EnvUserName##" PasswordEncrypted="##LocalPasswordEncrypted##" Password="##LocalPassword##" />
                    <StageDir Path="merged-##BuildType##" Recurse="true" Force="true" />
                    <StageDir Path="##BuildType##\test\stftests" Recurse="true" Force="true" />
                    <StageDir Path="##BuildType##64\test\stftests\suites" TargetPath="##BuildType##\test\stftests\suites64" Recurse="true" Force="true" />
                    <StageDir Path="##BuildType##\test\deployment\titleproppro" Recurse="true" Force="true" />
                </Parameters>
            </Task>
        </TaskGroup>

        <TaskGroup Name="Create the environment" Condition="IfPassing" Rollup="false">
            <Task Name="Copy the BVTNet database deployment files" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="deployment_bvtnet.xml" NewFileName="deployment_##Environment##.xml" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\prodbase" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\prodbase" />
                </Parameters>
            </Task>
            <Task Name="Create environment-specific Genealogy update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\genealogy\dml\data\bvtnet" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\genealogy\dml\data\##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Create environment-specific UODB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\uodb\dml\data\bvtnet" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\uodb\dml\data\##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Create environment-specific WebDB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\webdb\dml\data\bvtnet" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\webdb\dml\data\##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Modify the database deployment files to point to the correct servers" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\prodbase" FileSpec="deployment_##Environment##.xml" />
                    <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="true" />
                    <Replace FindString="BVT" ReplaceString="##EnvServerPrefix##" IgnoreCase="true" />
                    <Recurse />
                </Parameters>
            </Task>
            <Task Name="Inject the new environment name into the NPDB prodbase .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\prodbase\npdb\dml\data" FileSpec="*.sql" />
                    <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Inject the new environment name into the NPDB upgrade .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\npdb\dml\data" FileSpec="*.sql" />
                    <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Change the service.xml file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\octopus" FileSpec="service.xml" />
                    <Replace FindString="bvtnet" ReplaceString="##Environment##" IgnoreCase="true" />
                    <Recurse />
                </Parameters>
            </Task>
            <Task Name="Update the name of the XCBK cert in the site.xml file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\Secure\##Environment##\site.xml" />
                    <Replace XPath="Site/Certificates/SSLCert[@Identifier='ssl.spsxcbk']" Attribute="File" NewValue="##EnvPoolIISIp##.pfx" />
                </Parameters>
            </Task>
            <Task Name="Create the Octopus config file" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="bvtnet.xml" NewFileName="##Environment##.xml" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\bvtnet" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\hypernet" />
                </Parameters>
            </Task>
            <Task Name="Change the user names in the Octopus config file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\hypernet" FileSpec="##Environment##.xml" />
                    <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="false" />
                </Parameters>
            </Task>
            <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\hypernet\##Environment##.xml" />
                    <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\octopus" />
                    <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\Deployment" />
                    <Replace XPath="//Server[@name='BVTXALLSQL001']" Attribute="name" NewValue="##EnvAllSQL1##" />
                    <Replace XPath="//Server[@name='BVTXALLSQL002']" Attribute="name" NewValue="##EnvAllSQL2##" />
                    <Replace XPath="//Server[@name='BVTMSTRSQL001']" Attribute="name" NewValue="##EnvMstrSQL##" />
                    <Replace XPath="//Server[@name='BVTCATRSQL001']" Attribute="name" NewValue="##EnvCatrSQL##" />
                    <Replace XPath="//Server[@name='BVTINFRTLS001']" Attribute="name" NewValue="##EnvInfrTLS##" />
                    <Replace XPath="//Server[@name='BVTPOOLIIS001']" Attribute="name" NewValue="##EnvPoolIIS##" />
                    <Replace XPath="//Server[@name='BVTPOOLINH001']" Attribute="name" NewValue="##EnvPoolINH##" />
                    <Replace XPath="//Server[@name='BVTSECUINH001']" Attribute="name" NewValue="##EnvSecuINH##" />
                    <Replace XPath="//PropertyValue[@name='Environment']" Attribute="value" NewValue="##Environment##" />
                    <Replace XPath="//PropertyValue[@name='LogRootDir']" Attribute="value" NewValue="E:\Logroot" />
                    <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_BEGIN']" Attribute="value" NewValue="##EnvClientPoolIpBegin##" />
                    <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_END']" Attribute="value" NewValue="##EnvClientPoolIpEnd##" />
                    <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_NETMASK']" Attribute="value" NewValue="##EnvClientPoolNetmask##" />
                    <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_GATEWAY']" Attribute="value" NewValue="##EnvClientPoolGateway##" />
                    <Replace XPath="//PropertyValue[@name='SG_ADMIN_IP']" Attribute="value" NewValue="##EnvSGAdminIp##" />
                    <Replace XPath="//PropertyValue[@name='SG_INTERNET_IP']" Attribute="value" NewValue="##EnvSGInternetIp##" />
                    <Replace XPath="//PropertyValue[@name='XDS_INTERNET_IP']" Attribute="value" NewValue="##EnvXDSInternetIp##" />
                    <Replace XPath="//PropertyValue[@name='NpdbServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                    <Replace XPath="//PropertyValue[@name='Site.DataFolder']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$" />
                    <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                    <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                    <Replace XPath="//PropertyValue[@name='CatalogPublisher']" Attribute="value" NewValue="##EnvMstrSQL##" />
                    <Replace XPath="//PropertyValue[@name='CatalogDistributor']" Attribute="value" NewValue="##EnvMstrSQL##" />
                </Parameters>
            </Task>
            <Task Name="Update the TPPSettings file for the new environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\deployment\titleproppro\tppsettings.xml" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='BVTNet']" Attribute="Name" NewValue="##Environment##" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\TitlePropLogs" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LBSvr" NewValue="##EnvPoolINH##" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/MatchSvr" NewValue="##EnvAllSQL1##" />
                </Parameters>
            </Task>
            <Task Name="Set the NPDB location in STF.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests\stf.xml" />
                    <AddElement XPath="stf/config">
                        <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                    </AddElement>
                </Parameters>
            </Task>
            <Task Name="Set up LiveLib.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests\livelib.xml" />
                    <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                    <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                    <AddElement XPath="livelib/environments">
                        <environment name="##Environment##-int" type="DirectAccess">
                            <defaultSchemaVersion major="6" minor="0" />
                            <ipaddresses>
                                <ipaddress svcId="1" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_presence" />
                                <ipaddress svcId="2" host="##EnvPoolIIS##" transactionType="FD" vifc="stringsvr" />
                                <ipaddress svcId="4" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_base_subscription" />
                                <ipaddress svcId="5" host="##EnvPoolIIS##" transactionType="FD" vifc="xuacs" />
                                <ipaddress svcId="6" host="##EnvPoolIIS##" transactionType="FD" vifc="xmatchfd" />
                                <ipaddress svcId="7" host="##EnvPoolIIS##" transactionType="FD" vifc="xstatsfd" />
                                <ipaddress svcId="8" host="##EnvPoolIIS##" transactionType="FD" vifc="fbserver" />
                                <ipaddress svcId="9" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_billing_offering" />
                                <ipaddress svcId="10" host="##EnvPoolIIS##" transactionType="FD" />
                                <ipaddress svcId="11" host="##EnvPoolIIS##" transactionType="FD" vifc="xtou" />
                                <ipaddress svcId="12" host="##EnvPoolIIS##" transactionType="FD" vifc="xsig" />
                                <ipaddress svcId="13" host="##EnvPoolIIS##" transactionType="FD" vifc="xqry" />
                                <ipaddress svcId="14" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_name_resolution" />
                                <ipaddress svcId="15" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_storage" />
                                <ipaddress svcId="16" host="##EnvPoolIIS##" transactionType="FD" vifc="xarb" />
                                <ipaddress svcId="18" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_messaging" />
                                <ipaddress svcId="19" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_teams" />
                                <ipaddress svcId="21" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_drm" />
                                <ipaddress svcId="26" host="0.0.0.0" transactionType="FD" vifc="xconnsrv" />
                                <ipaddress svcId="175" host="##EnvCatalogIp##" transactionType="Http" vifc="catalog" />
                                <ipaddress svcId="176" host="##EnvPoolIIS##" transactionType="Http" vifc="web billing" />
                                <ipaddress svcId="177" host="##EnvPoolIIS##" transactionType="AA" />
                                <ipaddress svcId="178" host="##EnvPoolIIS##" transactionType="Http" />
                                <ipaddress svcId="181" host="##EnvSecuINH##" transactionType="FD" vifc="authsg" />
                            </ipaddresses>
                        </environment>
                    </AddElement>
                </Parameters>
            </Task>
        </TaskGroup>

        <TaskGroup Name="Pre-Deployment Tasks" Condition="IfPassing" Rollup="false">
            <Task Name="Restore the base snapshots" Module="VMTaskModule" Type="Local">
                <Parameters>
                    <Hosts>##EnvHostList##</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                    <ApplySnapshot SnapshotNameSpec="Ready for Deployment%" />
                </Parameters>
            </Task>
            <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local">
                <Parameters>
                    <Hosts>HxHyperC2B7</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##Environment## Billing One Box" />
                    <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                </Parameters>
            </Task>
            <Wait WaitSeconds="60" />
            <Task Name="Fix up the Temporal Partition on the Billing 1-box" Module="CommandLineTaskModule" Type="Remote">
                <Parameters>
                    <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="false" CaptureOutput="false" />
                    <RunAt Server="172.19.144.56" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                </Parameters>
            </Task>
            <Task Name="Update the GeoFencing data file" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                    <SourceLocation Path="G:\Stage\GeoFencing" />
                    <DestLocation Path="\\##EnvPoolIIS##\D$\Webroot\Geo\Data" />
                </Parameters>
            </Task>
            <Task Name="Start the Geo Segmentation Service" Module="ServicesTaskModule" Type="Remote">
                <Parameter Name="Action" Value="Start" />
                <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                <Parameter Name="Services" Value="Geo Segmentation Service 2.2" />
                <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
        </TaskGroup>

        <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
            <Task Name="Install Xbox LIVE Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                <Parameter Name="InstallationType" Value="install" />
                <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\HyperNet\##Environment##.xml" />
                <Parameter Name="Password" Value="##RemotePassword##" />
                <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
            </Task>
            <Wait WaitSeconds="30" />
        </TaskGroup>

        <TaskGroup Name="Environment Configuration" Rollup="true" Condition="IfPassing">
            <Task Name="Deploy LiveSignup" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                    <SourceLocation Path="\\##StagerName##\Stage\LiveSignup" />
                    <DestLocation Path="\\##EnvPoolIIS##\d$\webroot\xtou\xedl\LiveSignup" />
                </Parameters>
            </Task>

            <!-- Update virtual interface IPs -->
            <Task Name="Add the fastEspMarketplaceSearch virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'fastEspMarketplaceSearch','##EnvPoolIISIp##',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the FECatalogDBZune virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">update t_site_virtual_interface_ips set vc_ip='172.19.144.75' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='fecatalogdbzune'</Query>
                </Parameters>
            </Task>
            <Task Name="Add the FECatalogDBZune_A virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_A','172.19.144.75',1</Query>
                </Parameters>
            </Task>
            <Task Name="Add the FECatalogDBZune_B virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_B','172.19.144.75',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the Virtual Interface IP for FECatalogDBWatcher" Module="SQLTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBWatcher','##EnvCatrSQLIp##',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the Virtual Interface IP for FECatalogDBXbox" Module="SQLTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBXbox','##EnvCatrSQLIp##',1</Query>
                </Parameters>
            </Task>

            <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
            <Task Name="Update the ContentDownload port to 3074 in t_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the ContentDownload port to 3074 in t_virtual_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_virtual_interface 'download','download',@port=3074,@timeout=30000,@overwriteExistingValue=1</Query>
                </Parameters>
            </Task>

            <!-- Update environment-specific settings overrides -->
            <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Override the Ratings content type" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testContentType','4edb3445-d489-4f3f-9760-55f1a85dfe3a','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Override the Ratings user PUID" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testUserPuid','985160330844665','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Override the Ratings content type mappings" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false"><![CDATA[exec p_config_add_setting_override 'ratings_contenttype_mapping','<root><contentTypeMapping mediatype="1" contentTypeId="596d1667-572a-4611-9f87-a5d3edf45b36"/><contentTypeMapping mediatype="18" contentTypeId="faa29126-f880-444a-b951-01a4a8dce301"/><contentTypeMapping mediatype="19" contentTypeId="d180a26c-a2a4-4d7b-9094-3a12725447b5"/><contentTypeMapping mediatype="20" contentTypeId="3fe2a114-98c8-4881-bc7a-aaf16c2cab9c"/><contentTypeMapping mediatype="21" contentTypeId="3d6ada32-2733-4d41-b67c-e325f643c25f"/><contentTypeMapping mediatype="22" contentTypeId="7a1e9a32-4828-4180-9127-72e06435b553"/><contentTypeMapping mediatype="23" contentTypeId="d7da7178-06f4-4728-959c-d5ce6bf6f5a1"/><contentTypeMapping mediatype="30" contentTypeId="e9c2dbae-022f-49d2-816e-dc1604ed8aca"/><contentTypeMapping mediatype="34" contentTypeId="0ea3aa76-ae84-48cb-b9fc-32901f0191ae"/><contentTypeMapping mediatype="37" contentTypeId="c01942e6-de53-4eb6-92a4-7316a47a4c57"/><contentTypeMapping mediatype="47" contentTypeId="d0d510b6-43fa-4bcf-98e9-1c354f68fbbc"/></root>','##Environment##','ALL',-1,'ALL',1]]></Query>
                </Parameters>
            </Task>
            <Task Name="Override the XCBK certificate name" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xcbk_sslCertSubject','##EnvPoolIISIp##','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Override the default Download URL" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">update t_site_virtual_interface_overrides set vc_info1='##EnvINHInternetIp##' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='download'</Query>
                </Parameters>
            </Task>
            <Task Name="Override the default Download Content Directory location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'download_contentDirectory','F:\contentDownload','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Enable GeoFencing for game offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_offerGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Enable GeoFencing for video offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_videoGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                </Parameters>
            </Task>

            <!-- Update environment-specific LiveHive settings -->
            <Task Name="Update the AvatarPictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriRoot','http://##EnvINHInternetIp##'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the AvatarPictureUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriPort','12020'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the AvatarAssetUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarAssetUriRoot','http://##EnvINHInternetIp##:3074/content'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the UpdateUriRoot1 LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','UpdateUriRoot1','http://##EnvINHInternetIp##:3074/content'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the CatalogCDNUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriRoot','http://##EnvINHInternetIp##'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the CatalogCDNUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriPort','12020'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the CatalogUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriRoot','http://##EnvINHInternetIp##'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the CatalogUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriPort','12020'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the StoragePictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','StoragePictureUriRoot','http://##EnvINHInternetIp##'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the EpixAvatarConfigPath LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixAvatarConfigPath','/shaXam/0303/dd/dd/dddd060f-1cb5-42a9-8fc9-30bff45e81c9.txt'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the EpixPreviewUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixPreviewUriRoot','http://10.198.102.130'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the EpixUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixUriRoot','http://10.184.224.129'</Query>
                </Parameters>
            </Task>

            <Task Name="Ensure services on the PoolINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                <Parameter Name="Action" Value="Start" />
                <Parameter Name="Machine" Value="##EnvPoolINH##" />
                <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,PresenceCache,ProfileCache,NotificationCache" />
                <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Ensure services on the SecuINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                <Parameter Name="Action" Value="Restart" />
                <Parameter Name="Machine" Value="##EnvSecuINH##" />
                <Parameter Name="Services" Value="XDS,XKDC,xmgmt,SGSVC" />
                <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Reboot the PoolIIS server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                <Parameters>
                    <Hosts>##EnvHostList##</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##EnvPoolIIS##" />
                    <RebootVM />
                </Parameters>
            </Task>
            <Wait WaitSeconds="60" />
        </TaskGroup>

        <TaskGroup Name="Prop Titles" Rollup="true" Condition="IfPassing">
            <Task Name="Update TPP logs location" Module="XMLFileModule" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\Deployment\TitlePropPro\TPPSettings.xml" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\TitleProp" />
                </Parameters>
            </Task>
            <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                    <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\Deployment\TitlePropPro" />
                    <DestLocation Path="\\##EnvInfrTLS##\D$\WebRoot\TitlePropPro" />
                </Parameters>
            </Task>
            <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                <Parameter Name="Env" Value="##Environment##" />
                <Parameter Name="Title" Value="BVT" />
                <Parameter Name="Threads" Value="2" />
            </Task>
            <Wait WaitSeconds="30" />
            <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" />
                    <RunAt Server="##EnvInfrTLS##" />
                </Parameters>
            </Task>
        </TaskGroup>

        <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
            <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                <Parameters>
                    <HealthCheckList NPDBServer="##EnvAllSQL1##" />
                    <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                    <Options BatchSize="5" RequestTimeout="60" />
                    <LogsLocation>\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\HealthChecks</LogsLocation>
                    <HealthCheckExceptions>
                        <HealthCheckException Component="catalog" HealthStatus="Yellow">
                            <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="cron" HealthStatus="Yellow">
                            <HealthBlockException Name="*" HealthStatus="Yellow">
                                <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                            <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="livecache" HealthStatus="Yellow">
                            <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                        </HealthCheckException>
                        <HealthCheckException Component="ratings" HealthStatus="Red">
                            <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="xbos" HealthStatus="Yellow">
                            <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                        </HealthCheckException>
                        <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                            <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                        </HealthCheckException>
                        <HealthCheckException Component="xsig" HealthStatus="Yellow">
                            <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                            <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                <ErrorDetails Op="Contains">less than 30 days in the future</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                    </HealthCheckExceptions>
                </Parameters>
            </Task>
            <Task Name="Add the Environment's NPDB location to the STF.xml file" Module="XMLFileModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests\stf.xml" />
                    <AddElement XPath="stf/config">
                        <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                    </AddElement>
                </Parameters>
            </Task>
            <Task Name="Run the LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase#">
                <Parameter Name="STFLocation" Value="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests" />
                <Parameter Name="Environment" Value="##Environment##"/>
                <Parameter Name="Suite" Value="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests\suites\LiveBVT.dll" />
                <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\LiveBVT\LiveLKG.xml"/>
                <Parameter Name="AllowTag" Value="LiveLKG" />
            </Task>
        </TaskGroup>

        <Task Name="Create snapshots if deployment fails" Module="VMTaskModule" Type="Local" Condition="IfFailing">
            <Parameters>
                <Hosts>##EnvHostList##</Hosts>
                <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                <CreateSnapshot NewSnapshotName="##BuildName## ##JobOwner## - Private Deployment Failed" ReplaceExisting="true" />
            </Parameters>
        </Task>

        <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
            <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <Connection ServerList="##EnvAllServersList##" />
                    <EventLog Name="Application" />
                    <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                    <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                    <Filter Field="Type" Op="NotEquals" Value="4" />
                    <Filter Field="Type" Op="NotEquals" Value="5" />
                    <Output Path="L:\Logs\##Environment##\PRIVATE_BUILD\EventLogs\##JobId## (##JobType##)" />
                </Parameters>
            </Task>
            <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                </Parameters>
            </Task>
            <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                </Parameters>
            </Task>
            <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                </Parameters>
            </Task>
            <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                </Parameters>
            </Task>
            <Task Name="Pull Marketplace test data logs from the MstrSQL server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                </Parameters>
            </Task>
            <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                <Parameters>
                    <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                    <DestLocation Path="##LogBase##\##Environment##\PRIVATE_BUILD" />
                </Parameters>
            </Task>
            <Task Name="Clean up the remote log location" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Delete" Recurse="true" Force="true" />
                    <SourceLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD" />
                </Parameters>
            </Task>
        </TaskGroup>
    </Job>

    <Job Name="XOnline R1 Private Build Deployment" Type="Deployment" Environment="BVTNet" Build="XOnline_R1" Priority="Low" Enabled="false">
        <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="17:00:00" />
        <Report ToList="" XsltName="DeploymentResults.xslt" />

        <TaskGroup Name="Stage Build" Rollup="true" Condition="Always">
            <Task Name="Delete old private build files" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Delete" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD" />
                </Parameters>
            </Task>
            <Task Name="Copy private build to the BVTNet folder" Module="StageFilesTaskModule" Type="Local">
                <Parameters>
                    <SourceLocation Path="##BuildPath##" />
                    <DestLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\PRIVATE_BUILD" UserName="##EnvUserName##" PasswordEncrypted="##LocalPasswordEncrypted##" Password="##LocalPassword##" />
                    <StageDir Path="merged-##BuildType##" Recurse="true" Force="true" />
                    <StageDir Path="##BuildType##\test\stftests" Recurse="true" Force="true" />
                    <StageDir Path="##BuildType##64\test\stftests\suites" TargetPath="##BuildType##\test\stftests\suites64" Recurse="true" Force="true" />
                    <StageDir Path="##BuildType##\test\deployment\titleproppro" Recurse="true" Force="true" />
                </Parameters>
            </Task>
        </TaskGroup>

        <TaskGroup Name="Create the environment" Condition="IfPassing" Rollup="false">
            <Task Name="Copy the BVTNet database deployment files" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="deployment_bvtnet.xml" NewFileName="deployment_##Environment##.xml" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\prodbase" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\prodbase" />
                </Parameters>
            </Task>
            <Task Name="Create environment-specific Genealogy update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\genealogy\dml\data\bvtnet" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\genealogy\dml\data\##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Create environment-specific UODB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\uodb\dml\data\bvtnet" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\uodb\dml\data\##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Create environment-specific WebDB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\webdb\dml\data\bvtnet" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\webdb\dml\data\##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Modify the database deployment files to point to the correct servers" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\prodbase" FileSpec="deployment_##Environment##.xml" />
                    <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="true" />
                    <Replace FindString="BVT" ReplaceString="##EnvServerPrefix##" IgnoreCase="true" />
                    <Recurse />
                </Parameters>
            </Task>
            <Task Name="Inject the new environment name into the NPDB prodbase .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\prodbase\npdb\dml\data" FileSpec="*.sql" />
                    <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Inject the new environment name into the NPDB upgrade .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\npdb\dml\data" FileSpec="*.sql" />
                    <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Change the service.xml file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\octopus" FileSpec="service.xml" />
                    <Replace FindString="bvtnet" ReplaceString="##Environment##" IgnoreCase="true" />
                    <Recurse />
                </Parameters>
            </Task>
            <Task Name="Update the name of the XCBK cert in the site.xml file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\Secure\##Environment##\site.xml" />
                    <Replace XPath="Site/Certificates/SSLCert[@Identifier='ssl.spsxcbk']" Attribute="File" NewValue="##EnvPoolIISIp##.pfx" />
                </Parameters>
            </Task>
            <Task Name="Create the Octopus config file" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="bvtnet.xml" NewFileName="##Environment##.xml" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\bvtnet" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\hypernet" />
                </Parameters>
            </Task>
            <Task Name="Change the user names in the Octopus config file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\hypernet" FileSpec="##Environment##.xml" />
                    <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="false" />
                </Parameters>
            </Task>
            <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\hypernet\##Environment##.xml" />
                    <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\octopus" />
                    <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\Deployment" />
                    <Replace XPath="//Server[@name='BVTXALLSQL001']" Attribute="name" NewValue="##EnvAllSQL1##" />
                    <Replace XPath="//Server[@name='BVTXALLSQL002']" Attribute="name" NewValue="##EnvAllSQL2##" />
                    <Replace XPath="//Server[@name='BVTMSTRSQL001']" Attribute="name" NewValue="##EnvMstrSQL##" />
                    <Replace XPath="//Server[@name='BVTCATRSQL001']" Attribute="name" NewValue="##EnvCatrSQL##" />
                    <Replace XPath="//Server[@name='BVTINFRTLS001']" Attribute="name" NewValue="##EnvInfrTLS##" />
                    <Replace XPath="//Server[@name='BVTPOOLIIS001']" Attribute="name" NewValue="##EnvPoolIIS##" />
                    <Replace XPath="//Server[@name='BVTPOOLINH001']" Attribute="name" NewValue="##EnvPoolINH##" />
                    <Replace XPath="//Server[@name='BVTSECUINH001']" Attribute="name" NewValue="##EnvSecuINH##" />
                    <Replace XPath="//PropertyValue[@name='Environment']" Attribute="value" NewValue="##Environment##" />
                    <Replace XPath="//PropertyValue[@name='LogRootDir']" Attribute="value" NewValue="E:\Logroot" />
                    <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_BEGIN']" Attribute="value" NewValue="##EnvClientPoolIpBegin##" />
                    <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_END']" Attribute="value" NewValue="##EnvClientPoolIpEnd##" />
                    <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_NETMASK']" Attribute="value" NewValue="##EnvClientPoolNetmask##" />
                    <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_GATEWAY']" Attribute="value" NewValue="##EnvClientPoolGateway##" />
                    <Replace XPath="//PropertyValue[@name='SG_ADMIN_IP']" Attribute="value" NewValue="##EnvSGAdminIp##" />
                    <Replace XPath="//PropertyValue[@name='SG_INTERNET_IP']" Attribute="value" NewValue="##EnvSGInternetIp##" />
                    <Replace XPath="//PropertyValue[@name='XDS_INTERNET_IP']" Attribute="value" NewValue="##EnvXDSInternetIp##" />
                    <Replace XPath="//PropertyValue[@name='NpdbServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                    <Replace XPath="//PropertyValue[@name='Site.DataFolder']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$" />
                    <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                    <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                    <Replace XPath="//PropertyValue[@name='CatalogPublisher']" Attribute="value" NewValue="##EnvMstrSQL##" />
                    <Replace XPath="//PropertyValue[@name='CatalogDistributor']" Attribute="value" NewValue="##EnvMstrSQL##" />
                </Parameters>
            </Task>
            <Task Name="Update the TPPSettings file for the new environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\deployment\titleproppro\tppsettings.xml" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='BVTNet']" Attribute="Name" NewValue="##Environment##" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\TitlePropLogs" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LBSvr" NewValue="##EnvPoolINH##" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/MatchSvr" NewValue="##EnvAllSQL1##" />
                </Parameters>
            </Task>
            <Task Name="Set the NPDB location in STF.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests\stf.xml" />
                    <AddElement XPath="stf/config">
                        <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                    </AddElement>
                </Parameters>
            </Task>
            <Task Name="Set up LiveLib.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests\livelib.xml" />
                    <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                    <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                    <AddElement XPath="livelib/environments">
                        <environment name="##Environment##-int" type="DirectAccess">
                            <defaultSchemaVersion major="6" minor="0" />
                            <ipaddresses>
                                <ipaddress svcId="1" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_presence" />
                                <ipaddress svcId="2" host="##EnvPoolIIS##" transactionType="FD" vifc="stringsvr" />
                                <ipaddress svcId="4" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_base_subscription" />
                                <ipaddress svcId="5" host="##EnvPoolIIS##" transactionType="FD" vifc="xuacs" />
                                <ipaddress svcId="6" host="##EnvPoolIIS##" transactionType="FD" vifc="xmatchfd" />
                                <ipaddress svcId="7" host="##EnvPoolIIS##" transactionType="FD" vifc="xstatsfd" />
                                <ipaddress svcId="8" host="##EnvPoolIIS##" transactionType="FD" vifc="fbserver" />
                                <ipaddress svcId="9" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_billing_offering" />
                                <ipaddress svcId="10" host="##EnvPoolIIS##" transactionType="FD" />
                                <ipaddress svcId="11" host="##EnvPoolIIS##" transactionType="FD" vifc="xtou" />
                                <ipaddress svcId="12" host="##EnvPoolIIS##" transactionType="FD" vifc="xsig" />
                                <ipaddress svcId="13" host="##EnvPoolIIS##" transactionType="FD" vifc="xqry" />
                                <ipaddress svcId="14" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_name_resolution" />
                                <ipaddress svcId="15" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_storage" />
                                <ipaddress svcId="16" host="##EnvPoolIIS##" transactionType="FD" vifc="xarb" />
                                <ipaddress svcId="18" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_messaging" />
                                <ipaddress svcId="19" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_teams" />
                                <ipaddress svcId="21" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_drm" />
                                <ipaddress svcId="26" host="0.0.0.0" transactionType="FD" vifc="xconnsrv" />
                                <ipaddress svcId="175" host="##EnvCatalogIp##" transactionType="Http" vifc="catalog" />
                                <ipaddress svcId="176" host="##EnvPoolIIS##" transactionType="Http" vifc="web billing" />
                                <ipaddress svcId="177" host="##EnvPoolIIS##" transactionType="AA" />
                                <ipaddress svcId="178" host="##EnvPoolIIS##" transactionType="Http" />
                                <ipaddress svcId="181" host="##EnvSecuINH##" transactionType="FD" vifc="authsg" />
                            </ipaddresses>
                        </environment>
                    </AddElement>
                </Parameters>
            </Task>
        </TaskGroup>

        <TaskGroup Name="Pre-Deployment Tasks" Condition="IfPassing" Rollup="false">
            <Task Name="Restore the base snapshots" Module="VMTaskModule" Type="Local">
                <Parameters>
                    <Hosts>##EnvHostList##</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                    <ApplySnapshot SnapshotNameSpec="Ready for Deployment%" />
                </Parameters>
            </Task>
            <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local">
                <Parameters>
                    <Hosts>HxHyperC2B7</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##Environment## Billing One Box" />
                    <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                </Parameters>
            </Task>
            <Wait WaitSeconds="60" />
            <Task Name="Fix up the Temporal Partition on the Billing 1-box" Module="CommandLineTaskModule" Type="Remote">
                <Parameters>
                    <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="false" CaptureOutput="false" />
                    <RunAt Server="172.19.144.56" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                </Parameters>
            </Task>
            <Task Name="Update the GeoFencing data file" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                    <SourceLocation Path="G:\Stage\GeoFencing" />
                    <DestLocation Path="\\##EnvPoolIIS##\D$\Webroot\Geo\Data" />
                </Parameters>
            </Task>
            <Task Name="Start the Geo Segmentation Service" Module="ServicesTaskModule" Type="Remote">
                <Parameter Name="Action" Value="Start" />
                <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                <Parameter Name="Services" Value="Geo Segmentation Service 2.2" />
                <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
        </TaskGroup>

        <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
            <Task Name="Install Xbox LIVE Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                <Parameter Name="InstallationType" Value="install" />
                <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\HyperNet\##Environment##.xml" />
                <Parameter Name="Password" Value="##RemotePassword##" />
                <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
            </Task>
            <Wait WaitSeconds="30" />
        </TaskGroup>

        <TaskGroup Name="Environment Configuration" Rollup="true" Condition="IfPassing">
            <Task Name="Deploy LiveSignup" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                    <SourceLocation Path="\\##StagerName##\Stage\LiveSignup" />
                    <DestLocation Path="\\##EnvPoolIIS##\d$\webroot\xtou\xedl\LiveSignup" />
                </Parameters>
            </Task>

            <!-- Update virtual interface IPs -->
            <Task Name="Add the fastEspMarketplaceSearch virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'fastEspMarketplaceSearch','##EnvPoolIISIp##',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the FECatalogDBZune virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">update t_site_virtual_interface_ips set vc_ip='172.19.144.75' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='fecatalogdbzune'</Query>
                </Parameters>
            </Task>
            <Task Name="Add the FECatalogDBZune_A virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_A','172.19.144.75',1</Query>
                </Parameters>
            </Task>
            <Task Name="Add the FECatalogDBZune_B virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_B','172.19.144.75',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the Virtual Interface IP for FECatalogDBWatcher" Module="SQLTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBWatcher','##EnvCatrSQLIp##',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the Virtual Interface IP for FECatalogDBXbox" Module="SQLTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBXbox','##EnvCatrSQLIp##',1</Query>
                </Parameters>
            </Task>

            <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
            <Task Name="Update the ContentDownload port to 3074 in t_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the ContentDownload port to 3074 in t_virtual_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_virtual_interface 'download','download',@port=3074,@timeout=30000,@overwriteExistingValue=1</Query>
                </Parameters>
            </Task>

            <!-- Update environment-specific settings overrides -->
            <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Override the Ratings content type" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testContentType','4edb3445-d489-4f3f-9760-55f1a85dfe3a','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Override the Ratings user PUID" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testUserPuid','985160330844665','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Override the Ratings content type mappings" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false"><![CDATA[exec p_config_add_setting_override 'ratings_contenttype_mapping','<root><contentTypeMapping mediatype="1" contentTypeId="596d1667-572a-4611-9f87-a5d3edf45b36"/><contentTypeMapping mediatype="18" contentTypeId="faa29126-f880-444a-b951-01a4a8dce301"/><contentTypeMapping mediatype="19" contentTypeId="d180a26c-a2a4-4d7b-9094-3a12725447b5"/><contentTypeMapping mediatype="20" contentTypeId="3fe2a114-98c8-4881-bc7a-aaf16c2cab9c"/><contentTypeMapping mediatype="21" contentTypeId="3d6ada32-2733-4d41-b67c-e325f643c25f"/><contentTypeMapping mediatype="22" contentTypeId="7a1e9a32-4828-4180-9127-72e06435b553"/><contentTypeMapping mediatype="23" contentTypeId="d7da7178-06f4-4728-959c-d5ce6bf6f5a1"/><contentTypeMapping mediatype="30" contentTypeId="e9c2dbae-022f-49d2-816e-dc1604ed8aca"/><contentTypeMapping mediatype="34" contentTypeId="0ea3aa76-ae84-48cb-b9fc-32901f0191ae"/><contentTypeMapping mediatype="37" contentTypeId="c01942e6-de53-4eb6-92a4-7316a47a4c57"/><contentTypeMapping mediatype="47" contentTypeId="d0d510b6-43fa-4bcf-98e9-1c354f68fbbc"/></root>','##Environment##','ALL',-1,'ALL',1]]></Query>
                </Parameters>
            </Task>
            <Task Name="Override the XCBK certificate name" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xcbk_sslCertSubject','##EnvPoolIISIp##','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Override the default Download URL" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">update t_site_virtual_interface_overrides set vc_info1='##EnvINHInternetIp##' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='download'</Query>
                </Parameters>
            </Task>
            <Task Name="Override the default Download Content Directory location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'download_contentDirectory','F:\contentDownload','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Enable GeoFencing for game offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_offerGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Enable GeoFencing for video offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_videoGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                </Parameters>
            </Task>

            <!-- Update environment-specific LiveHive settings -->
            <Task Name="Update the AvatarPictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriRoot','http://##EnvINHInternetIp##'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the AvatarPictureUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriPort','12020'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the AvatarAssetUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarAssetUriRoot','http://##EnvINHInternetIp##:3074/content'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the UpdateUriRoot1 LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','UpdateUriRoot1','http://##EnvINHInternetIp##:3074/content'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the CatalogCDNUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriRoot','http://##EnvINHInternetIp##'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the CatalogCDNUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriPort','12020'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the CatalogUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriRoot','http://##EnvINHInternetIp##'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the CatalogUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriPort','12020'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the StoragePictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','StoragePictureUriRoot','http://##EnvINHInternetIp##'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the EpixAvatarConfigPath LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixAvatarConfigPath','/shaXam/0303/dd/dd/dddd060f-1cb5-42a9-8fc9-30bff45e81c9.txt'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the EpixPreviewUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixPreviewUriRoot','http://10.198.102.130'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the EpixUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixUriRoot','http://10.184.224.129'</Query>
                </Parameters>
            </Task>

            <Task Name="Ensure services on the PoolINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                <Parameter Name="Action" Value="Start" />
                <Parameter Name="Machine" Value="##EnvPoolINH##" />
                <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,PresenceCache,ProfileCache,NotificationCache" />
                <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Ensure services on the SecuINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                <Parameter Name="Action" Value="Restart" />
                <Parameter Name="Machine" Value="##EnvSecuINH##" />
                <Parameter Name="Services" Value="XDS,XKDC,xmgmt,SGSVC" />
                <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Reboot the PoolIIS server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                <Parameters>
                    <Hosts>##EnvHostList##</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##EnvPoolIIS##" />
                    <RebootVM />
                </Parameters>
            </Task>
            <Wait WaitSeconds="60" />
        </TaskGroup>

        <TaskGroup Name="Prop Titles" Rollup="true" Condition="IfPassing">
            <Task Name="Update TPP logs location" Module="XMLFileModule" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\Deployment\TitlePropPro\TPPSettings.xml" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\TitleProp" />
                </Parameters>
            </Task>
            <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                    <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\Deployment\TitlePropPro" />
                    <DestLocation Path="\\##EnvInfrTLS##\D$\WebRoot\TitlePropPro" />
                </Parameters>
            </Task>
            <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                <Parameter Name="Env" Value="##Environment##" />
                <Parameter Name="Title" Value="BVT" />
                <Parameter Name="Threads" Value="2" />
            </Task>
            <Wait WaitSeconds="30" />
            <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" />
                    <RunAt Server="##EnvInfrTLS##" />
                </Parameters>
            </Task>
        </TaskGroup>

        <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
            <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                <Parameters>
                    <HealthCheckList NPDBServer="##EnvAllSQL1##" />
                    <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                    <Options BatchSize="5" RequestTimeout="60" />
                    <LogsLocation>\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\HealthChecks</LogsLocation>
                    <HealthCheckExceptions>
                        <HealthCheckException Component="catalog" HealthStatus="Yellow">
                            <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="cron" HealthStatus="Yellow">
                            <HealthBlockException Name="*" HealthStatus="Yellow">
                                <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                            <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="livecache" HealthStatus="Yellow">
                            <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                        </HealthCheckException>
                        <HealthCheckException Component="ratings" HealthStatus="Red">
                            <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="xbos" HealthStatus="Yellow">
                            <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                        </HealthCheckException>
                        <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                            <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                        </HealthCheckException>
                        <HealthCheckException Component="xsig" HealthStatus="Yellow">
                            <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                            <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                <ErrorDetails Op="Contains">less than 30 days in the future</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                    </HealthCheckExceptions>
                </Parameters>
            </Task>
            <Task Name="Add the Environment's NPDB location to the STF.xml file" Module="XMLFileModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests\stf.xml" />
                    <AddElement XPath="stf/config">
                        <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                    </AddElement>
                </Parameters>
            </Task>
            <Task Name="Run the LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase#">
                <Parameter Name="STFLocation" Value="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests" />
                <Parameter Name="Environment" Value="##Environment##"/>
                <Parameter Name="Suite" Value="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests\suites\LiveBVT.dll" />
                <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\LiveBVT\LiveLKG.xml"/>
                <Parameter Name="AllowTag" Value="LiveLKG" />
            </Task>
        </TaskGroup>

        <Task Name="Create snapshots if deployment fails" Module="VMTaskModule" Type="Local" Condition="IfFailing">
            <Parameters>
                <Hosts>##EnvHostList##</Hosts>
                <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                <CreateSnapshot NewSnapshotName="##BuildName## ##JobOwner## - Private Deployment Failed" ReplaceExisting="true" />
            </Parameters>
        </Task>

        <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
            <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <Connection ServerList="##EnvAllServersList##" />
                    <EventLog Name="Application" />
                    <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                    <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                    <Filter Field="Type" Op="NotEquals" Value="4" />
                    <Filter Field="Type" Op="NotEquals" Value="5" />
                    <Output Path="L:\Logs\##Environment##\PRIVATE_BUILD\EventLogs\##JobId## (##JobType##)" />
                </Parameters>
            </Task>
            <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                </Parameters>
            </Task>
            <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                </Parameters>
            </Task>
            <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                </Parameters>
            </Task>
            <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                </Parameters>
            </Task>
            <Task Name="Pull Marketplace test data logs from the MstrSQL server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                </Parameters>
            </Task>
            <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                <Parameters>
                    <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                    <DestLocation Path="##LogBase##\##Environment##\PRIVATE_BUILD" />
                </Parameters>
            </Task>
            <Task Name="Clean up the remote log location" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Delete" Recurse="true" Force="true" />
                    <SourceLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD" />
                </Parameters>
            </Task>
        </TaskGroup>
    </Job>

    <Job Name="XOnline Main Private Build Deployment" Type="Deployment" Environment="BVTNet" Build="XOnline_Main" Priority="Low" Enabled="false">
        <Schedule Rate="QuarterHourly" Frequency="0" StartTime="01:00:00" EndTime="17:00:00" />
        <Report ToList="" XsltName="DeploymentResults.xslt" />

        <TaskGroup Name="Stage Build" Rollup="true" Condition="Always">
            <Task Name="Delete old private build files" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Delete" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD" />
                </Parameters>
            </Task>
            <Task Name="Copy private build to the BVTNet folder" Module="StageFilesTaskModule" Type="Local">
                <Parameters>
                    <SourceLocation Path="##BuildPath##" />
                    <DestLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\PRIVATE_BUILD" UserName="##EnvUserName##" PasswordEncrypted="##LocalPasswordEncrypted##" Password="##LocalPassword##" />
                    <StageDir Path="merged-##BuildType##" Recurse="true" Force="true" />
                    <StageDir Path="##BuildType##\test\stftests" Recurse="true" Force="true" />
                    <StageDir Path="##BuildType##64\test\stftests\suites" TargetPath="##BuildType##\test\stftests\suites64" Recurse="true" Force="true" />
                    <StageDir Path="##BuildType##\test\deployment\titleproppro" Recurse="true" Force="true" />
                </Parameters>
            </Task>
        </TaskGroup>

        <TaskGroup Name="Create the environment" Condition="IfPassing" Rollup="false">
            <Task Name="Copy the BVTNet database deployment files" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="deployment_bvtnet.xml" NewFileName="deployment_##Environment##.xml" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\prodbase" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\prodbase" />
                </Parameters>
            </Task>
            <Task Name="Create environment-specific Genealogy update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\genealogy\dml\data\bvtnet" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\genealogy\dml\data\##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Create environment-specific UODB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\uodb\dml\data\bvtnet" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\uodb\dml\data\##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Create environment-specific WebDB update files" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\webdb\dml\data\bvtnet" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\webdb\dml\data\##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Modify the database deployment files to point to the correct servers" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\prodbase" FileSpec="deployment_##Environment##.xml" />
                    <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="true" />
                    <Replace FindString="BVT" ReplaceString="##EnvServerPrefix##" IgnoreCase="true" />
                    <Recurse />
                </Parameters>
            </Task>
            <Task Name="Inject the new environment name into the NPDB prodbase .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\prodbase\npdb\dml\data" FileSpec="*.sql" />
                    <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Inject the new environment name into the NPDB upgrade .SQL files" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\database\upgrade\npdb\dml\data" FileSpec="*.sql" />
                    <Replace FindString="bvtnet" ReplaceString="##Environment##" />
                </Parameters>
            </Task>
            <Task Name="Change the service.xml file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\octopus" FileSpec="service.xml" />
                    <Replace FindString="bvtnet" ReplaceString="##Environment##" IgnoreCase="true" />
                    <Recurse />
                </Parameters>
            </Task>
            <Task Name="Update the name of the XCBK cert in the site.xml file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\Secure\##Environment##\site.xml" />
                    <Replace XPath="Site/Certificates/SSLCert[@Identifier='ssl.spsxcbk']" Attribute="File" NewValue="##EnvPoolIISIp##.pfx" />
                </Parameters>
            </Task>
            <Task Name="Create the Octopus config file" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="bvtnet.xml" NewFileName="##Environment##.xml" Recurse="true" Force="true" />
                    <SourceLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\bvtnet" />
                    <DestLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\hypernet" />
                </Parameters>
            </Task>
            <Task Name="Change the user names in the Octopus config file" Module="FileStringReplaceModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\hypernet" FileSpec="##Environment##.xml" />
                    <Replace FindString="bvt_" ReplaceString="xbles_" IgnoreCase="false" />
                </Parameters>
            </Task>
            <Task Name="Fix up the Octopus deployment configuration file" Module="XMLFileModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\hypernet\##Environment##.xml" />
                    <Replace XPath="DeploymentInstance" Attribute="deploymentShareLocation" NewValue="\\##StagerName##\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\octopus" />
                    <Replace XPath="DeploymentInstance" Attribute="logsLocation" NewValue="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\Deployment" />
                    <Replace XPath="//Server[@name='BVTXALLSQL001']" Attribute="name" NewValue="##EnvAllSQL1##" />
                    <Replace XPath="//Server[@name='BVTXALLSQL002']" Attribute="name" NewValue="##EnvAllSQL2##" />
                    <Replace XPath="//Server[@name='BVTMSTRSQL001']" Attribute="name" NewValue="##EnvMstrSQL##" />
                    <Replace XPath="//Server[@name='BVTCATRSQL001']" Attribute="name" NewValue="##EnvCatrSQL##" />
                    <Replace XPath="//Server[@name='BVTINFRTLS001']" Attribute="name" NewValue="##EnvInfrTLS##" />
                    <Replace XPath="//Server[@name='BVTPOOLIIS001']" Attribute="name" NewValue="##EnvPoolIIS##" />
                    <Replace XPath="//Server[@name='BVTPOOLINH001']" Attribute="name" NewValue="##EnvPoolINH##" />
                    <Replace XPath="//Server[@name='BVTSECUINH001']" Attribute="name" NewValue="##EnvSecuINH##" />
                    <Replace XPath="//PropertyValue[@name='Environment']" Attribute="value" NewValue="##Environment##" />
                    <Replace XPath="//PropertyValue[@name='LogRootDir']" Attribute="value" NewValue="E:\Logroot" />
                    <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_BEGIN']" Attribute="value" NewValue="##EnvClientPoolIpBegin##" />
                    <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_IP_END']" Attribute="value" NewValue="##EnvClientPoolIpEnd##" />
                    <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_NETMASK']" Attribute="value" NewValue="##EnvClientPoolNetmask##" />
                    <Replace XPath="//PropertyValue[@name='SG_CLIENTPOOL_GATEWAY']" Attribute="value" NewValue="##EnvClientPoolGateway##" />
                    <Replace XPath="//PropertyValue[@name='SG_ADMIN_IP']" Attribute="value" NewValue="##EnvSGAdminIp##" />
                    <Replace XPath="//PropertyValue[@name='SG_INTERNET_IP']" Attribute="value" NewValue="##EnvSGInternetIp##" />
                    <Replace XPath="//PropertyValue[@name='XDS_INTERNET_IP']" Attribute="value" NewValue="##EnvXDSInternetIp##" />
                    <Replace XPath="//PropertyValue[@name='NpdbServer']" Attribute="value" NewValue="##EnvAllSQL1##" />
                    <Replace XPath="//PropertyValue[@name='Site.DataFolder']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$" />
                    <Replace XPath="//PropertyValue[@name='PACPath']" Attribute="value" NewValue="\\##StagerName##\secure-##Environment##$\PartnerConfig.xml" />
                    <Replace XPath="//PropertyValue[@name='CatalogProdBackup']" Attribute="value" NewValue="" />
                    <Replace XPath="//PropertyValue[@name='CatalogPublisher']" Attribute="value" NewValue="##EnvMstrSQL##" />
                    <Replace XPath="//PropertyValue[@name='CatalogDistributor']" Attribute="value" NewValue="##EnvMstrSQL##" />
                </Parameters>
            </Task>
            <Task Name="Update the TPPSettings file for the new environment" Module="XMLFileModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\deployment\titleproppro\tppsettings.xml" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='BVTNet']" Attribute="Name" NewValue="##Environment##" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\TitlePropLogs" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LBSvr" NewValue="##EnvPoolINH##" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/MatchSvr" NewValue="##EnvAllSQL1##" />
                </Parameters>
            </Task>
            <Task Name="Set the NPDB location in STF.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests\stf.xml" />
                    <AddElement XPath="stf/config">
                        <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                    </AddElement>
                </Parameters>
            </Task>
            <Task Name="Set up LiveLib.xml" Module="XMLFileModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests\livelib.xml" />
                    <Replace XPath="livelib/config/currentEnvironment" Attribute="name" NewValue="##Environment##-int" />
                    <Replace XPath="livelib/clients/client[@type='Xenon']/transactions[environmentType='DirectAccess']/transaction[@svcId='176']" Attribute="transactionType" NewValue="AA" />
                    <AddElement XPath="livelib/environments">
                        <environment name="##Environment##-int" type="DirectAccess">
                            <defaultSchemaVersion major="6" minor="0" />
                            <ipaddresses>
                                <ipaddress svcId="1" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_presence" />
                                <ipaddress svcId="2" host="##EnvPoolIIS##" transactionType="FD" vifc="stringsvr" />
                                <ipaddress svcId="4" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_base_subscription" />
                                <ipaddress svcId="5" host="##EnvPoolIIS##" transactionType="FD" vifc="xuacs" />
                                <ipaddress svcId="6" host="##EnvPoolIIS##" transactionType="FD" vifc="xmatchfd" />
                                <ipaddress svcId="7" host="##EnvPoolIIS##" transactionType="FD" vifc="xstatsfd" />
                                <ipaddress svcId="8" host="##EnvPoolIIS##" transactionType="FD" vifc="fbserver" />
                                <ipaddress svcId="9" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_billing_offering" />
                                <ipaddress svcId="10" host="##EnvPoolIIS##" transactionType="FD" />
                                <ipaddress svcId="11" host="##EnvPoolIIS##" transactionType="FD" vifc="xtou" />
                                <ipaddress svcId="12" host="##EnvPoolIIS##" transactionType="FD" vifc="xsig" />
                                <ipaddress svcId="13" host="##EnvPoolIIS##" transactionType="FD" vifc="xqry" />
                                <ipaddress svcId="14" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_name_resolution" />
                                <ipaddress svcId="15" host="##EnvPoolIIS##" transactionType="FD" vifc="stfd_storage" />
                                <ipaddress svcId="16" host="##EnvPoolIIS##" transactionType="FD" vifc="xarb" />
                                <ipaddress svcId="18" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_messaging" />
                                <ipaddress svcId="19" host="##EnvPoolIIS##" transactionType="FD" vifc="xpnfd_teams" />
                                <ipaddress svcId="21" host="##EnvPoolIIS##" transactionType="FD" vifc="xbos_drm" />
                                <ipaddress svcId="26" host="0.0.0.0" transactionType="FD" vifc="xconnsrv" />
                                <ipaddress svcId="175" host="##EnvCatalogIp##" transactionType="Http" vifc="catalog" />
                                <ipaddress svcId="176" host="##EnvPoolIIS##" transactionType="Http" vifc="web billing" />
                                <ipaddress svcId="177" host="##EnvPoolIIS##" transactionType="AA" />
                                <ipaddress svcId="178" host="##EnvPoolIIS##" transactionType="Http" />
                                <ipaddress svcId="181" host="##EnvSecuINH##" transactionType="FD" vifc="authsg" />
                            </ipaddresses>
                        </environment>
                    </AddElement>
                </Parameters>
            </Task>
        </TaskGroup>

        <TaskGroup Name="Pre-Deployment Tasks" Condition="IfPassing" Rollup="false">
            <Task Name="Restore the base snapshots" Module="VMTaskModule" Type="Local">
                <Parameters>
                    <Hosts>##EnvHostList##</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                    <ApplySnapshot SnapshotNameSpec="Ready for Deployment%" />
                </Parameters>
            </Task>
            <Task Name="Reset the Billing 1-Box back to a clean state" Module="VMTaskModule" Type="Local">
                <Parameters>
                    <Hosts>HxHyperC2B7</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##Environment## Billing One Box" />
                    <ApplySnapshot SnapshotNameSpec="##EnvServerPrefix##: Clean%" />
                </Parameters>
            </Task>
            <Wait WaitSeconds="60" />
            <Task Name="Fix up the Temporal Partition on the Billing 1-box" Module="CommandLineTaskModule" Type="Remote">
                <Parameters>
                    <Command Executable="C:\Program Files (x86)\Microsoft SPS Test\DMP\DMPTestTemporalPartitionTool.exe" ErrorsAreFatal="false" CaptureOutput="false" />
                    <RunAt Server="172.19.144.56" Username="VM1BoxDom\Administrator" Password="#Bugsfor$" />
                </Parameters>
            </Task>
            <Task Name="Update the GeoFencing data file" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="MSCOMGeoInfoServerData.dat" Recurse="false" Force="false" />
                    <SourceLocation Path="G:\Stage\GeoFencing" />
                    <DestLocation Path="\\##EnvPoolIIS##\D$\Webroot\Geo\Data" />
                </Parameters>
            </Task>
            <Task Name="Start the Geo Segmentation Service" Module="ServicesTaskModule" Type="Remote">
                <Parameter Name="Action" Value="Start" />
                <Parameter Name="Machine" Value="##EnvPoolIIS##" />
                <Parameter Name="Services" Value="Geo Segmentation Service 2.2" />
                <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
        </TaskGroup>

        <TaskGroup Name="Install Xbox LIVE" Rollup="true" Condition="IfPassing">
            <Task Name="Install Xbox LIVE Components" Module="OctopusTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                <Parameter Name="InstallationType" Value="install" />
                <Parameter Name="ConfigurationFilePath" Value="\\##StagerName##\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\merged-##BuildType##\configuration\HyperNet\##Environment##.xml" />
                <Parameter Name="Password" Value="##RemotePassword##" />
                <Parameter Name="PasswordEncrypted" Value="##RemotePasswordEncrypted##" />
            </Task>
            <Wait WaitSeconds="30" />
        </TaskGroup>

        <TaskGroup Name="Environment Configuration" Rollup="true" Condition="IfPassing">
            <Task Name="Deploy LiveSignup" Module="FileTaskModule" Type="Remote" Condition="IfPassing">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                    <SourceLocation Path="\\##StagerName##\Stage\LiveSignup" />
                    <DestLocation Path="\\##EnvPoolIIS##\d$\webroot\xtou\xedl\LiveSignup" />
                </Parameters>
            </Task>

            <!-- Update virtual interface IPs -->
            <Task Name="Add the fastEspMarketplaceSearch virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'fastEspMarketplaceSearch','172.19.144.76',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the FECatalogDBZune virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">update t_site_virtual_interface_ips set vc_ip='172.19.144.75' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='fecatalogdbzune'</Query>
                </Parameters>
            </Task>
            <Task Name="Add the FECatalogDBZune_A virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_A','172.19.144.75',1</Query>
                </Parameters>
            </Task>
            <Task Name="Add the FECatalogDBZune_B virtual interface IP" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBZune_B','172.19.144.75',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the Virtual Interface IP for FECatalogDBWatcher" Module="SQLTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBWatcher','##EnvCatrSQLIp##',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the Virtual Interface IP for FECatalogDBXbox" Module="SQLTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_site_virtual_interface_ip '##Environment##',1,'FECatalogDBXbox','##EnvCatrSQLIp##',1</Query>
                </Parameters>
            </Task>

            <!-- This is needed because XrlScan doesn't use the t_site_virtual_interface_overrides table -->
            <Task Name="Update the ContentDownload port to 3074 in t_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_interface 'download','download','internet_tier','http',@port=3074,@vSite='ContentDownload',@vSiteId=300,@timeout=30000,@overwriteExistingValue=1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the ContentDownload port to 3074 in t_virtual_interfaces" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_virtual_interface 'download','download',@port=3074,@timeout=30000,@overwriteExistingValue=1</Query>
                </Parameters>
            </Task>

            <!-- Update environment-specific settings overrides -->
            <Task Name="Override the TitleVault location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'titlevault_root','\\##EnvInfrTLS##\TitleVault','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Override the Ratings content type" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testContentType','4edb3445-d489-4f3f-9760-55f1a85dfe3a','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Override the Ratings user PUID" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'msnrr_testUserPuid','985160330844665','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Override the Ratings content type mappings" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false"><![CDATA[exec p_config_add_setting_override 'ratings_contenttype_mapping','<root><contentTypeMapping mediatype="1" contentTypeId="596d1667-572a-4611-9f87-a5d3edf45b36"/><contentTypeMapping mediatype="18" contentTypeId="faa29126-f880-444a-b951-01a4a8dce301"/><contentTypeMapping mediatype="19" contentTypeId="d180a26c-a2a4-4d7b-9094-3a12725447b5"/><contentTypeMapping mediatype="20" contentTypeId="3fe2a114-98c8-4881-bc7a-aaf16c2cab9c"/><contentTypeMapping mediatype="21" contentTypeId="3d6ada32-2733-4d41-b67c-e325f643c25f"/><contentTypeMapping mediatype="22" contentTypeId="7a1e9a32-4828-4180-9127-72e06435b553"/><contentTypeMapping mediatype="23" contentTypeId="d7da7178-06f4-4728-959c-d5ce6bf6f5a1"/><contentTypeMapping mediatype="30" contentTypeId="e9c2dbae-022f-49d2-816e-dc1604ed8aca"/><contentTypeMapping mediatype="34" contentTypeId="0ea3aa76-ae84-48cb-b9fc-32901f0191ae"/><contentTypeMapping mediatype="37" contentTypeId="c01942e6-de53-4eb6-92a4-7316a47a4c57"/><contentTypeMapping mediatype="47" contentTypeId="d0d510b6-43fa-4bcf-98e9-1c354f68fbbc"/></root>','##Environment##','ALL',-1,'ALL',1]]></Query>
                </Parameters>
            </Task>
            <Task Name="Override the XCBK certificate name" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'xcbk_sslCertSubject','##EnvPoolIISIp##','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Override the default Download URL" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">update t_site_virtual_interface_overrides set vc_info1='##EnvINHInternetIp##' where vc_environment='##Environment##' and i_site_id=1 and vc_virtual_interface='download'</Query>
                </Parameters>
            </Task>
            <Task Name="Override the default Download Content Directory location" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'download_contentDirectory','F:\contentDownload','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Enable GeoFencing for game offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_offerGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Enable GeoFencing for video offers" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'geofencing_videoGeoFencingEnabled','true','##Environment##','ALL',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the default Leaderboard Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_LeaderboardServer','##EnvPoolINH##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                </Parameters>
            </Task>
            <Task Name="Update the default Matchmaking Server setting for Mix" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_config_add_setting_override 'mix_default_MatchServer','##EnvAllSQL1##','##Environment##','MixTitleManagement',-1,'ALL',1</Query>
                </Parameters>
            </Task>

            <!-- Update environment-specific LiveHive settings -->
            <Task Name="Update the AvatarPictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriRoot','http://##EnvINHInternetIp##'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the AvatarPictureUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarPictureUriPort','12020'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the AvatarAssetUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','AvatarAssetUriRoot','http://##EnvINHInternetIp##:3074/content'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the UpdateUriRoot1 LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','UpdateUriRoot1','http://##EnvINHInternetIp##:3074/content'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the CatalogCDNUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriRoot','http://##EnvINHInternetIp##'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the CatalogCDNUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogCDNUriPort','12020'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the CatalogUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriRoot','http://##EnvINHInternetIp##'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the CatalogUriPort LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','CatalogUriPort','12020'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the StoragePictureUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','StoragePictureUriRoot','http://##EnvINHInternetIp##'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the EpixAvatarConfigPath LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixAvatarConfigPath','/shaXam/0303/dd/dd/dddd060f-1cb5-42a9-8fc9-30bff45e81c9.txt'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the EpixPreviewUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixPreviewUriRoot','http://10.198.102.130'</Query>
                </Parameters>
            </Task>
            <Task Name="Update the EpixUriRoot LiveHive setting" Module="SQLTaskModule" Condition="IfPassing" Type="Remote">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">exec p_live_registry_set_setting '##Environment##','xenon','EpixUriRoot','http://10.184.224.129'</Query>
                </Parameters>
            </Task>

            <Task Name="Ensure services on the PoolINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                <Parameter Name="Action" Value="Start" />
                <Parameter Name="Machine" Value="##EnvPoolINH##" />
                <Parameter Name="Services" Value="Acceleration,XCache,XConnSrv,Cleanser,XBanc,LbSvr,xmgmt,PresenceCache,ProfileCache,NotificationCache" />
                <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Ensure services on the SecuINH server are started" Module="ServicesTaskModule" Type="Remote" Condition="IfPassing">
                <Parameter Name="Action" Value="Restart" />
                <Parameter Name="Machine" Value="##EnvSecuINH##" />
                <Parameter Name="Services" Value="XDS,XKDC,xmgmt,SGSVC" />
                <Parameter Name="ErrorsAreFatal" Value="false" />
            </Task>
            <Task Name="Reboot the PoolIIS server" Module="VMTaskModule" Type="Local" Condition="IfPassing">
                <Parameters>
                    <Hosts>##EnvHostList##</Hosts>
                    <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                    <VM NameSpec="##EnvPoolIIS##" />
                    <RebootVM />
                </Parameters>
            </Task>
            <Wait WaitSeconds="60" />
        </TaskGroup>

        <TaskGroup Name="Prop Titles" Rollup="true" Condition="IfPassing">
            <Task Name="Update TPP logs location" Module="XMLFileModule" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\Deployment\TitlePropPro\TPPSettings.xml" />
                    <Replace XPath="TitlePropProConfig/Environments/Environment[@Name='##Environment##']/LogLocation" NewValue="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\TitleProp" />
                </Parameters>
            </Task>
            <Task Name="Stage TPP to the TLS server" Module="FileTaskModule" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="false" Force="false" />
                    <SourceLocation Path="\\##StagerName##\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\Deployment\TitlePropPro" />
                    <DestLocation Path="\\##EnvInfrTLS##\D$\WebRoot\TitlePropPro" />
                </Parameters>
            </Task>
            <Task Name="Prop BVT Titles" Module="TitlePropTaskModule" Type="Remote" LocalLogTarget="##LogBase##">
                <Parameter Name="Machine" Value="##EnvInfrTLS##" />
                <Parameter Name="TPPPath" Value="D:\Webroot\TitlePropPro" />
                <Parameter Name="Env" Value="##Environment##" />
                <Parameter Name="Title" Value="BVT" />
                <Parameter Name="Threads" Value="2" />
            </Task>
            <Wait WaitSeconds="30" />
            <Task Name="Flush the Presence cache" Module="CommandLineTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Command Executable="D:\webroot\xbltools\xmgmtc.exe" Arguments="-i xpnfd_presence -r &quot;e :xpnfd CacheFlush&quot;" />
                    <RunAt Server="##EnvInfrTLS##" />
                </Parameters>
            </Task>
        </TaskGroup>

        <TaskGroup Name="Deployment Validation" Rollup="true" Condition="IfPassing">
            <Task Name="Run Healthchecks" Module="HealthCheckTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase##">
                <Parameters>
                    <HealthCheckList NPDBServer="##EnvAllSQL1##" />
                    <Credentials UserName="##EnvUserName##" Password="##RemotePassword##" Encrypted="##RemotePasswordEncrypted##" />
                    <Options BatchSize="5" RequestTimeout="60" />
                    <LogsLocation>\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\HealthChecks</LogsLocation>
                    <HealthCheckExceptions>
                        <HealthCheckException Component="catalog" HealthStatus="Yellow">
                            <HealthBlockException Name="DatabaseInfo" HealthStatus="Red">
                                <ErrorDetails Op="Contains">submissionsdb</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="cron" HealthStatus="Yellow">
                            <HealthBlockException Name="*" HealthStatus="Yellow">
                                <ErrorDetails Op="Contains">Job has been DISABLED</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="kdcsvc" HealthStatus="Yellow">
                            <HealthBlockException Name="PerformanceCheck" HealthStatus="Yellow">
                                <ErrorDetails Op="Contains">XBL KDC Svc - Core</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="livecache" HealthStatus="Yellow">
                            <HealthBlockException Name="ThreadPool" HealthStatus="Yellow" />
                        </HealthCheckException>
                        <HealthCheckException Component="ratings" HealthStatus="Red">
                            <HealthBlockException Name="RatingsHealthInfo" HealthStatus="Red">
                                <ErrorDetails Op="Contains">MsnRRException</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="xbos" HealthStatus="Yellow">
                            <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                        </HealthCheckException>
                        <HealthCheckException Component="xcbk" HealthStatus="Yellow">
                            <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                        </HealthCheckException>
                        <HealthCheckException Component="xsig" HealthStatus="Yellow">
                            <HealthBlockException Name="XsigWmrmHealthCheck" HealthStatus="Yellow">
                                <ErrorDetails Op="Contains">The wmrm certificate will expire</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                        <HealthCheckException Component="xuacs" HealthStatus="Yellow">
                            <HealthBlockException Name="MusicnetEcommerceB2B" HealthStatus="Yellow" />
                            <HealthBlockException Name="CertInfo" HealthStatus="Yellow">
                                <ErrorDetails Op="Contains">less than 30 days in the future</ErrorDetails>
                            </HealthBlockException>
                        </HealthCheckException>
                    </HealthCheckExceptions>
                </Parameters>
            </Task>
            <Task Name="Add the Environment's NPDB location to the STF.xml file" Module="XMLFileModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileLocation Path="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests\stf.xml" />
                    <AddElement XPath="stf/config">
                        <configenv environment="##Environment##" npdbip="##EnvAllSQL1##" npdbname="npdb" webstoresite="" />
                    </AddElement>
                </Parameters>
            </Task>
            <Task Name="Run the LiveLKG Suite" Module="STFTaskModule" Type="Remote" Condition="Always" LocalLogTarget="##LogBase#">
                <Parameter Name="STFLocation" Value="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests" />
                <Parameter Name="Environment" Value="##Environment##"/>
                <Parameter Name="Suite" Value="F:\##StagerBuildShare##\##Environment##\PRIVATE_BUILD\##BuildType##\test\stftests\suites\LiveBVT.dll" />
                <Parameter Name="XmlOutput" Value="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD\LiveBVT\LiveLKG.xml"/>
                <Parameter Name="AllowTag" Value="LiveLKG" />
            </Task>
        </TaskGroup>

        <Task Name="Create snapshots if deployment fails" Module="VMTaskModule" Type="Local" Condition="IfFailing">
            <Parameters>
                <Hosts>##EnvHostList##</Hosts>
                <Credentials UserName="##EnvUserName##" Password="##LocalPassword##" Encrypted="##LocalPasswordEncrypted##" />
                <VM NameSpec="##EnvServerPrefix##%" IgnoreNameSpec="%Billing%" />
                <CreateSnapshot NewSnapshotName="##BuildName## ##JobOwner## - Private Deployment Failed" ReplaceExisting="true" />
            </Parameters>
        </Task>

        <TaskGroup Name="Gather Post-Mortem Information" Rollup="false" Condition="Always">
            <Task Name="Pull Events from all servers" Module="AsyncEventLogTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <Connection ServerList="##EnvAllServersList##" />
                    <EventLog Name="Application" />
                    <Filter Field="DateTime" Op="GreaterThanOrEquals" Value="##JobStartTimeGMT##" />
                    <Filter Field="DateTime" Op="LessThan" Value="##CurrentTimeGMT##" />
                    <Filter Field="Type" Op="NotEquals" Value="4" />
                    <Filter Field="Type" Op="NotEquals" Value="5" />
                    <Output Path="L:\Logs\##Environment##\PRIVATE_BUILD\EventLogs\##JobId## (##JobType##)" />
                </Parameters>
            </Task>
            <Task Name="Pull IIS and application logs from the PoolIIS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvPoolIIS##\e$\LogRoot" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvPoolIIS##" />
                </Parameters>
            </Task>
            <Task Name="Pull application logs from the PoolINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvPoolINH##\e$\LogRoot" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvPoolINH##" />
                </Parameters>
            </Task>
            <Task Name="Pull IIS and application logs from the SecuINH server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvSecuINH##\e$\LogRoot" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvSecuINH##" />
                </Parameters>
            </Task>
            <Task Name="Pull IIS and application logs from the TLS server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.*" Recurse="true" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvInfrTLS##\e$\LogRoot" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvInfrTLS##" />
                </Parameters>
            </Task>
            <Task Name="Pull Marketplace test data logs from the MstrSQL server" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Copy" FileSpec="*.log" Recurse="false" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##EnvMstrSQL##\d$\WebRoot\Marketplace.TestData.Xml\" />
                    <DestLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD\AppLogs\##JobId## (##JobType##)\##EnvMstrSQL##" />
                </Parameters>
            </Task>
            <Task Name="Pull LiveHive settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_live_registry_settings where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_live_registry_settings.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull setting overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_setting_overrides where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_setting_overrides.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull server interfaces" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_server_interfaces where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_server_interfaces.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull virtual interface IPs" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_ips where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_ips.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull virtual interface overrides" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_site_virtual_interface_overrides where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_site_virtual_interface_overrides.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull server NIC settings" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_server_nics where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_server_nics.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull user roles" Module="SQLTaskModule" Type="Remote" Condition="Always">
                <Parameters>
                    <Connection Server="##EnvAllSQL1##" Database="npdb" />
                    <Query ErrorsAreFatal="false">Select * from t_environment_user_roles where vc_environment='##Environment##'</Query>
                    <Results Path="L:\Logs\##Environment##\PRIVATE_BUILD\Settings\##JobId## (##JobType##)" FileName="t_environment_user_roles.csv" />
                </Parameters>
            </Task>
            <Task Name="Pull all log files back to the Redmond domain" Module="FileTaskModule" Condition="Always" Type="Local">
                <Parameters>
                    <FileCommand Action="Move" FileSpec="*.*" Recurse="true" Force="false" ErrorsAreFatal="false" />
                    <SourceLocation Path="\\##StagerName##\Logs\##Environment##\PRIVATE_BUILD" UserName="##EnvUserName##" Password="##LocalPassword##" PasswordEncrypted="##LocalPasswordEncrypted##" />
                    <DestLocation Path="##LogBase##\##Environment##\PRIVATE_BUILD" />
                </Parameters>
            </Task>
            <Task Name="Clean up the remote log location" Module="FileTaskModule" Condition="Always" Type="Remote">
                <Parameters>
                    <FileCommand Action="Delete" Recurse="true" Force="true" />
                    <SourceLocation Path="L:\Logs\##Environment##\PRIVATE_BUILD" />
                </Parameters>
            </Task>
        </TaskGroup>
    </Job>
</PrivateDeploymentJobs>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\BvtNetAutomation\DeployBvtNet\PathConfig.xml ===
ï»¿<?xml version="1.0" encoding="utf-8" ?>
<LookingAllPaths>
	<PathOfBulds>
		<PathOfLatest pathName="\\TstTLslnfrDep001\Builds\Latest.TST" />
		<PathOfBvtNet pathName="\\TstTLslnfrDep001\Builds\BVTNet.Current" />
		<PathOfLatestEms pathName="\\TstTLslnfrDep001\Builds\Latest.TST\ems" />
		<PathOfBvtNetEms pathName="\\TstTLslnfrDep001\Builds\BVTNet.Current\ems" />
		<PathToConfigEms pathName="\\TstTLslnfrDep001\Builds\BVTNet.Current\Esp\Configuration\Bvtnet" />
		<PathToConfigBvtNet pathName="\\TstTLslnfrDep001\Builds\BVTNet.Current\Esp\Configuration\Bvtnet"/>
	</PathOfBulds>
</LookingAllPaths>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\HealthCheckVerifier\SampleConfig.xml ===
ï»¿<?xml version="1.0" encoding="utf-8" ?>
<ExpexctedHealthResultReport>
	<ExpectedHealthCheckResult Url="" HealthStatus="">
		<ExpectedHealthReport Name="" HealthStatus=""></ExpectedHealthReport>
		<ExpectedHealthReport Name="" HealthStatus=""></ExpectedHealthReport>
		<ExpectedHealthReport Name="" HealthStatus=""></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="" HealthStatus="">
		<ExpectedHealthReport Name="" HealthStatus=""></ExpectedHealthReport>
		<ExpectedHealthReport Name="" HealthStatus=""></ExpectedHealthReport>
		<ExpectedHealthReport Name="" HealthStatus=""></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="" HealthStatus="">
		<ExpectedHealthReport Name="" HealthStatus=""></ExpectedHealthReport>
		<ExpectedHealthReport Name="" HealthStatus=""></ExpectedHealthReport>
		<ExpectedHealthReport Name="" HealthStatus=""></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<BlockedHealthCheck>
		<BlockedHealthCheckUrl	Url="" ></BlockedHealthCheckUrl>
		<BlockedHealthCheckUrl	Url="" ></BlockedHealthCheckUrl>
		<BlockedHealthCheckUrl	Url="" ></BlockedHealthCheckUrl>
	</BlockedHealthCheck>
</ExpexctedHealthResultReport>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\TitlePropPro\TitlePropPro\objd\i386\TitlePropPro.csproj.FileListAbsolute.txt ===
j:\xonline_main\target\Debug\i386\TitlePropPro\TitlePropPro.dll
j:\xonline_main\target\Debug\i386\TitlePropPro\TitlePropPro.pdb
j:\xonline_main\private\test\deployment\titleproppro\TitlePropPro\objd\i386\ResolveAssemblyReference.cache
j:\xonline_main\private\test\deployment\titleproppro\TitlePropPro\objd\i386\TitlePropPro.dll
j:\xonline_main\private\test\deployment\titleproppro\TitlePropPro\objd\i386\TitlePropPro.pdb
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\TitlePropPro\TitlePropPro\TPPSettings.xml ===
ï»¿<?xml version="1.0" encoding="utf-8" ?>
<TitlePropProConfig>
    <Threads>10</Threads>
    <ToolsTimeoutSeconds>-1</ToolsTimeoutSeconds>
    <LiveToolsLocation>D:\Webroot\XblTools</LiveToolsLocation>
    <Environments>
        <Environment Name="BVTNet">
            <TitleSource>\\HxInfdepinh001\TitleSource\TestTitles</TitleSource>
            <Manifest>\\HxInfdepinh001\TitleSource\TestTitles\TitleManifest.xml</Manifest>
            <LogLocation>\\HxInfdepinh001\Logs\BVTNet\TitlePropLogs</LogLocation>
            <LBSvr>BVTPoolINH001</LBSvr>
            <MatchSvr>BVTXAllSQL001</MatchSvr>
        </Environment>
        <Environment Name="CoreNet">
            <TitleSource>\\VXeInfrSTG002\Builds\TitleVault\TestTitles</TitleSource>
            <Manifest>\\VXeInfrSTG002\Builds\TitleVault\TestTitles\TitleManifest.xml</Manifest>
            <LogLocation>\\VXeInfrSTG002\Logs\CoreNet\TitlePropLogs</LogLocation>
            <LBSvr>VXePoolINH002</LBSvr>
            <MatchSvr>VXeXAllSQL001</MatchSvr>
        </Environment>
        <Environment Name="TestNet">
            <TitleSource>\\TstInfDepINH001\TitleSource\TestTitles</TitleSource>
            <Manifest>\\TstInfDepINH001\TitleSource\TestTitles\TitleManifest.xml</Manifest>
            <LogLocation>\\TstInfDepINH001\Logs\TestNet\TitlePropLogs</LogLocation>
            <LBSvr>TxxBlPoolINH002</LBSvr>
            <MatchSvr>TxxBlxAllSQL003</MatchSvr>
        </Environment>
        <Environment Name="StressNet">
            <TitleSource>\\TstInfDepINH001\TitleSource\TestTitles</TitleSource>
            <Manifest>\\TstInfDepINH001\TitleSource\TestTitles\TitleManifest.xml</Manifest>
            <LogLocation>\\TstInfDepINH001\Logs\StressNet\TitlePropLogs</LogLocation>
            <LBSvr>S1XblStatINH001</LBSvr>
            <MatchSvr>S1XblMtchSQL001</MatchSvr>
        </Environment>
        <Environment Name="StressNet2">
            <TitleSource>\\TstLsInfrDep001\Stockholm-TS\TestTitles</TitleSource>
            <Manifest>\\TstLsInfrDEP001\Stockholm-TS\TestTitles\TitleManifest.xml</Manifest>
            <LogLocation>\\TstLsInfrDep001\Octopus\Logs\StressNet2\TitlePropLogs</LogLocation>
            <LBSvr>St2LsStatINH001</LBSvr>
            <MatchSvr>St2LsMtchSQL001</MatchSvr>
        </Environment>
        <Environment Name="Int2">
            <TitleSource>\\I2InfDeplINH001\TitleVault\TitleSource\TestTitles</TitleSource>
            <Manifest>\\I2InfDeplINH001\TitleVault\TitleSource\TestTitles\TitleManifest.xml</Manifest>
            <LogLocation>\\It2LsInfrSTG001\e$\drop\logs</LogLocation>
            <LBSvr>I2XblPoolINH001</LBSvr>
            <MatchSvr>I2XblXAllSQL001</MatchSvr>
        </Environment>
        <Environment Name="XBLOB">
            <TitleSource>\\##XBLOB##\TitleSource\TestTitles</TitleSource>
            <Manifest>\\##XBLOB##\TitleSource\TestTitles\TitleManifest.xml</Manifest>
            <LogLocation>\\##XBLOB##\TPPLogs</LogLocation>
            <LBSvr>##XBLOB##</LBSvr>
            <MatchSvr>##XBLOB##</MatchSvr>
        </Environment>
        <Environment Name="XBLOB_LKG">
            <TitleSource>\\HxInfDepINH001\TitleSource\TestTitles</TitleSource>
            <Manifest>\\HxInfDepINH001\TitleSource\TestTitles\TitleManifest.xml</Manifest>
            <LogLocation>\\HxInfDepINH001\Logs\XBLOB_LKG\TitlePropLogs</LogLocation>
            <LBSvr>##XBLOB##</LBSvr>
            <MatchSvr>##XBLOB##</MatchSvr>
        </Environment>
    </Environments>
</TitlePropProConfig>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\TitlePropPro\TPP\objd\i386\TPP.csproj.FileListAbsolute.txt ===
j:\xonline_main\target\Debug\i386\TPP\TPP.exe
j:\xonline_main\target\Debug\i386\TPP\TPP.pdb
j:\xonline_main\private\test\deployment\titleproppro\TPP\objd\i386\ResolveAssemblyReference.cache
j:\xonline_main\private\test\deployment\titleproppro\TPP\objd\i386\TPP.exe
j:\xonline_main\private\test\deployment\titleproppro\TPP\objd\i386\TPP.pdb
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\bvt.xml ===
<DeploymentInstance deploymentShareLocation="\\emzephir-pc\c$\vault\ESP BVT" logsLocation="\\emzephir-pc\c$\BVTLogs" topologyName="BVT Testing Topology" releaseName="Spring 08" engineVersion="4.4.2113.0000" deploymentAccount="REDMOND\emzephir" controllerMachine="EMZEPHIR-PC">
  <Server name="EMZEPHIRXBL001">
    <PublishedComponentName name="All Servers" />
  </Server>
  <Server name="EMZEPHIR-PC">
    <PublishedComponentName name="Octopus Controller" />
  </Server>
  <ComponentConfiguration name="&lt;service level properties&gt;">
    <PropertyValue name="XBLOB_HOSTNAME_GLOBAL" source="Custom" value="EMZEPHIRXBL001" />
    <PropertyValue name="TITLEVAULT_PATH_GLOBAL" source="Custom" value="C:\esp\titlevault\" />
  </ComponentConfiguration>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\prexb001.xml ===
<DeploymentInstance deploymentShareLocation="\\edge-svcs\Release\XONLINE\main\Latest.tst\retail\msi\xblobprep" logsLocation="\\emzephir-pc\c$\Logs\XblobPrep" topologyName="One Time XBLOB preinstall prep" releaseName="Spring 08" engineVersion="4.4.2113.0000" deploymentAccount="REDMOND\emzephir" controllerMachine="EMZEPHIR-PC">
  <Server name="EMZEPHIRXBL001">
    <PublishedComponentName name="All Xblob Preinstall Components" />
  </Server>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\servicesxb001.xml ===
<DeploymentInstance deploymentShareLocation="\\emzephir-pc\c$\Vault\Automation Prep" logsLocation="\\emzephir-pc\c$\BVTLogs" topologyName="BVT Testing Topology" releaseName="Spring 08" engineVersion="4.4.2113.0000" deploymentAccount="REDMOND\emzephir" controllerMachine="EMZEPHIR-PC">
  <Server name="EMZEPHIRXBL001">
	  <PublishedComponentName name="SQLServerAgent" />
	  <PublishedComponentName name="WstAgent" />
  </Server>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\Automation Prep\service.xml ===
<?xml version="1.0" encoding="UTF-8"?>
<service name="ESP BVT Automation Preparation" release="Spring 08">
  <topologies>
    <topology name="BVT Testing Topology">
		<role name="WstAgent" servers="select" minServers="0" maxServers="10" />
		<role name="SQLServerAgent" servers="select" minServers="0" maxServers="10" />
		<!--role name="Octopus Controller" servers="select" minServers="1" maxServers="1" /-->
    </topology>
  </topologies>
  <components>
    <component name="All Servers">
      <aggregateComponent name="WstAgent" />
      <aggregateComponent name="SQLServerAgent"/>
    </component>
    <component name="Octopus Controller">
      <!--aggregateComponent name="InstallCycle" /-->
    </component>

    <component name="WstAgent">
        <installCommand name="start-wstagent" cmd='sc start WstAgent'/>
    </component>  
   
    <component name="SQLServerAgent">
      <installCommand name="start-sqlserveragent" cmd='sc start SQLServerAgent'/>
    </component>
   
  </components>
</service>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\BvtNet\prexb001.xml ===
<DeploymentInstance deploymentShareLocation="\\xetempsql001\Builds\Latest.TST\xblobprep" logsLocation="\\xetempsql001\Logs\BvtNet" topologyName="One Time XBLOB preinstall prep" releaseName="Summer 08" engineVersion="4.4.2113.0000" deploymentAccount="TEST\octopus" controllerMachine="XETEMPSQL001">
  <Server name="BXSECUINH001">
    <PublishedComponentName name="All Xblob Preinstall Components" />
  </Server>
  <ComponentConfiguration name="&lt;service level properties&gt;">
    <PropertyValue name="SERVICE_DOMAINNAME_GLOBAL" source="Custom" value="test" />
    <PropertyValue name="SERVICE_USER_ACCOUNT_GLOBAL" source="Custom" value="bvt_uodb_user" />
  </ComponentConfiguration>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\BvtNet\servicesxb001.xml ===
<DeploymentInstance deploymentShareLocation="\\xetempsql001\Builds\Automation Prep" logsLocation="\\xetempsql001\OctopusAutomation\Logs\BvtNet" topologyName="BVT Testing Topology" releaseName="Spring 08" engineVersion="4.4.2113.0000" deploymentAccount="TEST\octopus" controllerMachine="XETEMPSQL001">
  <Server name="BXPOOLIIS001">
    <PublishedComponentName name="WstAgent" />
  </Server>
  <Server name="BXSECUINH001">
    <PublishedComponentName name="WstAgent" />
  </Server>
  <Server name="BXXALLSQL002">
    <PublishedComponentName name="SQLServerAgent" />
    <PublishedComponentName name="WstAgent" />
  </Server>
  <Server name="BXPOOLINH001">
    <PublishedComponentName name="WstAgent" />
  </Server>
  <Server name="BXINFRTLS001">
    <PublishedComponentName name="WstAgent" />
  </Server>
  <Server name="BXXALLSQL001">
    <PublishedComponentName name="SQLServerAgent" />
    <PublishedComponentName name="WstAgent" />
  </Server>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\CoreNet\bvt001.xml ===
<DeploymentInstance deploymentShareLocation="\\vxeinfrstg001\Builds\ESP BVT" logsLocation="\\vxeinfrstg001\OctopusLogs\BVTLogs" topologyName="BVT Testing Topology" releaseName="Summer 08" engineVersion="4.4.2113.0000" deploymentAccount="CORENET\trevorm" controllerMachine="VXEINFRSTG001">
  <Server name="VXEINFRTLS001">
    <PublishedComponentName name="All Servers" />
    <PublishedComponentName name="Title Propping" />
  </Server>
  <Server name="VXEINFRSTG001">
    <PublishedComponentName name="Run HealthChecks" />
    <PublishedComponentName name="Run Live BVTs" />
  </Server>
  <ComponentConfiguration name="&lt;service level properties&gt;">
    <PropertyValue name="ROOT_PATH_GLOBAL" source="Custom" value="D:\" />
    <PropertyValue name="XBLTOOLS_PATH_GLOBAL" source="Custom" value="D:\Webroot\xbltools" />
    <PropertyValue name="LBSVR_HOSTNAME_GLOBAL" source="Custom" value="VXEPOOLINH001" />
    <PropertyValue name="MATCH_HOSTNAME_GLOBAL" source="Custom" value="VXENPDBSQL001" />
    <PropertyValue name="XMGMT_PATH_GLOBAL" source="Custom" value="D:\Webroot\xmgmtsrv" />
    <PropertyValue name="ENVIRONMENT_GLOBAL" source="Custom" value="corenet" />
    <PropertyValue name="FDSERVER_HOSTNAME_GLOBAL" source="Custom" value="VXEPOOLIIS001" />
    <PropertyValue name="STF_LOCATION_GLOBAL" source="Custom" value="\\vxeinfrstg001\Builds\ESP BVT\StfTests" />
    <PropertyValue name="SYSTEMCHECK_THREADS_GLOBAL" source="Custom" value="3" />
  </ComponentConfiguration>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\BvtNet\bvt001.xml ===
<DeploymentInstance deploymentShareLocation="\\xetempsql001\Builds\ESP BVT" logsLocation="\\xetempsql001\Logs\BvtNet" topologyName="BVT Testing Topology" releaseName="Summer 08" engineVersion="4.4.2113.0000" deploymentAccount="TEST\octopus" controllerMachine="XETEMPSQL001">
  <Server name="BXINFRTLS001">
    <PublishedComponentName name="Title Propping" />
  </Server>
  <Server name="XETEMPSQL001">
    <PublishedComponentName name="Run HealthChecks" />
    <PublishedComponentName name="Run Live BVTs" />
  </Server>
  <ComponentConfiguration name="&lt;service level properties&gt;">
    <PropertyValue name="ROOT_PATH_GLOBAL" source="Custom" value="D:\" />
    <PropertyValue name="XBLTOOLS_PATH_GLOBAL" source="Custom" value="D:\Webroot\xbltools" />
    <PropertyValue name="LBSVR_HOSTNAME_GLOBAL" source="Custom" value="bxpoolinh001" />
    <PropertyValue name="MATCH_HOSTNAME_GLOBAL" source="Custom" value="bxxallsql001" />
    <PropertyValue name="XMGMT_PATH_GLOBAL" source="Custom" value="D:\Webroot\xmgmtsrv" />
    <PropertyValue name="ENVIRONMENT_GLOBAL" source="Custom" value="bvtnet" />
    <PropertyValue name="FDSERVER_HOSTNAME_GLOBAL" source="Custom" value="bxpooliis001" />
    <PropertyValue name="SYSTEMCHECK_THREADS_GLOBAL" source="Custom" value="3" />
    <PropertyValue name="STF_LOCATION_GLOBAL" source="Custom" value="\\xetempsql001\Builds\Latest.TST\StfTests" />
  </ComponentConfiguration>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\CoreNetHealthURLsFull.txt ===
http://vxeinfrtls002:12000/wctoolsmgmt/health.ashx
http://vxepooliis002:12010/ContentIngestion/health.ashx
http://vxepooliis002:11210/cron/health.ashx
http://vxepooliis002:10080/fbserver/health.ashx
http://vxepooliis002:11080/fbserver/health.ashx
http://vxepooliis002:11100/Lists/health.ashx
http://vxepooliis002:13020/livecache/health.ashx
http://vxepooliis002:11250/liveinfo/health.ashx
http://vxepooliis002:12000/LiveProxy/health.ashx
http://vxepooliis002:10130/lsp/health.ashx
http://vxepooliis002:11130/lsp/health.ashx
http://vxepooliis002:10270/Ratings/health.ashx
http://vxepooliis002:11270/Ratings/health.ashx
http://vxepooliis002:10140/stfd/health.ashx
http://vxepooliis002:10150/stfd/health.ashx
http://vxepooliis002:11140/stfd/health.ashx
http://vxepooliis002:11150/stfd/health.ashx
http://vxepooliis002:10020/msgserver/health.ashx
http://vxepooliis002:11020/msgserver/health.ashx
http://vxepooliis002:4541/svctunnel/health.ashx
http://vxepooliis002:12000/debugtest/health.ashx
http://vxepooliis002:12000/GeneralInfo/health.ashx
http://vxepooliis002:12000/Messaging/health.ashx
http://vxepooliis002:12000/music/health.ashx
http://vxepooliis002:12000/Presence/health.ashx
http://vxepooliis002:12000/profile/health.ashx
http://vxepooliis002:12000/Query/health.ashx
http://vxepooliis002:12000/Signature/health.ashx
http://vxepooliis002:12000/Stats/health.ashx
http://vxepooliis002:12000/Storage/health.ashx
http://vxepooliis002:12000/Teams/health.ashx
http://vxepooliis002:12000/UserAccount/health.ashx
http://vxepooliis002:10160/xarb/health.ashx
http://vxepooliis002:11160/xarb/health.ashx
http://vxepooliis002:10030/xbos/health.ashx
http://vxepooliis002:10040/xbos/health.ashx
http://vxepooliis002:10090/xbos/health.ashx
http://vxepooliis002:10200/xbos/health.ashx
http://vxepooliis002:11090/xbos/health.ashx
http://vxepooliis002:11200/xbos/health.ashx
http://vxepooliis002:11240/xcrypto/health.ashx
http://vxepooliis002:10060/xmatch/health.ashx
http://vxepooliis002:11060/xmatch/health.ashx
http://vxepooliis002:10010/xpnfront/health.ashx
http://vxepooliis002:10180/xpnfront/health.ashx
http://vxepooliis002:10190/xpnfront/health.ashx
http://vxepooliis002:11010/xpnfront/health.ashx
http://vxepooliis002:11180/xpnfront/health.ashx
http://vxepooliis002:11190/xpnfront/health.ashx
http://vxepooliis002:10130/xqry/health.ashx
http://vxepooliis002:11130/xqry/health.ashx
http://vxepooliis002:10120/xsig/health.ashx
http://vxepooliis002:11120/xsig/health.ashx
http://vxepooliis002:10070/xstats/health.ashx
http://vxepooliis002:11070/xstats/health.ashx
http://vxepooliis002:13010/xsuppapi/health.ashx
http://vxepooliis002:10050/xuacs/health.ashx
http://vxepooliis002:11050/xuacs/health.ashx
http://vxepoolinh002:11000/lbsvr/health.ashx
http://vxepoolinh002:14160/xarbinh/health.ashx
http://vxepoolinh002:11000/xbanc/health.ashx
http://vxepoolinh002:11000/xcache/health.ashx
http://vxepoolinh002:11000/XConnSrv/health.ashx
http://vxexmacsinh002:13110/health.ashx
http://vxexmacsinh002:11220/catalog/health.ashx
http://vxexmacsinh002:11000/kdcsvc/health.ashx
http://vxexmacsinh002:11000/sgsvc/health.ashx
http://vxexmacsinh002:11000/xds/health.ashx
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\CoreNetHealthURLs.txt ===
http://vxeinfrtls002:12000/wctoolsmgmt/health.ashx
http://vxepooliis002:12010/contentIngestion/health.ashx
http://vxepooliis002:11210/cron/health.ashx
http://vxepooliis002:11080/fbserver/health.ashx
http://vxepooliis002:11100/Lists/health.ashx
http://vxepooliis002:13020/livecache/health.ashx
http://vxepooliis002:11250/liveinfo/health.ashx
http://vxepooliis002:12000/LiveProxy/health.ashx
http://vxepooliis002:11130/lsp/health.ashx
http://vxepooliis002:11270/Ratings/health.ashx
http://vxepooliis002:11140/stfd/health.ashx
http://vxepooliis002:11150/stfd/health.ashx
http://vxepooliis002:11020/msgserver/health.ashx
http://vxepooliis002:4541/svctunnel/health.ashx
http://vxepooliis002:12000/debugtest/health.ashx
http://vxepooliis002:12000/GeneralInfo/health.ashx
http://vxepooliis002:12000/Messaging/health.ashx
http://vxepooliis002:12000/music/health.ashx
http://vxepooliis002:12000/Presence/health.ashx
http://vxepooliis002:12000/profile/health.ashx
http://vxepooliis002:12000/Query/health.ashx
http://vxepooliis002:12000/Signature/health.ashx
http://vxepooliis002:12000/Stats/health.ashx
http://vxepooliis002:12000/Storage/health.ashx
http://vxepooliis002:12000/Teams/health.ashx
http://vxepooliis002:12000/UserAccount/health.ashx
http://vxepooliis002:11160/xarb/health.ashx
http://vxepooliis002:11090/xbos/health.ashx
http://vxepooliis002:11200/xbos/health.ashx
http://vxepooliis002:11240/xcrypto/health.ashx
http://vxepooliis002:11060/xmatch/health.ashx
http://vxepooliis002:11010/xpnfront/health.ashx
http://vxepooliis002:11180/xpnfront/health.ashx
http://vxepooliis002:11190/xpnfront/health.ashx
http://vxepooliis002:11130/xqry/health.ashx
http://vxepooliis002:11120/xsig/health.ashx
http://vxepooliis002:11070/xstats/health.ashx
http://vxepooliis002:13010/xsuppapi/health.ashx
http://vxepooliis002:11050/xuacs/health.ashx
http://vxepoolinh002:11000/lbsvr/health.ashx
http://vxepoolinh002:14160/xarbinh/health.ashx
http://vxepoolinh002:11000/xbanc/health.ashx
http://vxepoolinh002:11000/xcache/health.ashx
http://vxepoolinh002:11000/XConnSrv/health.ashx
http://vxexmacsinh002:13110/health.ashx
http://vxexmacsinh002:11220/catalog/health.ashx
http://vxexmacsinh002:11000/kdcsvc/health.ashx
http://vxexmacsinh002:11000/sgsvc/health.ashx
http://vxexmacsinh002:11000/xds/health.ashx
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\CoreNet\servicesint2001.xml ===
<DeploymentInstance deploymentShareLocation="\\vxeinfrstg001\Builds\Automation Prep" logsLocation="\\vxeinfrstg001\Octopus\AutomationLogs" topologyName="BVT Testing Topology" releaseName="Summer 08" engineVersion="4.4.2113.0000" deploymentAccount="CORENET\trevorm" controllerMachine="VXEINFRSTG001">
  <Server name="It2LsEspxSQL001">
    <PublishedComponentName name="SQLServerAgent" />
    <PublishedComponentName name="WstAgent" />
  </Server>
  <Server name="It2LsEspxSQL002">
    <PublishedComponentName name="SQLServerAgent" />
    <PublishedComponentName name="WstAgent" />
  </Server>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\CoreNet\int2001.xml ===
<DeploymentInstance deploymentShareLocation="\\vxeinfrstg001\Builds\latest.tst\esp" logsLocation="\\vxeinfrstg001\OctopusLogs\Int2" topologyName="Expanded - Ops" releaseName="Summer 08" engineVersion="4.4.2113.0000" deploymentAccount="CORENET\trevorm" controllerMachine="VXEINFRSTG001">
  <Server name="IT2LSESPXSQL002">
    <PublishedComponentName name="PreRequisites-SQL" />
  </Server>
  <Server name="IT2LSESPXSQL001">
    <PublishedComponentName name="Configure Logging" />
    <PublishedComponentName name="FilterDB Database" />
    <PublishedComponentName name="genealogy" />
    <PublishedComponentName name="genealogy_upgrade" />
    <PublishedComponentName name="msgdb" />
    <PublishedComponentName name="NPDB Server" />
    <PublishedComponentName name="PreRequisites-SQL" />
    <PublishedComponentName name="ProductDB Database" />
    <PublishedComponentName name="querydb" />
    <PublishedComponentName name="storedb" />
    <PublishedComponentName name="titledb" />
    <PublishedComponentName name="toolsdb" />
    <PublishedComponentName name="tteamdb" />
    <PublishedComponentName name="tuserdb" />
    <PublishedComponentName name="UODB Server" />
    <PublishedComponentName name="WebDB Database" />
    <PublishedComponentName name="XMatch Database" />
    <PublishedComponentName name="msgdb Database" />
    <PublishedComponentName name="storedb Database" />
    <PublishedComponentName name="titledb Database" />
    <PublishedComponentName name="tteamdb Database" />
    <PublishedComponentName name="tuserdb Database" />
    <PublishedComponentName name="avatardb_prodbase" />
    <PublishedComponentName name="avatardb_upgrade" />
    <PublishedComponentName name="msgdb_prodbase" />
    <PublishedComponentName name="msgdb_upgrade" />
    <PublishedComponentName name="NPDB Prodbase" />
    <PublishedComponentName name="NPDB Upgrade" />
    <PublishedComponentName name="productdb_prodbase" />
    <PublishedComponentName name="productdb_upgrade" />
    <PublishedComponentName name="storedb_prodbase" />
    <PublishedComponentName name="storedb_upgrade" />
    <PublishedComponentName name="titledb_prodbase" />
    <PublishedComponentName name="titledb_upgrade" />
    <PublishedComponentName name="tteamdb_prodbase" />
    <PublishedComponentName name="tteamdb_upgrade" />
    <PublishedComponentName name="tuserdb_prodbase" />
    <PublishedComponentName name="tuserdb_upgrade" />
    <PublishedComponentName name="webdb_prodbase" />
    <PublishedComponentName name="webdb_upgrade" />
    <PublishedComponentName name="xmatch_prodbase" />
    <PublishedComponentName name="xmatch_upgrade" />
    <PublishedComponentName name="uodb_prodbase" />
    <PublishedComponentName name="uodb_upgrade" />
  </Server>
  <ComponentConfiguration name="&lt;service level properties&gt;">
    <PropertyValue name="ENVIRONMENT_GLOBAL" source="Custom" value="int2" />
    <PropertyValue name="SERVICE_USER_FQDN_GLOBAL" source="Custom" value="CORENET\uodb_user" />
    <PropertyValue name="WEBROOT_DIR_GLOBAL" source="Custom" value="D:\Webroot" />
    <PropertyValue name="LOGROOT_DIR_GLOBAL" source="Custom" value="D:\Logroot" />
    <PropertyValue name="WST_DATAFILE_PATH_GLOBAL" source="Custom" value="H:\MSSQL" />
    <PropertyValue name="WST_LOGFILE_PATH_GLOBAL" source="Custom" value="O:\MSSQL" />
    <PropertyValue name="SERVICE_ADMIN_FQDN_GLOBAL" source="Custom" value="CORENET\wst_admin" />
  </ComponentConfiguration>
  <ComponentConfiguration name="&lt;topology level properties&gt;">
    <PropertyValue name="NPDB_SVR_GLOBAL" source="Custom" value="It2LsEspxSQL001" />
    <PropertyValue name="WST_DEPLOY_ENABLED_GLOBAL" source="Custom" value="1" />
  </ComponentConfiguration>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\CoreNet\servicestn001.xml ===
<DeploymentInstance deploymentShareLocation="\\vxeinfrstg001\Builds\Automation Prep" logsLocation="\\vxeinfrstg001\Octopus\AutomationLogs" topologyName="BVT Testing Topology" releaseName="Summer 08" engineVersion="4.4.2113.0000" deploymentAccount="CORENET\trevorm" controllerMachine="VXEINFRSTG001">
  <Server name="FXXALLSQL002">
    <PublishedComponentName name="SQLServerAgent" />
    <PublishedComponentName name="WstAgent" />
  </Server>
  <Server name="FXXALLSQL001">
    <PublishedComponentName name="SQLServerAgent" />
    <PublishedComponentName name="WstAgent" />
  </Server>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\CoreNet\prexb001.xml ===
<DeploymentInstance deploymentShareLocation="\\vxeinfrstg001\Builds\latest.tst\xblobprep" logsLocation="\\vxeinfrstg001\Octopus\AutomationLogs" topologyName="One Time XBLOB preinstall prep" releaseName="Summer 08" engineVersion="4.4.2113.0000" deploymentAccount="CORENET\trevorm" controllerMachine="VXEINFRSTG001">
  <Server name="VXEPOOLIIS001">
    <PublishedComponentName name="All Xblob Preinstall Components" />
  </Server>
  <Server name="VXEXMACSINH001">
    <PublishedComponentName name="All Xblob Preinstall Components" />
  </Server>
  <Server name="VXEPOOLINH001">
    <PublishedComponentName name="All Xblob Preinstall Components" />
  </Server>
  <ComponentConfiguration name="&lt;service level properties&gt;">
    <PropertyValue name="SERVICE_DOMAINNAME_GLOBAL" source="Custom" value="CORENET" />
    <PropertyValue name="SERVICE_USER_ACCOUNT_GLOBAL" source="Custom" value="uodb_user" />
  </ComponentConfiguration>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\CoreNet\servicessn2001.xml ===
<DeploymentInstance deploymentShareLocation="\\vxeinfrstg001\Builds\Automation Prep" logsLocation="\\vxeinfrstg001\Octopus\AutomationLogs" topologyName="BVT Testing Topology" releaseName="Summer 08" engineVersion="4.4.2113.0000" deploymentAccount="CORENET\trevorm" controllerMachine="VXEINFRSTG001">
  <Server name="St2LsNPDBSQL001">
    <PublishedComponentName name="SQLServerAgent" />
    <PublishedComponentName name="WstAgent" />
  </Server>
  <Server name="St2LsNPDBSQL002">
    <PublishedComponentName name="SQLServerAgent" />
    <PublishedComponentName name="WstAgent" />
  </Server>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\CoreNet\HealthCheckConfig.xml ===
ï»¿<?xml version="1.0" encoding="utf-8" ?>
<ExpexctedHealthResultReport>
	<ExpectedHealthCheckResult Url="http://vxexmacsinh001:11220/catalog/health.ashx?stylesheet=no" HealthStatus="Red">
		<ExpectedHealthReport Name="CatalogInfo" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="DatabaseInfo" HealthStatus="Red"></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="http://vxepooliis001:10030/xbos/health.ashx?stylesheet=no" HealthStatus="Red">
		<ExpectedHealthReport Name="DmpTransaction" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="FrontEndAppHealth" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="MusicnetEcommerceB2B" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="PassportIdSapi" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="ScsApiWebService" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="Ups" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="DatabaseInfo" HealthStatus="Red"></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="http://vxepooliis001:10040/xbos/health.ashx?stylesheet=no" HealthStatus="Red">
		<ExpectedHealthReport Name="DmpTransaction" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="FrontEndAppHealth" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="MusicnetEcommerceB2B" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="PassportIdSapi" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="ScsApiWebService" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="Ups" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="DatabaseInfo" HealthStatus="Red"></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="http://vxepooliis001:10090/xbos/health.ashx?stylesheet=no" HealthStatus="Red">
		<ExpectedHealthReport Name="DmpTransaction" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="FrontEndAppHealth" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="MusicnetEcommerceB2B" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="PassportIdSapi" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="ScsApiWebService" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="Ups" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="DatabaseInfo" HealthStatus="Red"></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="http://vxepooliis001:10200/xbos/health.ashx?stylesheet=no" HealthStatus="Red">
		<ExpectedHealthReport Name="DmpTransaction" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="FrontEndAppHealth" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="MusicnetEcommerceB2B" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="PassportIdSapi" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="ScsApiWebService" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="Ups" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="DatabaseInfo" HealthStatus="Red"></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="http://vxepooliis001:11090/xbos/health.ashx?stylesheet=no" HealthStatus="Red">
		<ExpectedHealthReport Name="DmpTransaction" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="FrontEndAppHealth" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="MusicnetEcommerceB2B" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="PassportIdSapi" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="ScsApiWebService" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="Ups" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="DatabaseInfo" HealthStatus="Red"></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="http://vxepooliis001:11200/xbos/health.ashx?stylesheet=no" HealthStatus="Red">
		<ExpectedHealthReport Name="DmpTransaction" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="FrontEndAppHealth" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="MusicnetEcommerceB2B" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="PassportIdSapi" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="ScsApiWebService" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="Ups" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="DatabaseInfo" HealthStatus="Red"></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="http://vxepooliis001:10060/xmatch/health.ashx?stylesheet=no" HealthStatus="Yellow">
		<ExpectedHealthReport Name="MatchSession" HealthStatus="Red"></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="http://vxepooliis001:11060/xmatch/health.ashx?stylesheet=no" HealthStatus="Yellow">
		<ExpectedHealthReport Name="MatchSession" HealthStatus="Red"></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="http://vxepooliis001:10120/xsig/health.ashx?stylesheet=no" HealthStatus="Red">
		<ExpectedHealthReport Name="XsigWmrmHealthCheck" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="Geofence" HealthStatus="Red"></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="http://vxepooliis001:11120/xsig/health.ashx?stylesheet=no" HealthStatus="Red">
		<ExpectedHealthReport Name="XsigWmrmHealthCheck" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="Geofence" HealthStatus="Red"></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="http://vxepooliis001:10050/xuacs/health.ashx?stylesheet=no" HealthStatus="Red">
		<ExpectedHealthReport Name="CertInfo" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="DmpTransaction" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="FrontEndAppHealth" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="MusicnetEcommerceB2B" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="PassportIdSapi" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="ScsApiWebService" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="ServiceKey" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="Ups" HealthStatus="Yellow"></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<ExpectedHealthCheckResult Url="http://vxepooliis001:11050/xuacs/health.ashx?stylesheet=no" HealthStatus="Red">
		<ExpectedHealthReport Name="CertInfo" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="DmpTransaction" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="FrontEndAppHealth" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="MusicnetEcommerceB2B" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="PassportIdSapi" HealthStatus="Yellow"></ExpectedHealthReport>
		<ExpectedHealthReport Name="ScsApiWebService" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="ServiceKey" HealthStatus="Red"></ExpectedHealthReport>
		<ExpectedHealthReport Name="Ups" HealthStatus="Yellow"></ExpectedHealthReport>
	</ExpectedHealthCheckResult>
	<BlockedHealthCheck>
		<BlockedHealthCheckUrl	Url="http://vxepooliis001:10180/xpnfront/health.ashx?stylesheet=no" ></BlockedHealthCheckUrl>
		<BlockedHealthCheckUrl	Url="http://vxepooliis001:10190/xpnfront/health.ashx?stylesheet=no" ></BlockedHealthCheckUrl>
		<BlockedHealthCheckUrl	Url="http://vxepooliis001:11180/xpnfront/health.ashx?stylesheet=no" ></BlockedHealthCheckUrl>
		<BlockedHealthCheckUrl	Url="http://vxepooliis001:11190/xpnfront/health.ashx?stylesheet=no" ></BlockedHealthCheckUrl>
	</BlockedHealthCheck>
</ExpexctedHealthResultReport>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\TestNetHealthURLs.txt ===
http://txxblsecuinh002:13110/health.ashx
http://txxblsecuinh002:11220/catalog/health.ashx
http://txxblsecuinh002:11000/kdcsvc/health.ashx
http://txxblsecuinh002:11000/sgsvc/health.ashx
http://txxblpooliis002:12010/ContentIngestion/health.ashx
http://txxblpooliis002:11210/cron/health.ashx
http://txxblpooliis002:10080/fbserver/health.ashx
http://txxblpooliis002:11080/fbserver/health.ashx
http://txxblpooliis002:12000/GeneralInfo/health.ashx
http://txxblpooliis002:13020/livecache/health.ashx
http://txxblpooliis002:12000/LiveProxy/health.ashx
http://txxblpooliis002:11100/Lists/health.ashx
http://txxblpooliis002:10130/lsp/health.ashx
http://txxblpooliis002:11130/lsp/health.ashx
http://txxblpooliis002:12000/Messaging/health.ashx
http://txxblpooliis002:10020/msgserver/health.ashx
http://txxblpooliis002:11020/msgserver/health.ashx
http://txxblpooliis002:12000/music/health.ashx
http://txxblpooliis002:12000/Presence/health.ashx
http://txxblpooliis002:12000/profile/health.ashx
http://txxblpooliis002:12000/Query/health.ashx
http://txxblpooliis002:12000/Signature/health.ashx
http://txxblpooliis002:12000/Stats/health.ashx
http://txxblpooliis002:10140/stfd/health.ashx
http://txxblpooliis002:10150/stfd/health.ashx
http://txxblpooliis002:11140/stfd/health.ashx
http://txxblpooliis002:11150/stfd/health.ashx
http://txxblpooliis002:12000/Storage/health.ashx
http://txxblpooliis002:4541/svctunnel/health.ashx
http://txxblpooliis002:12000/Teams/health.ashx
http://txxblpooliis002:12000/UserAccount/health.ashx
http://txxblinfrtls001:12000/wctoolsmgmt/health.ashx
http://txxblpooliis002:10160/xarb/health.ashx
http://txxblpooliis002:11160/xarb/health.ashx
http://txxblpoolinh002:14160/xarbinh/health.ashx
http://txxblpooliis002:10030/xbos/health.ashx
http://txxblpooliis002:10040/xbos/health.ashx
http://txxblpooliis002:10090/xbos/health.ashx
http://txxblpooliis002:10200/xbos/health.ashx
http://txxblpooliis002:11090/xbos/health.ashx
http://txxblpooliis002:11200/xbos/health.ashx
http://txxblpooliis002:11240/xcrypto/health.ashx
http://txxblpooliis002:10060/xmatch/health.ashx
http://txxblpooliis002:11060/xmatch/health.ashx
http://txxblpooliis002:10010/xpnfront/health.ashx
http://txxblpooliis002:10180/xpnfront/health.ashx
http://txxblpooliis002:10190/xpnfront/health.ashx
http://txxblpooliis002:11010/xpnfront/health.ashx
http://txxblpooliis002:11180/xpnfront/health.ashx
http://txxblpooliis002:11190/xpnfront/health.ashx
http://txxblpooliis002:10130/xqry/health.ashx
http://txxblpooliis002:11130/xqry/health.ashx
http://txxblpooliis002:10120/xsig/health.ashx
http://txxblpooliis002:11120/xsig/health.ashx
http://txxblpooliis002:10070/xstats/health.ashx
http://txxblpooliis002:11070/xstats/health.ashx
http://txxblpooliis002:13010/xsuppapi/health.ashx
http://txxblpooliis002:10050/xuacs/health.ashx
http://txxblpooliis002:11050/xuacs/health.ashx
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\CoreNet\servicesxb001.xml ===
<DeploymentInstance deploymentShareLocation="\\vxeinfrstg001\Builds\Automation Prep" logsLocation="\\vxeinfrstg001\Octopus\AutomationLogs" topologyName="BVT Testing Topology" releaseName="Summer 08" engineVersion="4.4.2113.0000" deploymentAccount="CORENET\trevorm" controllerMachine="VXEINFRSTG001">
  <Server name="VXENPDBSQL001">
    <PublishedComponentName name="SQLServerAgent" />
    <PublishedComponentName name="WstAgent" />
  </Server>
  <Server name="VXEINFRTLS001">
    <PublishedComponentName name="WstAgent" />
  </Server>
  <Server name="VXEPOOLIIS001">
    <PublishedComponentName name="WstAgent" />
  </Server>
  <Server name="VXEPOOLINH001">
    <PublishedComponentName name="WstAgent" />
  </Server>
  <Server name="VXEXMACSINH001">
    <PublishedComponentName name="WstAgent" />
  </Server>
  <Server name="VXEUSERSQLW01">
    <PublishedComponentName name="SQLServerAgent" />
    <PublishedComponentName name="WstAgent" />
  </Server>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\CoreNet\xb001.xml ===
<DeploymentInstance deploymentShareLocation="\\vxeinfrstg001\Builds\latest.tst\esp" logsLocation="\\vxeinfrstg001\OctopusLogs" topologyName="Expanded - Ops" releaseName="Summer 08" engineVersion="4.4.2113.0000" deploymentAccount="CORENET\trevorm" controllerMachine="VXEINFRSTG001">
  <Server name="VXENPDBSQL001">
    <PublishedComponentName name="All Xblob Components" />
    <PublishedComponentName name="NPDB Database" />
    <PublishedComponentName name="Server PreRequisites" />
    <PublishedComponentName name="Webstore Data Partition" />
    <PublishedComponentName name="Webstore Databases" />
    <PublishedComponentName name="eventsdb" />
    <PublishedComponentName name="FilterDB" />
    <PublishedComponentName name="genealogy" />
    <PublishedComponentName name="genealogy_upgrade" />
    <PublishedComponentName name="ProductDB Server" />
    <PublishedComponentName name="querydb" />
    <PublishedComponentName name="toolsdb" />
    <PublishedComponentName name="webdb" />
    <PublishedComponentName name="storedb Database" />
    <PublishedComponentName name="titledb Database" />
    <PublishedComponentName name="tteamdb Database" />
    <PublishedComponentName name="tuserdb Database" />
    <PublishedComponentName name="msgdb Database" />
    <PublishedComponentName name="UODB Database" />
    <PublishedComponentName name="xmatch" />
    <PublishedComponentName name="NPDB Server" />
    <PublishedComponentName name="UODB Server" />
    <PublishedComponentName name="PreRequisites-SQL" />
    <PublishedComponentName name="WebDB Database" />
    <PublishedComponentName name="XMatch Server" />
    <PublishedComponentName name="FilterDB Database" />
    <PublishedComponentName name="ProductDB Database" />
    <PublishedComponentName name="XMatch Database" />
    <PublishedComponentName name="avatardb Database" />
    <PublishedComponentName name="avatardb_prodbase" />
    <PublishedComponentName name="avatardb_upgrade" />
    <PublishedComponentName name="msgdb_prodbase" />
    <PublishedComponentName name="msgdb_upgrade" />
    <PublishedComponentName name="NPDB Prodbase" />
    <PublishedComponentName name="NPDB Upgrade" />
    <PublishedComponentName name="productdb_prodbase" />
    <PublishedComponentName name="productdb_upgrade" />
    <PublishedComponentName name="storedb_prodbase" />
    <PublishedComponentName name="storedb_upgrade" />
    <PublishedComponentName name="titledb_prodbase" />
    <PublishedComponentName name="titledb_upgrade" />
    <PublishedComponentName name="tteamdb_prodbase" />
    <PublishedComponentName name="tteamdb_upgrade" />
    <PublishedComponentName name="tuserdb_prodbase" />
    <PublishedComponentName name="tuserdb_upgrade" />
    <PublishedComponentName name="uodb_prodbase" />
    <PublishedComponentName name="uodb_upgrade" />
    <PublishedComponentName name="webdb_prodbase" />
    <PublishedComponentName name="webdb_upgrade" />
    <PublishedComponentName name="xmatch_prodbase" />
    <PublishedComponentName name="xmatch_upgrade" />
  </Server>
  <Server name="VXEINFRTLS001">
    <PublishedComponentName name="PreRequisites-Front Doors" />
    <PublishedComponentName name="Tools Server" />
    <PublishedComponentName name="Configure Logging" />
    <PublishedComponentName name="OldXBLTools" />
  </Server>
  <Server name="VXEPOOLIIS001">
    <PublishedComponentName name="Billing Frontdoor" />
    <PublishedComponentName name="Common Frontdoor" />
    <PublishedComponentName name="Live Cache Front Door" />
    <PublishedComponentName name="Match Front Door" />
    <PublishedComponentName name="PreRequisites-Front Doors" />
    <PublishedComponentName name="Presence Front Door" />
    <PublishedComponentName name="Stats Front Door" />
    <PublishedComponentName name="Storage Front Door" />
    <PublishedComponentName name="Webcache Server" />
    <PublishedComponentName name="LiveInfo Front Door" />
    <PublishedComponentName name="Lists Front Door" />
  </Server>
  <Server name="VXEPOOLINH001">
    <PublishedComponentName name="INH Servers" />
    <PublishedComponentName name="INH Prep" />
    <PublishedComponentName name="Cleanser INH" />
    <PublishedComponentName name="PresINH" />
    <PublishedComponentName name="Leaderboard Server" />
    <PublishedComponentName name="XBANC" />
    <PublishedComponentName name="Xcache" />
    <PublishedComponentName name="XarbINH" />
    <PublishedComponentName name="PreRequisites-Front Doors" />
    <PublishedComponentName name="XBANC Server" />
    <PublishedComponentName name="XCACHE Server" />
    <PublishedComponentName name="Presence Server" />
    <PublishedComponentName name="Cleanser Server" />
    <PublishedComponentName name="Arbitration Server" />
    <PublishedComponentName name="PreRequisites-INH" />
  </Server>
  <Server name="VXEXMACSINH001">
    <PublishedComponentName name="Active Auth Server" />
    <PublishedComponentName name="INH Prep" />
    <PublishedComponentName name="SG INH" />
    <PublishedComponentName name="XDS" />
    <PublishedComponentName name="XKDC INH" />
    <PublishedComponentName name="WebSG" />
    <PublishedComponentName name="Content Download Server" />
    <PublishedComponentName name="PreRequisites-Front Doors" />
    <PublishedComponentName name="XDS Server" />
    <PublishedComponentName name="XKDC Server" />
    <PublishedComponentName name="SG Server" />
    <PublishedComponentName name="PreRequisites-INH" />
  </Server>
  <Server name="VXEUSERSQLW01">
    <PublishedComponentName name="PreRequisites-SQL" />
  </Server>
  <ComponentConfiguration name="&lt;service level properties&gt;">
    <PropertyValue name="ENVIRONMENT_GLOBAL" source="Custom" value="corenet" />
    <PropertyValue name="SERVICE_DOMAINNAME_GLOBAL" source="Custom" value="CORENET" />
    <PropertyValue name="SERVICE_USER_ACCOUNT_GLOBAL" source="Custom" value="uodb_user" />
    <PropertyValue name="SERVICE_USER_FQDN_GLOBAL" source="Custom" value="CORENET\uodb_user" />
    <PropertyValue name="WEBROOT_DIR_GLOBAL" source="Custom" value="D:\Webroot" />
    <PropertyValue name="LOGROOT_DIR_GLOBAL" source="Custom" value="D:\Logroot" />
    <PropertyValue name="WST_DATAFILE_PATH_GLOBAL" source="Custom" value="H:\MSSQL" />
    <PropertyValue name="WST_LOGFILE_PATH_GLOBAL" source="Custom" value="O:\MSSQL" />
    <PropertyValue name="SERVICE_ADMIN_FQDN_GLOBAL" source="Custom" value="CORENET\wst_admin" />
  </ComponentConfiguration>
  <ComponentConfiguration name="&lt;topology level properties&gt;">
    <PropertyValue name="SERVICE_DOMAINNAME_GLOBAL" source="Custom" value="CORENET" />
    <PropertyValue name="ENVIRONMENT_GLOBAL" source="Custom" value="corenet" />
    <PropertyValue name="WEBROOT_DIR_GLOBAL" source="Custom" value="D:\Webroot" />
    <PropertyValue name="LOGROOT_DIR_GLOBAL" source="Custom" value="D:\Logroot" />
    <PropertyValue name="WST_DATAFILE_PATH_GLOBAL" source="Custom" value="H:\MSSQL" />
    <PropertyValue name="WST_LOGFILE_PATH_GLOBAL" source="Custom" value="O:\MSSQL" />
    <PropertyValue name="XBLOB_MACHINE_NAME_GLOBAL" source="Custom" value="VXeInfrTLS001" />
    <PropertyValue name="SERVICE_USER_ACCOUNT_GLOBAL" source="Custom" value="uodb_user" />
    <PropertyValue name="NPDB_SVR_GLOBAL" source="Custom" value="VXENPDBSQL001" />
    <PropertyValue name="WST_DEPLOY_ENABLED_GLOBAL" source="Custom" value="1" />
    <PropertyValue name="SERVICE_USER_FQDN_GLOBAL" source="Custom" value="CORENET\uodb_user" />
    <PropertyValue name="SERVICE_ADMIN_FQDN_GLOBAL" source="Custom" value="CORENET\wst_admin" />
  </ComponentConfiguration>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\CoreNet\tn001.xml ===
<DeploymentInstance deploymentShareLocation="\\vxeinfrstg001\Builds\latest.tst\esp" logsLocation="\\vxeinfrstg001\OctopusLogs\TestNet" topologyName="Expanded - Ops" releaseName="Summer 08" engineVersion="4.4.2113.0000" deploymentAccount="CORENET\trevorm" controllerMachine="VXEINFRSTG001">
  <Server name="FXXALLSQL002">
    <PublishedComponentName name="PreRequisites-SQL" />
  </Server>
  <Server name="FXXALLSQL001">
    <PublishedComponentName name="Configure Logging" />
    <PublishedComponentName name="FilterDB Database" />
    <PublishedComponentName name="genealogy" />
    <PublishedComponentName name="genealogy_upgrade" />
    <PublishedComponentName name="msgdb" />
    <PublishedComponentName name="NPDB Server" />
    <PublishedComponentName name="PreRequisites-SQL" />
    <PublishedComponentName name="ProductDB Database" />
    <PublishedComponentName name="querydb" />
    <PublishedComponentName name="storedb" />
    <PublishedComponentName name="titledb" />
    <PublishedComponentName name="toolsdb" />
    <PublishedComponentName name="tteamdb" />
    <PublishedComponentName name="tuserdb" />
    <PublishedComponentName name="UODB Server" />
    <PublishedComponentName name="WebDB Database" />
    <PublishedComponentName name="XMatch Database" />
    <PublishedComponentName name="msgdb Database" />
    <PublishedComponentName name="storedb Database" />
    <PublishedComponentName name="titledb Database" />
    <PublishedComponentName name="tteamdb Database" />
    <PublishedComponentName name="tuserdb Database" />
    <PublishedComponentName name="avatardb_prodbase" />
    <PublishedComponentName name="avatardb_upgrade" />
    <PublishedComponentName name="msgdb_prodbase" />
    <PublishedComponentName name="msgdb_upgrade" />
    <PublishedComponentName name="NPDB Prodbase" />
    <PublishedComponentName name="NPDB Upgrade" />
    <PublishedComponentName name="productdb_prodbase" />
    <PublishedComponentName name="productdb_upgrade" />
    <PublishedComponentName name="storedb_prodbase" />
    <PublishedComponentName name="storedb_upgrade" />
    <PublishedComponentName name="titledb_prodbase" />
    <PublishedComponentName name="titledb_upgrade" />
    <PublishedComponentName name="tteamdb_prodbase" />
    <PublishedComponentName name="tteamdb_upgrade" />
    <PublishedComponentName name="tuserdb_prodbase" />
    <PublishedComponentName name="tuserdb_upgrade" />
    <PublishedComponentName name="uodb_prodbase" />
    <PublishedComponentName name="uodb_upgrade" />
    <PublishedComponentName name="webdb_prodbase" />
    <PublishedComponentName name="webdb_upgrade" />
    <PublishedComponentName name="xmatch_prodbase" />
    <PublishedComponentName name="xmatch_upgrade" />
  </Server>
  <ComponentConfiguration name="&lt;service level properties&gt;">
    <PropertyValue name="ENVIRONMENT_GLOBAL" source="Custom" value="testnet" />
    <PropertyValue name="SERVICE_USER_FQDN_GLOBAL" source="Custom" value="CORENET\uodb_user" />
    <PropertyValue name="WEBROOT_DIR_GLOBAL" source="Custom" value="D:\Webroot" />
    <PropertyValue name="LOGROOT_DIR_GLOBAL" source="Custom" value="D:\Logroot" />
    <PropertyValue name="WST_DATAFILE_PATH_GLOBAL" source="Custom" value="H:\MSSQL" />
    <PropertyValue name="WST_LOGFILE_PATH_GLOBAL" source="Custom" value="O:\MSSQL" />
    <PropertyValue name="SERVICE_ADMIN_FQDN_GLOBAL" source="Custom" value="CORENET\wst_admin" />
  </ComponentConfiguration>
  <ComponentConfiguration name="&lt;topology level properties&gt;">
    <PropertyValue name="NPDB_SVR_GLOBAL" source="Custom" value="FXXALLSQL001" />
    <PropertyValue name="WST_DEPLOY_ENABLED_GLOBAL" source="Custom" value="1" />
    <PropertyValue name="ENVIRONMENT_GLOBAL" source="Custom" value="testnet" />
    <PropertyValue name="WEBROOT_DIR_GLOBAL" source="Custom" value="D:\Webroot" />
    <PropertyValue name="LOGROOT_DIR_GLOBAL" source="Custom" value="D:\Logroot" />
    <PropertyValue name="WST_DATAFILE_PATH_GLOBAL" source="Custom" value="H:\MSSQL" />
    <PropertyValue name="WST_LOGFILE_PATH_GLOBAL" source="Custom" value="O:\MSSQL" />
    <PropertyValue name="SERVICE_USER_FQDN_GLOBAL" source="Custom" value="CORENET\uodb_user" />
    <PropertyValue name="SERVICE_ADMIN_FQDN_GLOBAL" source="Custom" value="CORENET\wst_admin" />
  </ComponentConfiguration>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\CoreNet\sn2001.xml ===
<DeploymentInstance deploymentShareLocation="\\vxeinfrstg001\Builds\latest.tst\esp" logsLocation="\\vxeinfrstg001\OctopusLogs\StressNet2" topologyName="Expanded - Ops" releaseName="Summer 08" engineVersion="4.4.2113.0000" deploymentAccount="CORENET\trevorm" controllerMachine="VXEINFRSTG001">
  <Server name="ST2LSNPDBSQL002">
    <PublishedComponentName name="PreRequisites-SQL" />
  </Server>
  <Server name="ST2LSNPDBSQL001">
    <PublishedComponentName name="Configure Logging" />
    <PublishedComponentName name="FilterDB Database" />
    <PublishedComponentName name="genealogy" />
    <PublishedComponentName name="genealogy_upgrade" />
    <PublishedComponentName name="msgdb" />
    <PublishedComponentName name="NPDB Server" />
    <PublishedComponentName name="PreRequisites-SQL" />
    <PublishedComponentName name="ProductDB Database" />
    <PublishedComponentName name="querydb" />
    <PublishedComponentName name="storedb" />
    <PublishedComponentName name="titledb" />
    <PublishedComponentName name="toolsdb" />
    <PublishedComponentName name="tteamdb" />
    <PublishedComponentName name="tuserdb" />
    <PublishedComponentName name="UODB Server" />
    <PublishedComponentName name="WebDB Database" />
    <PublishedComponentName name="XMatch Database" />
    <PublishedComponentName name="msgdb Database" />
    <PublishedComponentName name="storedb Database" />
    <PublishedComponentName name="titledb Database" />
    <PublishedComponentName name="tteamdb Database" />
    <PublishedComponentName name="tuserdb Database" />
    <PublishedComponentName name="avatardb_prodbase" />
    <PublishedComponentName name="avatardb_upgrade" />
    <PublishedComponentName name="msgdb_prodbase" />
    <PublishedComponentName name="msgdb_upgrade" />
    <PublishedComponentName name="NPDB Prodbase" />
    <PublishedComponentName name="NPDB Upgrade" />
    <PublishedComponentName name="productdb_prodbase" />
    <PublishedComponentName name="productdb_upgrade" />
    <PublishedComponentName name="storedb_prodbase" />
    <PublishedComponentName name="storedb_upgrade" />
    <PublishedComponentName name="titledb_prodbase" />
    <PublishedComponentName name="titledb_upgrade" />
    <PublishedComponentName name="tteamdb_prodbase" />
    <PublishedComponentName name="tteamdb_upgrade" />
    <PublishedComponentName name="tuserdb_prodbase" />
    <PublishedComponentName name="tuserdb_upgrade" />
    <PublishedComponentName name="webdb_prodbase" />
    <PublishedComponentName name="webdb_upgrade" />
    <PublishedComponentName name="uodb_prodbase" />
    <PublishedComponentName name="uodb_upgrade" />
    <PublishedComponentName name="xmatch_prodbase" />
    <PublishedComponentName name="xmatch_upgrade" />
  </Server>
  <ComponentConfiguration name="&lt;service level properties&gt;">
    <PropertyValue name="ENVIRONMENT_GLOBAL" source="Custom" value="stressnet2" />
    <PropertyValue name="SERVICE_USER_FQDN_GLOBAL" source="Custom" value="CORENET\uodb_user" />
    <PropertyValue name="WEBROOT_DIR_GLOBAL" source="Custom" value="D:\Webroot" />
    <PropertyValue name="LOGROOT_DIR_GLOBAL" source="Custom" value="D:\Logroot" />
    <PropertyValue name="WST_DATAFILE_PATH_GLOBAL" source="Custom" value="H:\MSSQL" />
    <PropertyValue name="WST_LOGFILE_PATH_GLOBAL" source="Custom" value="O:\MSSQL" />
    <PropertyValue name="SERVICE_ADMIN_FQDN_GLOBAL" source="Custom" value="CORENET\wst_admin" />
  </ComponentConfiguration>
  <ComponentConfiguration name="&lt;topology level properties&gt;">
    <PropertyValue name="NPDB_SVR_GLOBAL" source="Custom" value="St2LsNPDBSQL001" />
    <PropertyValue name="WST_DEPLOY_ENABLED_GLOBAL" source="Custom" value="1" />
    <PropertyValue name="ENVIRONMENT_GLOBAL" source="Custom" value="stressnet2" />
    <PropertyValue name="WEBROOT_DIR_GLOBAL" source="Custom" value="D:\Webroot" />
    <PropertyValue name="LOGROOT_DIR_GLOBAL" source="Custom" value="D:\Logroot" />
    <PropertyValue name="WST_DATAFILE_PATH_GLOBAL" source="Custom" value="H:\MSSQL" />
    <PropertyValue name="WST_LOGFILE_PATH_GLOBAL" source="Custom" value="O:\MSSQL" />
    <PropertyValue name="SERVICE_USER_FQDN_GLOBAL" source="Custom" value="CORENET\uodb_user" />
    <PropertyValue name="SERVICE_ADMIN_FQDN_GLOBAL" source="Custom" value="CORENET\wst_admin" />
  </ComponentConfiguration>
</DeploymentInstance>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\ESP BVT\service.xml ===
<?xml version="1.0" encoding="UTF-8"?>
<service name="ESP BVT Tests" release="Summer 08">
    <property name="ENVIRONMENT_GLOBAL">
        <userInput default="xblob" prompt="Environment">
            <select>
                <option value="xblob"       displayValue="XBLOB" />
                <option value="corenet"     displayValue="CoreNet"/>
                <option value="bvtnet"      displayValue="BVTNet"/>
                <!--  Uncomment these as they become supported:        
                <option value="argonet"     displayValue="ArgoNet"/>
                <option value="qfenet"      displayValue="QFENet"/>
                <option value="stressnet"   displayValue="StressNet"/>
                <option value="testnet"     displayValue="TestNet"/>
                <option value="partnernet"  displayValue="PartnerNet"/>
                <option value="certnet"     displayValue="CertNet"/>
                <option value="preprodnet"  displayValue="PreProd"/>
                <option value="prodnet"     displayValue="Production"/>        
                -->
            </select>
        </userInput>
    </property>
  <property name="ROOT_PATH_GLOBAL">
    <userInput prompt="Root folder Path" help="The path to the root folder. Webroot should be contained in this folder." default="C:\ESP" required="true" persistent="true">
      <textbox />
    </userInput>
  </property>
  <property name="XBLTOOLS_PATH_GLOBAL">
    <userInput prompt="Xbox Live Tools Path" help="The path to the XblTools folder. This must be on the xblob." default="C:\ESP\Webroot\xbltools" required="true" persistent="true">
      <textbox />
    </userInput>
  </property>
  <property name="XMGMT_PATH_GLOBAL">
    <userInput prompt="Xbox Live Management Tool Path" help="The path to the XMGMT folder. This must be on the xblob." default="C:\ESP\Webroot\xmgmtsrv" required="true" persistent="true">
      <textbox />
    </userInput>
  </property>
  <property name="STF_LOCATION_GLOBAL">
    <userInput prompt="StfTests Build Location" help="The path to the StfTests folder. This must be on the xblob." required="true" persistent="true">
      <textbox />
    </userInput>
  </property>
  <property name="TPP_LOCATION_GLOBAL">
    <userInput prompt="TitlePropPro Build Location" help="The path to the TitlePropPro folder. This must be on the xblob." required="true" persistent="true">
      <textbox />
    </userInput>
  </property>
  <property name="LBSVR_HOSTNAME_GLOBAL">
    <userInput prompt="Leaderboard Server Name" help="The hostname of the leaderboard being tested" default="%COMPUTERNAME%" required="true" persistent="true">
		<textbox />
	</userInput>
  </property>
  <property name="MATCH_HOSTNAME_GLOBAL">
    <userInput prompt="Match Server Name" help="The hostname of the matchsvr being tested" default="%COMPUTERNAME%" required="true" persistent="true">
        <textbox />
    </userInput>
  </property>
	<property name="FDSERVER_HOSTNAME_GLOBAL">
		<userInput prompt="Front-Door Server Name" help="The hostname of the front-door being tested" default="%COMPUTERNAME%" required="true" persistent="true">
			<textbox />
		</userInput>
	</property>
  <property name="SYSTEMCHECK_THREADS_GLOBAL">
    <userInput prompt="SytemCheck Threads" help="Number of SystemCheck Threads to Run" default="1" required="true" persistent="true">
        <textbox />
    </userInput>
  </property>
	<topologies>
    <topology name="BVT Testing Topology">
      <role name="Title Propping" servers="select" minServers="0" maxServers="999" />
      <role name="Load HealthChecks" servers="select" minServers="0" maxServers="999" />
      <role name="Run HealthChecks" servers="select" minServers="0" maxServers="999" />
      <role name="Run Live BVTs" servers="select" minServers="0" maxServers="999" />
      <role name="Stop SG Service" servers="select" minServers="0" maxServers="999" />
      <role name="Xblob Perf Free Resources" servers="select" minServers="0" maxServers="999" />
      <!--role name="Octopus Controller" servers="select" minServers="1" maxServers="1" /-->
    </topology>
  </topologies>
  <components>
    <component name="Title Propping">
      <aggregateComponent name="TitleProp" />
      <aggregateComponent name="XStatsFdReloadDbMap" />
      <aggregateComponent name="XMatchFdReloadTitleInfo" />
      <!--aggregateComponent name="SystemCheckReloadFD" /-->
    </component>
    <component name="Load HealthChecks">
      <aggregateComponent name="LoadAllAppPools" />
      <aggregateComponent name="WaitForAppPools" />
    </component>
    <component name="Run HealthChecks">
      <aggregateComponent name="RunHealthCheck" />
    </component>
    <component name="Xblob Perf Free Resources">
      <aggregateComponent name="FreeResources"/>
    </component>
    <component name="Run Live BVTs">
      <aggregateComponent name="LiveBVTs" />
      <aggregateComponent name="StopFakeSG" />
      <aggregateComponent name="DeleteFakeSG" />
    </component>
    <component name="Stop SG Service">
      <aggregateComponent name="StopSGSvc" />
    </component>
    <component name="Octopus Controller">
      <!--aggregateComponent name="InstallCycle" /-->
    </component>



    <component name="StopSGSvc">
      <publishInterface name="StopSGSvc" />
      <installCommand name="stop-sgsvc" cmd='sc stop SGSVC' />
    </component>

    <component name="StopFakeSG">
      <publishInterface name="StopFakeSG" />
      <installCommand name="stop-fakesg" cmd='sc stop FakeSGService' >
        <statusCodes>
          <statusCode value='1060' type='success' message='Service not installed'/>
          <statusCode value='1062' type='success' message='Service is already stopped'/>
        </statusCodes>
      </installCommand>
    </component>

    <component name="DeleteFakeSG">
      <requireInterface name="StopFakeSG" />
      <publishInterface name="DeleteFakeSG" />
      <installCommand name="delete-fakesg" cmd='sc delete FakeSGService' >
        <statusCodes>
          <statusCode value='1060' type='success' message='Service not installed'/>
        </statusCodes>
      </installCommand>
    </component>

    <component name="SystemCheckReloadFD">
		<requireInterface name="TitleProp" />
		<publishInterface name="SystemCheckReloadFD" />
		<property name="SYSTEMCHECK_THREADS" value="[SYSTEMCHECK_THREADS_GLOBAL]" />
		<installCommand name="reload-frontdoors" cmd='SystemCheck.exe /reloadfd'>
			<inputFiles>
				<file sourcePath="SystemCheck.exe" destinationPath="SystemCheck.exe" />
			</inputFiles>
		</installCommand>
	</component>
    <component name="XStatsFdReloadDbMap">
		<requireInterface name="TitleProp" />
		<publishInterface name="XStatsFdReloadDbMap" />
			<property name="XMGMT_PATH" value="[XMGMT_PATH_GLOBAL]" />
			<property name="FDSERVER_HOSTNAME" value="[FDSERVER_HOSTNAME_GLOBAL]" />
			<installCommand name="xstatsfd-reloaddbmap" cmd='[XMGMT_PATH]\xmgmtc -c [FDSERVER_HOSTNAME] -r "e :xstatsfd reloaddbmap"' />
    </component>
    <component name="XMatchFdReloadTitleInfo">
		<requireInterface name="TitleProp" />
		<publishInterface name="XMatchFdReloadTitleInfo" />
			<property name="FDSERVER_HOSTNAME" value="[FDSERVER_HOSTNAME_GLOBAL]" />
			<property name="XMGMT_PATH" value="[XMGMT_PATH_GLOBAL]" />
			<installCommand name="xmatchfd-reloadtitleinfo" cmd='[XMGMT_PATH]\xmgmtc -c [FDSERVER_HOSTNAME] -r "e :xmatchfd reloadtitleinfo"' />
	</component>

    <!-- we load all the app pools by hitting their health checks once. This is primarily for older health checks. New ones shouldn't need this.-->
    <component name="LoadAllAppPools">
      <publishInterface name="LoadAllAppPools" />
      <property name="SYSTEMCHECK_THREADS" value="[SYSTEMCHECK_THREADS_GLOBAL]" />
      <installCommand name="load-all-app-pools" cmd='SystemCheck.exe /configfile:"%Octopus.Configuration.SourceLocation%\healthurls.txt" /threads:[SYSTEMCHECK_THREADS] /timeout:240000 /outfile:"%Octopus.Log.CurrentDeployment.Folder%\prehealthchecks.xml"'>
        <inputFiles>
          <file sourcePath="SystemCheck.exe" destinationPath="SystemCheck.exe" />
        </inputFiles>
        <statusCodes>
          <statusCode value='1' type='success' message=''/>
        </statusCodes>
      </installCommand>
    </component>

    <component name="WaitForAppPools">
      <publishInterface name="WaitForAppPools" />
      <requireInterface name="LoadAllAppPools" />
      <installCommand name="wait-for-app-pools" cmd='sleep 120'>
        <inputFiles>
          <file sourcePath="sleep.exe" destinationPath="sleep.exe" />
        </inputFiles>
      </installCommand>
    </component>

    <component name="RunHealthCheck">
      <publishInterface name="RunHealthCheck" />
      <requireInterface name="LoadAllAppPools" />
      <requireInterface name="WaitForAppPools" />
      <requireInterface name="TitleProp" />
      <property name="SYSTEMCHECK_THREADS" value="[SYSTEMCHECK_THREADS_GLOBAL]" />
      <installCommand name="health-check" cmd='SystemCheck.exe /configfile:"%Octopus.Configuration.SourceLocation%\healthurls.txt" /threads:[SYSTEMCHECK_THREADS] /timeout:240000 /outfile:"%Octopus.Log.CurrentDeployment.Folder%\healthchecks.xml"'>
        <inputFiles>
          <file sourcePath="SystemCheck.exe" destinationPath="SystemCheck.exe" />
        </inputFiles>
        <statusCodes>
          <statusCode value='1' type='success' message="Some health checks didn't respond. This is expected. Continuing." />
        </statusCodes>
      </installCommand>
    </component>

    <component name="FreeResources">
      <publishInterface name="FreeResources" />
      <requireInterface name="RunHealthCheck" />
      <property name="FDSERVER_HOSTNAME" value="[FDSERVER_HOSTNAME_GLOBAL]" />
      <installCommand name="iisreset-cmd" cmd='iisreset [FDSERVER_HOSTNAME]'>
      </installCommand>
    </component>

    <!-- Robocopy is a must here. xcopy doesn't seem to work. -->
    <component name="TitleProp">
      <publishInterface name="TitleProp" />
      <requireInterface name="LoadAllAppPools" />
      <requireInterface name="WaitForAppPools" />
      <property name="ROOT_PATH" value="[ROOT_PATH_GLOBAL]" />
      <property name="XBLTOOLS_PATH" value="[XBLTOOLS_PATH_GLOBAL]" />
      <property name="TPP_LOCATION" value="[TPP_LOCATION_GLOBAL]" />
	  <property name="ENVIRONMENT" value="[ENVIRONMENT_GLOBAL]" />
		<installCommand name="title-prop-all" cmd='robocopy /E "[TPP_LOCATION]" "[ROOT_PATH]\TitlePropPro" &amp; set PATH=%PATH%;[XBLTOOLS_PATH] &amp; cd /D "[ROOT_PATH]\TitlePropPro" &amp; TPP.exe /env:[ENVIRONMENT] /title:BVT'>
        <inputFiles>
          <file sourcePath="Robocopy.exe" />
        </inputFiles>
        <statusCodes>
          <statusCode value='1' type='success' message='Files copied successfully.'/>
          <statusCode value='2' type='success' message='Files copied successfully.'/>
          <statusCode value='3' type='success' message='Files copied successfully.'/>
        </statusCodes>
      </installCommand>
    </component>
    <!-- Title Propping is implemented as a series of commands implemented in sequential order. -->

    <!-- Robocopy is a must here. xcopy doesn't seem to work. -->

    <component name="LiveBVTs">
      <requireInterface name="LoadAllAppPools" />
      <requireInterface name="WaitForAppPools" />
      <requireInterface name="RunHealthCheck" />
      <requireInterface name="TitleProp" />
      <requireInterface name="StopSGSvc" />
      <requireInterface name="DeleteFakeSG" />
      <requireInterface name="SystemCheckReloadFD" />
      <requireInterface name="XStatsFdReloadDbMap" />
      <requireInterface name="XMatchFdReloadTitleInfo" />
      <requireInterface name="FreeResources" />
      <aggregateComponent name="InstallLiveBvts" />
      <aggregateComponent name="RunLiveBvts" />
    </component>

    <component name="InstallLiveBvts">
      <publishInterface name="InstallLiveBvts" />
      <property name="ROOT_PATH" value="[ROOT_PATH_GLOBAL]" />
      <property name="STF_LOCATION" value="[STF_LOCATION_GLOBAL]" />
      <installCommand name="install-live-bvts" cmd='robocopy /E "[STF_LOCATION]" "[ROOT_PATH]\StfTests"'>
        <inputFiles>
          <file sourcePath="Robocopy.exe" />
        </inputFiles>
        <statusCodes>
          <statusCode value='1' type='success' message='Files copied successfully. Continuing.'/>
          <statusCode value='2' type='success' message='Files copied successfully. Continuing.'/>
          <statusCode value='3' type='success' message='Files copied successfully. Continuing.'/>
        </statusCodes>
      </installCommand>
    </component>

    <component name="RunLiveBvts">
      <requireInterface name="InstallLiveBvts" />
      <property name="ROOT_PATH" value="[ROOT_PATH_GLOBAL]" />
	  <property name="ENVIRONMENT" value="[ENVIRONMENT_GLOBAL]" />
      <installCommand name="run-live-bvts" cmd='cd /D "[ROOT_PATH]\StfTests" &amp; stfconsolelive.exe /env:[ENVIRONMENT] /filelog "[ROOT_PATH]\StfTests\Suites\livebvt.dll"' />
    </component>

  </components>
</service>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\PropTitles\service.xml ===
<?xml version="1.0" encoding="UTF-8"?>
<service name="Prop Titles" release="All Releases">
    <property name="ENVIRONMENT_GLOBAL">
        <userInput default="corenet" prompt="Environment">
            <select>
                <option value="xblob"       displayValue="XBLOB" />
                <option value="corenet"     displayValue="CoreNet" />
                <option value="bvtnet"      displayValue="BVTNet" />
            </select>
        </userInput>
    </property>
    <property name="ROOT_PATH_GLOBAL">
        <userInput prompt="Root folder Path" help="The path to the root folder. Webroot should be contained in this folder." default="D:\" required="true" persistent="true">
            <textbox />
        </userInput>
    </property>
    <property name="TPP_LOCATION_GLOBAL">
        <userInput prompt="TitlePropPro Path" help="The path on the tools server where TitlePropPro should be installed." default="D:\Webroot\TitlePropPro" required="true" persistent="true">
            <textbox />
        </userInput>
    </property>
    <property name="TITLE_GROUP_GLOBAL">
        <userInput prompt="Title Group to Prop" help="The title group to prop. Specify 'BVT', 'Acceptance', 'Extended', or 'All'." default="BVT" required="true" persistent="true">
            <select>
                <option value="BVT"            displayValue="BVT" />
                <option value="Acceptance"     displayValue="Acceptance" />
                <option value="Extended"       displayValue="Extended" />
                <option value="All"            displayValue="All" />
            </select>
        </userInput>
    </property>
    <property name="BUILD_DROP_PATH_GLOBAL">
        <userInput prompt="Build Drop Path" help="Location of the source deployment files." default="\\VXeInfrSTG002\Builds\CoreNet.Latest\R2" required="true" persistent="true">
            <textbox />
        </userInput>
    </property>
    <topologies>
        <topology name="Title Propping Topology">
            <role name="Title Propping" servers="select" minServers="1" maxServers="1" />
        </topology>
    </topologies>
    <components>
        <component name="Title Propping">
            <aggregateComponent name="InstallTPP" />
            <aggregateComponent name="TitleProp" />
        </component>

        <component name="InstallTPP">
            <publishInterface name="InstallTPP" />
            <property name="TPP_LOCATION" value="[TPP_LOCATION_GLOBAL]" />
            <property name="BUILD_DROP" value="[BUILD_DROP_PATH_GLOBAL]" />
            <installCommand name="Install TPP" cmd='robocopy /E "[BUILD_DROP]\retail\test\deployment\TitlePropPro" "[TPP_LOCATION]"'>
                <inputFiles>
                    <file sourcePath="Robocopy.exe" />
                </inputFiles>
                <statusCodes>
                    <statusCode value='1' type='success' message='Files copied successfully. Continuing.'/>
                    <statusCode value='2' type='success' message='Files copied successfully. Continuing.'/>
                    <statusCode value='3' type='success' message='Files copied successfully. Continuing.'/>
                </statusCodes>
            </installCommand>
        </component>

        <component name="TitleProp">
            <publishInterface name="TitleProp" />
            <property name="TPP_LOCATION" value="[TPP_LOCATION_GLOBAL]" />
            <property name="ENVIRONMENT" value="[ENVIRONMENT_GLOBAL]" />
            <property name="TITLEGROUP" value="[TITLE_GROUP_GLOBAL]" />
            <installCommand name="Prop Titles" cmd='cd /D "[TPP_LOCATION]" &amp; TPP.exe /env:[ENVIRONMENT] /title:[TITLEGROUP]' />
        </component>
    </components>
</service>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\PropTitles\obj\i386\_asmid.xml ===
ï»¿<assembly xmlns='urn:schemas-microsoft-com:asm.v1' manifestVersion='1.0'>
<assemblyIdentity  name="proptitles" processorArchitecture="x86" version="12.4.56.0"/>
</assembly>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\PropTitles\objd\i386\_asmid.xml ===
ï»¿<assembly xmlns='urn:schemas-microsoft-com:asm.v1' manifestVersion='1.0'>
<assemblyIdentity  name="proptitles" processorArchitecture="x86" version="12.4.56.0"/>
</assembly>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\deployment\Vault\ESP BVT\healthurls.txt ===
http://emzephirxbl001:12000/Alerts/health.ashx
http://emzephirxbl001:13100/health.ashx
http://emzephirxbl001:11220/catalog/health.ashx
http://emzephirxbl001:11210/cron/health.ashx
http://emzephirxbl001:13030/crux/health.ashx
http://emzephirxbl001:10080/fbserver/health.ashx
http://emzephirxbl001:11080/fbserver/health.ashx
http://emzephirxbl001:12000/GeneralInfo/health.ashx
http://emzephirxbl001:13020/livecache/health.ashx
http://emzephirxbl001:12000/LiveProxy/health.ashx
http://emzephirxbl001:10130/lsp/health.ashx
http://emzephirxbl001:11130/lsp/health.ashx
http://emzephirxbl001:12000/Messaging/health.ashx
http://emzephirxbl001:10020/msgserver/health.ashx
http://emzephirxbl001:11020/msgserver/health.ashx
http://emzephirxbl001:12000/music/health.ashx
http://emzephirxbl001:12000/Presence/health.ashx
http://emzephirxbl001:12000/profile/health.ashx
http://emzephirxbl001:12000/Query/health.ashx
http://emzephirxbl001:12000/Signature/health.ashx
http://emzephirxbl001:12000/Stats/health.ashx
http://emzephirxbl001:10140/stfd/health.ashx
http://emzephirxbl001:10150/stfd/health.ashx
http://emzephirxbl001:11140/stfd/health.ashx
http://emzephirxbl001:11150/stfd/health.ashx
http://emzephirxbl001:12000/Storage/health.ashx
http://emzephirxbl001:4541/svctunnel/health.ashx
http://emzephirxbl001:12000/Teams/health.ashx
http://emzephirxbl001:12000/UserAccount/health.ashx
http://emzephirxbl001:12000/wctoolsmgmt/health.ashx
http://emzephirxbl001:10160/xarb/health.ashx
http://emzephirxbl001:11160/xarb/health.ashx
http://emzephirxbl001:14160/xarbinh/health.ashx
http://emzephirxbl001:11240/xcrypto/health.ashx
http://emzephirxbl001:10060/xmatch/health.ashx
http://emzephirxbl001:11060/xmatch/health.ashx
http://emzephirxbl001:10010/xpnfront/health.ashx
http://emzephirxbl001:10180/xpnfront/health.ashx
http://emzephirxbl001:10190/xpnfront/health.ashx
http://emzephirxbl001:11010/xpnfront/health.ashx
http://emzephirxbl001:11180/xpnfront/health.ashx
http://emzephirxbl001:11190/xpnfront/health.ashx
http://emzephirxbl001:10130/xqry/health.ashx
http://emzephirxbl001:11130/xqry/health.ashx
http://emzephirxbl001:10120/xsig/health.ashx
http://emzephirxbl001:11120/xsig/health.ashx
http://emzephirxbl001:10070/xstats/health.ashx
http://emzephirxbl001:11070/xstats/health.ashx
http://emzephirxbl001:13010/xsuppapi/health.ashx
http://emzephirxbl001:10050/xuacs/health.ashx
http://emzephirxbl001:11050/xuacs/health.ashx
http://emzephirxbl001:10100/Lists/health.ashx
http://emzephirxbl001:11100/Lists/health.ashx
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\doc\xboxcom\M4\Xbox.com Account Creation and Profile Test Plan.doc ===
Microsoft Office Word Document MSWordDoc Word.Document.8Microsoft Corporation Xbox Alerts Widget Test Plan Title _PID_HLINKS Document Description Type of Document Status Date Created Xbox.com Account Creation and Profile Test Plan Feature Spec final 2005-02-21T00:00:00ZXbox Alerts Widget Test Plan Dave and Caroline Normal.dot John S Blackman Microsoft Office Wordurn:schemas-microsoft-com:office:smarttags country-region urn:schemas-microsoft-com:office:smarttags urn:schemas-microsoft-com:office:smarttags place urn:schemas-microsoft-com:office:smarttags PersonName g.")~oc95808302"  Table of Contents  PAGEREF _Toc95808302 \h   HYPERLINK \l "_Toc95808303"  Summary  PAGEREF _Toc95808303 \h   HYPERLINK \l "_Toc95808304"  Test Goals  PAGEREF _Toc95808304 \h   HYPERLINK \l "_Toc95808305"  Non-Test Goals  PAGEREF _Toc95808305 \h   HYPERLINK \l "_Toc95808306"  Related Documents  PAGEREF _Toc95808306 \h   HYPERLINK \l "_Toc95808307"  Profile Functional Tests  PAGEREF _Toc95808307 \h   HYPERLINK \l "_Toc95808308"  Gamer Types  PAGEREF _Toc95808308 \h   HYPERLINK \l "_Toc95808309"  6.1.1 Personal Info  PAGEREF _Toc95808309 \h   HYPERLINK \l "_Toc95808310"  6.1.2 Non subscriber  PAGEREF _Toc95808310 \h   HYPERLINK \l "_Toc95808311"  6.1.3 Xbox 1 Subscriber  PAGEREF _Toc95808311 \h   HYPERLINK \l "_Toc95808312"  6.1.4 Xenon Subscriber  PAGEREF _Toc95808312 \h   HYPERLINK \l "_Toc95808313"  Account Creation Functional Tests  PAGEREF _Toc95808313 \h   HYPERLINK \l "_Toc95808314"  Process Flow  PAGEREF _Toc95808314 \h   HYPERLINK \l "_Toc95808315"  7.1.1 Register / Sign-In  PAGEREF _Toc95808315 \h   HYPERLINK \l "_Toc95808316"  7.1.2 Register  PAGEREF _Toc95808316 \h   HYPERLINK \l "_Toc95808317"  7.1.3 Cancel Page  PAGEREF _Toc95808317 \h   HYPERLINK \l "_Toc95808318"  7.1.4 Sign-In  PAGEREF _Toc95808318 \h   HYPERLINK \l "_Toc95808319"  7.1.5 Xbox.com Terms of Use  PAGEREF _Toc95808319 \h   HYPERLINK \l "_Toc95808320"  7.1.6 Confirmation Page  PAGEREF _Toc95808320 \h   HYPERLINK \l "_Toc95808321"  Functional Test Case Implementation  PAGEREF _Toc95808321 \h   HYPERLINK \l "_Toc95808322"  Performance / Stress Testing  PAGEREF _Toc95808322 \h   HYPERLINK \l "_Toc95808323"  Failover  PAGEREF _Toc95808323 \h   HYPERLINK \l "_Toc95808324"  Tools Needed  PAGEREF _Toc95808324 \h   HYPERLINK \l "_Toc95808325"  Hardware Requirements  PAGEREF _Toc95808325 \h   HYPERLINK \l "_Toc95808326"  Test Complete Criteria  PAGEREF _Toc95808326 \h   HYPERLINK \l "_Toc95808327"  Release Criteria  PAGEREF _Toc95808327 \h  Summary The Xenon Xbox.com site will redefine how accounts are created and what data is associated with an account on the web.  Accounts will now be associated with a gamer tag, be more closely integrated with Passport, and contain much more profile data that will be stored on the service end of things.  The sign-up process for all of this is several screens deep with several branches.  This test plan will cover testing that flow for positive and negative conditions.  Since it is a process flow, performance will not be measured directly as the process touches many parts of the site that will get performance attention in their own right.  This will test the process from page to page of a new user signing up for all of the given tiers of service that they can end up in for the Xenon launch deliverable. Process Flow Diagram The diagram is too large to fit into this document.  Please see the process flow document here.  HYPERLINK "http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/XPA%20Profile%20Details.vsd" \o "http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/XPA%20Profile%20Details.vsd"  http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/XPA%20Profile%20Details.vsd Test Goals The tests in this plan will: Run through the full state machine for each type of user sign up Access tiers, profile only, localized Test overflow conditions for data entry fields Verify that failures are handled gracefully by resulting in an exception, leaving the dataset intact, and providing proper user feedback. Fallout scenarios save state properly (user quits half way through sign-up) Outline failover scenarios for dependencies Passport Gamer tag linking MSN UPS Non-Test Goals This test plan does not test: Establish performance and stress benchmarks Front door functionality that provides data to the cache layer. Web Server implementation of the Web Cache Layer Passport Related Documents Refer to the following documents for more detailed information about account creation. PM Spec http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20-%20Profile.doc Account Creation Visio Diagram  HYPERLINK "http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20Account%20Creation.vsd"  http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20Account%20Creation.vsd Profile Visio Diagram Profile Functional Tests The profile data displayed on the Xbox.com web site will come in the form of a gamer card and a gamer card  light .  As you would expect by the name, the gamer card light will display a subset of the data available on the full gamer card.  The gamer cards of both varieties are separate web parts.  This test plan will build a matrix of those web parts and data that can be displayed for each. Integration states: banned user, expired, disabled,  etc. These test cases will be automated in IE v6.0 which will cover all of these test cases.  The other browsers that we will manually test with are: IE 5.0 IE 5.5 Firefox Opera These browsers will not have an automated test pass.  We will test them manually which means they will not have a guaranteed comprehensive test. Gamer Types Personal Info The following are all PII and will be stored in the MSN UPS namespace First Name   UNICODE(64) Last Name   UNICODE(64) Address1   UNICODE(64) Address2   UNICODE(64) Address3   UNICODE(64) City   UNICODE(64) State/Province/Region   Drop Down Country   Drop Down Language   Drop Down Zip/Postal Code   UNICODE(64)  char (10) Newsletter - checkbox The following are all PII and will be stored in the Xbox namespace (in UPS) Contact e-mail: text ?? Phone Number   text ?? Positive Test Cases: UNICODE(n) UNICODE characters in all language sets Empty N character field Drop Down: Each valid option (could multiply to thousands of cases, so we ll test 1 deep for each) Char(10) Valid DOB Negative Test Cases: UNICODE(n) n+1 UNICODE characters Unsupported UNICODE chars Char(10) UNICODE Characters Misformatted dates Non existent dates Non subscriber Personal Info + the following Gamer Tile   Image drop down Gamer Zone   Enumerated string value (drop down) Motto   UNICODE(22) Positive Test Cases: All valid  gamer tiles All valid gamer zones Valid motto Empty motto Negative Test Cases: Unsupported UNICODE chars Motto contains foul language Gamer tile not in list via URL hack Gamer zone not in list via URL hack Common Data to Xbox 1 and Xenon users Service Driven Data that is not user editable: Feedback Rating Gamer Cred Acheivements Previous Gamertag   15 char Last Date Gamertag changed   date of change Positive Test Cases: Load a user with each feedback rating (set in db) Load a user with 0 Cred Load a user with Max Cred Load a user with achievements Load a user without achievements Load a user with a previous gamertag Load a user without a previous gamertag Negative Test Cases: None, these are all data driven from the service Verify: All data is reflected accurately Fields load a max value and the data fits in the UI 15 char gamertag Max cred rating All achievements Previous gamertag change date of 12/31/1999 Xbox 1 Subscriber Non Subscriber + the following fields: Gamertag   15 char string Membership Tier   Silver or Gold Positive Test Cases: Load a user with a silver membership tier Load a user with a gold membership tier Negative Test Cases: None, they are all service data driven Xenon Subscriber Contains fields for 6.1.3 and 6.1.4 The Xenon subscriber test cases are a combination of the previous sections as the fields are a culmination of the previous sections.  No new fields are Xenon specific.  So the test cases must be run for both an Xbox 1 series of gamertags and a Xenon series of gamertags with the same states. Testing this will involve creating a series of user states that can be loaded on a page and verified.  These user states will be a matrix of the above types of users and cards.  Only positive test cases apply as the display is read only.  Account creation and profile management is covered in section 7, so the gamer profile will only read the data that is stored by Xbox.com in several places (MSN UPS, SCG, and the UODB). Account Creation Functional Tests Creating an account on the Xbox.com web site for the Xenon launch is a straight forward process flow diagram.  Each branch needs to be tested for positive and negative test cases to get to the end of all possible outcomes.  The test matrix should reflect an exploration of the variables at each branch in the process for creating all varieties of accounts including new and previously existing accounts with and without gamer tags.  Each path should also send reasonable feedback to the user whenever a failure occurs with instructions on how to proceed. Process Flow Tab order should be kept for all pages listed below.  Hot keys and space bar should activate buttons. Register / Sign-In A user coming to the site has a choice to sign in or register as a new user.  Both choices are presented to the user, so no cookie or storage device is used to preserve this state. Register This page has a  Register Now  button and a passport sign-in section. Positive Tests: Register Now Sign-In (Passport) Cancel Page This page has a Yes/No button. Positive Tests: Yes I want to quit -> Goes to page you were on before entering registration wizard. No, I d like to continue -> Goes back to page you came from No Cookies Page This page has an   button with messaging to enable your cookies Positive Tests:  closes the window. Live Subscriber or not? This page has one question: Are you a member of Xbox Live? Previous Cancel Positive Tests: No/Yes,  Previous  -> Section 7.1.3.1.1.1 (Xbox Passport Page) Yes ,  -> Section 7.1.3.1.1 (Subscriber -> Xbox or Xenon?) Cancel -> Section 7.13 Subscriber -> Xbox or Xenon? This page has one question: What console have you played on Xbox Live? Positive Tests: , Xbox -> 7.1.3.1.1.1 (Xbox Passport Page) , Xbox 2 -> Passport Sign-in(external, but framed) , Both -> Passport Sign-in(external, but framed) Previous Xbox Passport Page This page has one question: Do you have a Passport? Positive Tests: Previous  -> Create Passport screen (external, but framed) Yes ,  -> Passport Sign-In (external, but framed) Cancel -> Section 7.13 Gamertag Linking This uses the same gamertag linking page present in v7. Inputs: Gamertag, Name of CC Holder, Last 4 CC#, Phone Number, Postal Code Positive Tests: UNICODE char Names for CC Holder Valid values for a Xbox 1 user Valid values for a Xenon user Blank postal code for IRE and HK user Postal Code with Alpha Chars (Hong Kong) Find out postal code lengths for all regions Find out phone number lengths for all regions Negative Tests: Gamertag doesn t exist (include blank) Oversized gamertag (16+ chars) Gamertag with invalid chars/Unicode Name of CC Holder not correct (include blank) Oversized CC name Last 4 CC# incorrect (include blank) 5+ digits in last 4 CC# 1,2,3 digits in last 4 CC# Invalid phone number (include blank) Phone number too long Invalid Postal code (include blank) Postal code too long US over 5 Japan over 7 (no dashes) China over 6 Failed experience (negative cases) generate yellow sub page. Create your gamer card * Required field *Gamertag *Gamertile (drop down select) *Gamer Zone (drop down select) Motto (22 char max) Cancel Positive Tests: Gamertag doesn t exist (New User, gets gamertag) Valid Gamertag, Tile, Zone only Iterate each Tile, Zone (Genre and Game could make this *huge*) Unicode characters in motto Negative Tests: Gamertag doesn t exist -> (Existing user, should match) Gamertag too long Unicode/Special chars in Gamertag Motto too long Unicode/Special chars in motto Build your profile * Required field This is one of the more complicated pages with the following inputs: *First Name (include UNICODE) *Last Name (include UNIOCDE) *Country *Language *State/Province/Region   Drop Down based on Country  *Contact E-mail address Xbox.com Newsletter (checkbox) Cancel Positive Tests: Valid PII All valid drop downs DOB for a minor (18, 18-1 day, 18+1 day) DOB - valid Leap year All valid info (checked newsletter) All valid info (un-checked newsletter) Negative Tests: <Text Field> too long <Text Field> blank <Text Field> contains UNICODE <Text Field> contains spaces DOB Invalid Too large of a month/day/year Date in the future Month without that day (2/30) Non numeric characters Optional Information Favorite Genre (drop down) Favorite Game (drop down) Consoles Owned (n check boxes) E-mail Format (drop-down) Cancel Positive Tests: Negative Tests: Xenon User  > sign-in to Passport This goes to the passport sign-in page (external) Not a Subscriber Goes to expanded build your profile page (Section 7.1.2.1.1.1.5) Sign-In Sign-In uses the passport interface which we are not responsible for testing. In the UODB Now we check for a webId Test Cases: UnLinked Xbox 1 users -> Gamertag linking (Section 7.1.2.1.1.1.1) Linked Xbox 1 users -> create your gamer card (Section 7.1.2.1.1.1.2) Xenon user -> TOU User without a webID -> Create your gamer card (Section 7.1.2.1.1.1.2) Not in the UODB Now we check to see if you are an Xbox Live subscriber off your user PUID Xbox Subscriber Goes to gamertag linking page (Section 7.1.3.1.1.1.1) Not an Xbox Subscriber Goes to create a gamer card page (Section 7.1.3.1.1.1.2) Xbox.com Terms of Use Description: You must match your e-mail address that you submitted in your profile.  This does not have to be your passport e-mail address.  Yes gets you in. Positive Test Cases: Yes -> Confirmation Page (Section 7.1.6) Cancel -> Goes to Cancel Page (Section 7.1.3) Negative Test Cases: Confirmation Page Description: This is a No Op page with a   button, no brainier. Banned, Expired, Disabled Users Banned, expired, and disabled users have already gone through the account creation process.  The one area where these users could go through the process is if they were banned/expired/disabled on Xbox 1 and went to sign up as a new Xenon user.  We should catch this. Functional Test Case Implementation  Functional tests will use Web Runner to navigate the sign-in process for all possible user types.  User state will be set at the beginning of the test so that all of the starting states can be represented.  Each branch will test both directions in a successful and unsuccessful route where possible.  The Web Runner tests will be incorporated into a DLL consumable by the Server Test Framework. Performance / Stress Testing Since this feature is comprised of many parts of the web and service you can t do performance and stress testing on the entire process as a single entity.  The following components will be tested in a stress and performance capacity independently.  Which ever one is the slowest will be the bottleneck for the sign-in process. Web Rendering of HTML (very fast) UODB user lookup (slow, and we ll need to make this call for every web user.  This could be problematic.) Passport (we don t have any control over this, but it should be fast enough) Gamer tag linking (slow, but should only be done once per user) Profile data submission (should be fast, and done only once per user) MSN UPS (should be very fast) Failover The sign in feature relies on all of the components listed in the previous section, and if any of them fail, the user should have a reasonable experience.  The specific list is as follows and very similar to the stress points in section 7. Web server isn t available UODB not available Passport not available Xbox Live services (gamertag linking) not available Xbox.com db (profile data) not available MSN UPS (profile data) not available SPG (billing) not available In each of these cases the following must occur We handle time outs and service failures with a sensible message to the user When connectivity is restored, the pages function properly Tools Needed STF for functional and stress testing Web Runner Scripts to set up user state Hardware Requirements 1 client machine Test environment This is all currently available in Test Net Test Complete Criteria Test cases are developed and integrated into the Server Test Framework Test results successfully deploy to regDB Test pass completes with no unexplained failures. Failover scenario is acceptable Release Criteria {ph`hXTM gd~n; gd~n; gd~n; }y}y}ytltyey^ zuqmimb gd5~U gdl2  gd5~U {o{c\X\TL The M4 release bar is high since this feature needs to be closed by M5. All functional tests pass All Pri1 and pri2 bugs assigned to the account creation pages are closed. PAGE   PAGE
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\doc\xboxcom\M4\Xbox.com Live Cache Test Plan.doc ===
Microsoft Office Word Document MSWordDoc Word.Document.8Microsoft Corporation Xbox Alerts Widget Test Plan Title _PID_HLINKSXbox Alerts Widget Test Plan Dave and Caroline Normal.dot John S Blackman Microsoft Office Wordurn:schemas-microsoft-com:office:smarttags PersonName http://www.microsoft.com g.")~tEXtSoftware Microsoft Office cmPPJCmp0712 [IDATx (%O'S #es}2c% i4'-u;v ^F|s{ <Gzo5 xx'|  xx'>, jzu0{9 yi&J)3574027"  Table of Contents  PAGEREF _Toc103574027 \h   HYPERLINK \l "_Toc103574028"  Summary  PAGEREF _Toc103574028 \h   HYPERLINK \l "_Toc103574029"  Test Goals  PAGEREF _Toc103574029 \h   HYPERLINK \l "_Toc103574030"  Non-Test Goals  PAGEREF _Toc103574030 \h   HYPERLINK \l "_Toc103574031"  Related Documents  PAGEREF _Toc103574031 \h   HYPERLINK \l "_Toc103574032"  Functional Tests  PAGEREF _Toc103574032 \h   HYPERLINK \l "_Toc103574033"  Supported Front door requests  PAGEREF _Toc103574033 \h   HYPERLINK \l "_Toc103574034"  6.1.1 Exclusionary Tests around to/From (Removed)  PAGEREF _Toc103574034 \h   HYPERLINK \l "_Toc103574035"  6.1.2 Generic Tests that apply to all XRLs  PAGEREF _Toc103574035 \h   HYPERLINK \l "_Toc103574036"  6.1.3 Partition Tests  PAGEREF _Toc103574036 \h   HYPERLINK \l "_Toc103574037"  6.1.4 Cache Flush  PAGEREF _Toc103574037 \h   HYPERLINK \l "_Toc103574038"  6.1.5 Config Flush  PAGEREF _Toc103574038 \h   HYPERLINK \l "_Toc103574039"  CMS Caching  PAGEREF _Toc103574039 \h   HYPERLINK \l "_Toc103574040"  6.2.1 Publish Me  PAGEREF _Toc103574040 \h   HYPERLINK \l "_Toc103574041"  Functional Test Case Implementation  PAGEREF _Toc103574041 \h   HYPERLINK \l "_Toc103574042"  Performance Testing  PAGEREF _Toc103574042 \h   HYPERLINK \l "_Toc103574043"  Stress Tests  PAGEREF _Toc103574043 \h   HYPERLINK \l "_Toc103574044"  Failover  PAGEREF _Toc103574044 \h   HYPERLINK \l "_Toc103574045"  Tools Needed  PAGEREF _Toc103574045 \h   HYPERLINK \l "_Toc103574046"  Hardware Requirements  PAGEREF _Toc103574046 \h   HYPERLINK \l "_Toc103574047"  Test Complete Criteria  PAGEREF _Toc103574047 \h   HYPERLINK \l "_Toc103574048"  Release Criteria  PAGEREF _Toc103574048 \h  Summary In the Xenon timeframe, Xbox.com will implement a cache layer between its web servers and the Live Service.  This cache layer will provide throttling to the service and faster data access to the web servers.  It will act as a virtual front door to the Xbox.com Web servers.  It will accept requests just like the front doors in the live service would, but it will make decisions on what to cache and decide whether or not to make the real request or return a cached entry.  Each cache entry will be hashed on the complete request.  Cached items can be invalidated by user only, at a later time they may be invalidated by title or service id.  This layer provides performance, scalability, and throttling to the Web services giving us greater control over the site and adding robustness to the site s access to live service data.  This test plan will outline how this component will be tested functionally, for performance, and failover. Architecture Diagram  INCLUDEPICTURE "cid:image001.gif@01C4C030.FDF52080" \* MERGEFORMATINET  Test Goals The tests in this plan will: Confirm that each API call submits and returns correct data Test overflow conditions Verify that failures are handled gracefully by resulting in an exception and leaving the dataset intact Establish performance and stress benchmarks Test memory stability Ensure cache partitioning Outline failover scenarios CMS caching scenarios Non-Test Goals This test plan does not test: Front door functionality that provides data to the cache layer. Web Server implementation of the Web Cache Layer Caching done on the Xbox.Com Web Servers (MSIBXXX) Dynamic partition changes Related Documents Refer to the following documents for more detailed information about cache integration. Executive Plan  HYPERLINK "http://team/sites/xbxe/Shared%20Documents/Developer/Xbox.com%20Integration.doc" \o "http://team/sites/xbxe/Shared%20Documents/Developer/Xbox.com%20Integration.doc"  http://team/sites/xbxe/Shared%20Documents/Developer/Xbox.com%20Integration.doc Dev Spec  HYPERLINK "\\\\xonline\\private\\doc\\xboxcom\\Xbox.com"  \\xonline\private\doc\xboxcom\Xbox.com  Live Cache Dev Spec.doc Functional Tests The Xbox.Com caching layer works by acting as a virtual front door for all service side requests.  XRLs that would normally go to the live service front doors to fetch service data will go to the web caching layer in the same format.  These requests will only come from Xbox.com web servers.  The caching layer decides whether it should serve up cached data or send the request through to the real front doors at which point it would fetch a fresh server copy of the data and potentially cache it as well. It stores data by using the .NET cache object.  The data set that is returned by a request is stored in a cache object where it is returned to the Xbox.com IIS servers instead of making additional calls to the live service front doors. The lifetime of each datagram is dependent upon the XRL, so some objects may live longer than others based on settings in the database.  Each of these XRLs can only be processed at a maximum TPS which is also set in the database.  Logic exists in the cache to throw away requests that come in faster than the configured value. Items are removed from the cache after they expire or when the cache comes under memory pressure at which point items in the cache have their lifetimes reduced as memory becomes more scarce. Each datagram is stored in the cache based on a hash of the request payload from the XRL request.  This is the PostData in the LiveCacheRequest class on the next page. This way if duplicate requests arrive the cache can hand the web servers the answer without having to make a front door request.  So the first time a request is made, a key is generated based on the payload in the XRL request.  The reply from the front door is stored in the cache with the key based on the hash of the request paload (XRL excluded). Each API has the following properties in the config DB:     vc_XRL  nvarchar(128)  not null,  i_key_byterange_to  not null,  i_key_byterange_from  not null,  i_duration  not null,  i_max_reqs_per_sec  not null,  b_allow_anonymous_access  not null,  dt_change_datetime  datetime  not null vc_XRL is simply the string that represents the request to the real front door. The key_byterange functionality has been removed. The key_byterange_to and key_byterange_from values set the beginning and end of an offset range into the PostData to exclude from generating a key for indexing the value in the cache.  For example if the following data represents the PostData in a LiveCacheRequest the   value of 5 and a from value of   the hash key would be generated from the bytes that are blue. 01 3D 44 02 00 9C 01 00 34 B1 00 42 01 00 00 5C D2  value should never be greater than the from value.  Currently no XRLs will use this feature but it is present for future use.  It will still be tested in the M2 timeframe even if it is used later. i_duration is the time in seconds that a request is cached. i_max_reqs_per_sec is the threshold at which requests are dropped by the XBLcache. b_allow_anonymous_access determines whether a linked gamertag can make this XRL request. Each API is requested via this protocol. public LivecacheRequest(                 ulong requestingUserId,                 LcserviceId lcserviceId,                 XRLObject2 request2                 )             : this(requestingUserId, lcserviceId, request2, null, null) public LivecacheRequest(             ulong requestingUserId,             LcserviceId lcserviceId,             XRLObject2 request2,             LivecacheDependency dependency,             LivecacheDependency invalidation            )         : base() Error Handling: There are three different ways to handle an error returned from the caching service. A non 200 response would indicate that an improper URL request was made.  This error code would come from the cache and may represent a bubbled up front door error or a cache error. An exception is thrown on the caching server which logs an event. The body of the reply contains some error information Supported Front door requests The cache layer will support the following URL requests that will be forwarded onto the Live Service front door counterpart. All of the Front Door tests should work against the Xbox Live Web cache transparently.  This will be a great basis of operation to see if the cache is working on a functional level.  These are the supported URLs.  The cache is however URL indifferent and only caches front door responses based on the hash of the request post data, so the URL shouldn t affect the performance or functionality of the cache outside of the different type of data that is returned to it. API Name Object Dev Contact GetFriends /xpnfront/GetFriends.srf No implementation phanson EnumerateMessages /xpnfront/xmessaging.srf EnumerateMessage2Msg:XRLObject2 phanson LinkWebAccount /xuacs/linkwebaccount.ashx LinkWebAccountRequest : XRLObject2 dcaiafa XUserReadProfileSetting /xstats/readsettings.ashx ReadSettingsRequest:XRLObject2 slamb EnumTitlesRequest /xstats/enumtitles.ashx EnumTitlesRequest : XRLObject2 slamb AcheivementEnumRequest /xstats/xachievementenum.ashx AchievementEnumRequest : XRLObject2 slamb ReserveName /xuacs/reservename.ashx No implementation dcaiafa SyncSettingsRequest /xstats/syncsettings.ashx SyncSettingsRequest : XRLObject2 slamb ReadSettingsRequest /xstats/readsettings.ashx ReadSettingsRequest : XRLObject2 slamb XStringVerify No implementation phanson CreateXboxComAccountRequest /xuacs/createowneracct.ashx CreateXboxComAccountRequest : XRLObject2 dcaiafa CreateLiveAccountRequest /xuacs/XeCreateLiveAccount.ashx CreateLiveAccountRequest : XRLObject2 dcaiafa Exclusionary Tests around to/From (Removed) The following tests are based on using a legitimate request with a request payload of positive length. Positive Test Cases: To == From Both 0 Both < 0 Both the last byte of the request Both some byte between 0 and the last To is < From To = 0, From = Last Byte (completely exclusionary) To = 0, From < Last Byte To > 0, From < Last Byte To > 0, From = Last Byte Negative Test Cases: To == From To and From are both > last byte To and From are both < 0 To < From To is the last byte, From > last byte To > Last Byte, From > To To < 0 From < 0 To > From both are less than the last byte From = 0, To is less than the last byte and > 0 To > Last Byte, From == Last Byte To and From are > Last Byte, To is still > From To < 0 From < 0 Generic Tests that apply to all XRLs Description: All XRLs will be subject to the following tests which are fundamental to any item that is cached. Positive Test Cases: Make a second identical request => verify cache hit Linked account, allow anonymous access set to 0 -> should pass Linked account, allow anonymous access set to 1 -> should pass Unlinked account, allow anonymous access set to 0 -> should fail Unlinked account, allow anonymous access set to 1 -> should pass Request at time 0 -> should cache hit at time duration-1 -> should cache hit at time duration -> should cause a cache miss Request making MAXTPS -> should pass Request making MAXTPS+1 -> should fail Valid LiveCacheRequest structure Valid LivecacheDependency structure, 1, 100 userIds all valid Cache a set of requests for user A and user B Make a request dependent upon user A request Change a page that contains that dependency (user A s friends list) => verify cache miss for all user A pages Repeat test for multiple users Make a request that invalidates user B => Verify cache miss for all user B pages Repeat test for multiple users Negative Test Cases: Given a valid request, change each part that makes up the hash value and ensure a cache miss. userId titleId livecache service id base64-encoded request object For LivecacheDependency, use a userId that doesn t exist. Send a LivecacheDependency with no userIds Send a LivecacheDependency with a mix of valid and invalid userIds Extend the 2nd request (payload longer than length)   negated by WireData Shorten the 2nd request (payload shorter than length)   negated by WireData Invalid TitleId Non-Live TitleId   we don t check non live titleIDs Invalid UserId XRL length mismatch (>, <)   negated by WireData Invalid Service id (0, 42, -1) Invalid XRL Valid XRL with bad data Null XRL AuthDataLength mismatch (>, <)    negated by WireData Invalid AuthData Null AuthData PostData length mismatch (>, <)    negated by WireData Null PostData Key_byterange_to = 0 Key_byterange_From = 0 Key_byterange_to = Key_byterange_from Key_byterange_from < key_byterange_to Partition Tests Description: Live cache requests will partition themselves across all of the live.xbox.com servers based on the hash of a request which will be made up of the user id, service id, title id, and post data in the XRL request.  Identical requests should always go to the same server, but any given user may have cached entries on many servers.  Certain calls will invalidate a users cacheable items which propagates a broadcast to all partitions to delete cache entries with a specific userId.  Calls that can do this are: Positive Test Cases: Test each API for a range of requests that touch each live cache server. For n servers, use a set of n requests that all hash to a different server Verify a cache hit on successive requests. Vary each of the following from a base test and verify a cache miss: service id user id XRL request Invalidate a user s cache entries with a user update (profile) - Verify all previous cache requests now yield a cache miss Negative Test Cases: Make a service request without using the Xbox.com titleId => should fail Cache Flush Description: Xmanagement command empties all data in the cache without performing an IIS reset. Positive Test Cases: Empty the cache, then run all positive test cases.  They should all be cache misses. Empty the cache twice -> second flush should succeed without error. Cache flush in the middle of stress Config Flush Description: Empties all of the config data loaded from the config database.  This will be reloaded on the next request Positive Test Cases: Config flush and run positive test cases.  They should all succeed. Config flush in the middle of stress Config flush the cache twice -> second flush should succeed without error. Negative Test Cases: Config flush when the db is not available. -> should throw a polite error when the db is not available. CMS Caching The CMS cache can now be set per page per user, and can be invalidated as soon as a given page is published again.  Cached CMS pages invalidate on the following factors: Published version immediately invalidates Dependent is published (can be a fragment or any change in a specific channel) Publish Me Description: When pages are published, their cached variants should be invalidated.  There are dependency rules that apply to this as well.  Pages with dependence are invalidated when their dependent is invalidated.  That dependence can be a web fragment or any change to a posting in a channel.  Pages are cached based on locale, passport status (signed in/out), and three browser states (Down level, IE 5+, and Non-IE up-level (firefox)) Test Cases (Positive and Negative mix): Any POST => cache miss Publish a page => cache miss Update a page => cache miss Wait the CMS timeout => cache miss Request the same page with all three browser states, signed in, locale A => cache miss Request the same page with all three browser states, signed out, locale A => cache miss Request the same page with all three browser states, signed in, locale B => cache miss Request the same page with all three browser states, signed out, locale B => cache miss Update a posting in a channel => cache miss for page that has said channel dependency Update a fragment that has-a posting dependency => cache miss Subsequent request for each test in the above list => cache hit Subsequent request for each test in the above with any query string parameters => cache hit Verify: HTTP response headers are valid [Cache] Date: Should be date between Expires and Last-Modified [Cache] Expires: Should be the TTL value after the first cache miss [Entity] Last-Modified: Should be the time of the cache miss Functional Test Case Implementation  Functional tests will consist of making an HTTP request to the web cache layer the same way the Xbox.com web site will.  All of these requests will be run from STF.  The livecache.dll which is a component that lives on the web cache machines will decide if the request is cached.  If a cache miss occurs the request will pass through to the service front doors as if it were being made by an ordinary client. Performance Testing Performance testing will consist of running each API in singularity and in combination with other APIs to see how performance of parallel requests affects overall speed.  Performance ultimately boils down to how fast the real service front doors perform.  The cache itself will likely be very fast, so to test its performance, cache hit requests with long lifetimes will ensure the cache gets a workout.  Each API request shouldn t differ since all of them are external SOAP calls.  The differentiating factors for the cache are going to be request length and payload size for a given cached object. Payload Size: 1 kbyte 10 kbytes 100 kbytes Request Length: 10 bytes 100 bytes 1000 bytes Questions: What is the maximum request size and payload size for the cache? The cache is API indifferent.  It doesn t know the difference between any type of XRL request, only the key generated from the POST data.  A two dimensional model can be constructed to see how performance is affected as the payload size and request length vary.  This will illuminate how fast we can reasonably ask for cached information.  Otherwise the gating factor will be how quickly the service front doors can reply. The key API that will be the center of our performance investigation will be XUserReadProfileSetting.  This will be used to fetch data for the external gamercard.  It is a stats front door call.  We need to determine the following watermarks to come up with a good plan of action. Maximum theoretical TPS 100% cache hit Maximum theoretical TPS 100% cache miss What impact on the service will the cache miss rate have? What should our maximum TPS throttle be? How many gamercards (XUserReadProfileSetting replies) can we cache at one time on the server with all other processes running at maximum memory utilization? What is the maximum user count for the end of life for the service?  10M? Stress Tests Stress testing is about making it break.  Stress testing will involve running the cache as fast as the server can handle, generating timeouts, and even server failure.  The goal of stress testing is to determine at what speed the system will either peak its performance or start to break in any way (timeout, failure, mismatched data).  This testing will determine our ceilings and when we should set off alarms for Operations to take action based on impending failures should the stress reach  breaking  levels. 25 byte payloads using multiple clients to achieve 99%+ CPU utilization on the caching server 100 byte payloads using multiple clients to achieve 99%+ CPU utilization on the caching server 1000 byte payloads using multiple clients to achieve 99%+ CPU utilization on the caching server Each of the above request types should generate enough cache misses to fill the working set for the XBLCache so that it experiences memory pressure. Areas to check for malfunction: Request latency Cache failures Cache Server errors Cache Server collapse Cache Server memory footprint over 72 hours. Cache Server connection leak Cache Server memory fragmentation At what point does the process reset itself? Does the server successfully recover from stress after it has stopped? Failover Since the Xbox Live Cache is made up of several partitioned machines, it can fail in pieces instead of as a whole.  The following scenarios cover how the system will hold up to partial and complete failures. A front door is not available Some front doors are not available No front doors are available 1 of N Xbox Live caches fails or is unavailable < N of N live caches fail or are unavailable All N live caches fail or are unavailable SQL configuration databases are unavailable Update occurs In each of these cases the following must occur When connectivity is restored, the cache is still functional Q: When do we reload the cache? Even with partial resources not available, the cache returns stale data and throws an error. If the config is loaded, not having the config db available is not catastrophic. Requests to failed servers timeout; they return a 500 to the Xbox.com web servers.  No automatic repartitioning will take place. Any updates to the config database can be reloaded without restarting the cache. Tools Needed Scripts to populate the cache with pre-existing state data STF for functional and stress testing Hardware Requirements 2 Caching servers 1 Config server At least 1 Web Server At least one client machine for testing This is all currently available in Test Net Test Complete Criteria Test cases are developed and integrated into the Server Test Framework Test pass completes with no unexplained failures. BVT tests pass regularly Performance levels meet or exceed projected load Failover scenario is acceptable Release Criteria The caching server survives a 72 hour testing without a memory leak or change in performance. All functional tests pass at the end of the 72 hours All Pri1 and pri2 bugs assigned to the Xbox.com caching service and/or API are closed. PAGE   b[TPLHDH@L zne_eRe qgZQZ gdj6X gdj6X ~r~f~f~Z gd)R' ld_l[l gdd@y gdAoR gdqBP gdAoR gdd@y wnwnw PAGE
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\doc\xboxcom\M4\Xbox.com Friends List Test Plan.doc ===
Microsoft Office Word Document MSWordDoc Word.Document.8Microsoft Corporation Xbox Alerts Widget Test Plan Title _PID_HLINKS Document Description Type of Document Status Date Created Xbox.com Account Creation and Profile Test Plan Feature Spec final 2005-02-21T00:00:00ZXbox Alerts Widget Test Plan Dave and Caroline Normal John S Blackman Microsoft Office Wordurn:schemas-microsoft-com:office:smarttags urn:schemas-microsoft-com:office:smarttags place g.")~Table of Contents  PAGEREF _Toc103066705 \h   HYPERLINK \l "_Toc103066706"  Summary  PAGEREF _Toc103066706 \h   HYPERLINK \l "_Toc103066707"  Test Goals  PAGEREF _Toc103066707 \h   HYPERLINK \l "_Toc103066708"  Non-Test Goals  PAGEREF _Toc103066708 \h   HYPERLINK \l "_Toc103066709"  Related Documents  PAGEREF _Toc103066709 \h   HYPERLINK \l "_Toc103066710"  Messenger Tab Functional Tests  PAGEREF _Toc103066710 \h   HYPERLINK \l "_Toc103066711"  List Matrix  PAGEREF _Toc103066711 \h   HYPERLINK \l "_Toc103066712"  Functional Test Case Implementation  PAGEREF _Toc103066712 \h   HYPERLINK \l "_Toc103066713"  Performance / Stress Testing  PAGEREF _Toc103066713 \h   HYPERLINK \l "_Toc103066714"  Failover  PAGEREF _Toc103066714 \h   HYPERLINK \l "_Toc103066715"  Tools Needed  PAGEREF _Toc103066715 \h   HYPERLINK \l "_Toc103066716"  Hardware Requirements  PAGEREF _Toc103066716 \h   HYPERLINK \l "_Toc103066717"  Test Complete Criteria  PAGEREF _Toc103066717 \h   HYPERLINK \l "_Toc103066718"  Release Criteria  PAGEREF _Toc103066718 \h  Summary The Xbox.com friends list will be an I-framed page that will display a merger of two front door API calls.  One call will retrieve the friends list and their state.  The second call will retrieve the message list for a given user.  These two lists are merged and sorted into a single web page.  This data is cached per user on an interval at the service layer.  Currently this interval is set to 2 minutes. Test Goals The tests in this plan will: Run through the full state machine for each list type Xbox1, Xbox2, friends (iterative list), messages (iterative list) Verify that system outages are gracefully reflected Passport Presence Messaging XBOS (TitleID lookup) XCache (gamertag lookup) Non-Test Goals This test plan does not test: API testing of the front door calls Console presence, messaging, XBOS, XCache Passport Related Documents Refer to the following documents for more detailed information about account creation. PM Spec  HYPERLINK "http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20-%20Friends.doc"  http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20-%20Friends.doc Friends Visio Diagram  HYPERLINK "http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20Friends.vsd"  http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20Friends.vsd Friends List / Messages Functional Tests The messenger tab tests will consist of a series of users, each one of which will contain a different friend/message state.  Here is the list of all possible friend and message states. Friends: 0 to 100 friends Online playing x Offline Messages: 0 to x messages Friend Game Invite Team Invite Competition Invite Friend Invite Pending Friend Request List Matrix Each matrix can be run per culture as well which explodes this by 29 times. A friend must be online for a pending message (game, team, comp) to show up. This is an abbreviated version of the full test matrix, and it makes some concessions in order to keep the size manageable.  The friend online count is always three to accommodate permutations of each invite type. Friend Online Count Friend Offline Count Friend Invite [In] Friend Invite [Out] Friend Game Invites Waiting Friend Team Invite Waiting Friend Comp Invite Waiting Xbox 1 User Xbox 2  User Functional Test Case Implementation  Functional tests will use Web Runner to navigate to the friends page for each of the above users.  Those user states will be created ahead of time via script.  On each page, the test will verify for row count and friend names and order in the list.  Each of the test cases that explore the upper limit of the friends list should truncate to 100. Performance / Stress Testing This feature has three API calls to the service for many possible user states.  Each call will create a cache entry for that user.  To produce accurate stress new users will need to be asked for to induce a cache miss.  The permutations for the functional matrix combined with the stress parameters would make a matrix too large to test.  So instead performance testing will focus on making requests for  typical users  which have 11 friends and 1 message in their queue.  Since we expect significant growth here, the baseline for Xenon will be set to 20 friends and 10 messages.  Using this base user, server and cache performance will be measured at the following cache miss rates to determine server impact. 10%..50% Cache miss rate 100% Cache miss 0% Cache miss 5,000,000/num of cache servers = total cached users in each test This will yield best and worst case performance scenarios for any given cache setting.  The lifetime of the service maximum is planned for 5M users.  These will be partitioned across multiple cache servers.  We ll use this as a high end to work from for determining performance characteristics. API list: Friends call Messaging call XBOS call for titleID translation (only if a friend is playing a game, and one call per titleID (cached) Failover The messenger tab relies on the following servers, so if any of them are not present, there needs to be a graceful end-user result. Presence is not available Messaging is not available LiveCache is not available XBOS is not available Passport is not available XCache is not available In each of these cases the following must occur We handle time outs and service failures with a sensible message to the user When connectivity is restored, the pages function properly Tools Needed STF for functional and stress testing Web Runner Scripts to set up user state Hardware Requirements 1 client machine Test environment This is all currently available in Test Net Test Complete Criteria Test cases are developed and integrated into the Server Test Framework Test pass completes with no unexplained failures. Failover scenario is acceptable Release Criteria This feature must be completely done by the end of M4 and is highly service integrated, so the bar is high. All functional tests pass. All Pri1 and pri2 bugs assigned to the friends list are closed.  All service related bugs must be fixed in M4. PAGE   PAGE   h{h{dw` uiZiDu B>:6: gd~n%
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\doc\xboxcom\M4\Xbox.com Age Gate Test Plan.doc ===
Microsoft Office Word Document MSWordDoc Word.Document.8Microsoft Corporation Xbox Skinning Test Plan Title _PID_HLINKS Document Description Type of Document Date Created Status Preliminary Skinning Test plan Feature Spec 2005-04-20T00:00:00Z rough draftXbox Skinning Test Plan Dave Ulm Normal.dot davidulm Microsoft Office Wordurn:schemas-microsoft-com:office:smarttags country-region urn:schemas-microsoft-com:office:smarttags placeW|u5Kki{ ae@(S 7r/+K  A~dTEm# cYcRR)S 65ow4? "C[T  fQ(,zQx FxEeE a-kEo 8A`hy HL1|T @KHk9- H]nx~ Oa&+K 2"Rs0 a_K.^w $6;i" by~SENog ePIDATx^ 6Vl%9z j*gXOH CO7yb '~B3Y &'M~. 9QiLZ <W!c4uU ~2J&$ )CLp_ 6it(U sL^ON QR+ r qQd)v )h:-)D R+_F:- mW9M6 oKg_; B}9V9 <=<$o &G%ke 3MGN4<<: 5*G'0P ktQ&` AG71u g}WCgj;^ ;OsUZ2 jTNLT aaQut %*'&h % 1c% V9cH: |9\E\N R}<7M SLZ1T 9E,pg uecbf ^*Gcg o9VSq6d "%7<| To{Qj 0jj6Jc*ZA q9*De "A!,b1y$ R8!rTl /G7*G zaV]8 0<a$f Cq9jX >GJHj ZDuL0!q ({V9r l3veii` ,,4bmG :+Jvh ,}+PUe MSkC@ 5F_TW P3QWv R,3lz 0N+:D1 .ewEXY *f"?+ Q!Gb[ _P].v SjMrO-KO Nxa'; /tL<\7M  ktxB caQuQ _xkt0 ?55F[ A@@.? h&f_t `PLHIg 3MMSWQ *^l},l rh*7Lf R+q$b Kn)<2 I."]$ qPq`g CFMrij "oa^{ U\!nB SZZ=.{t h2Hj& (_a*y wvLwT_ yDQy' Pi:I1 oM_TY IasnB =_0'[I SO=5K +L*TK ;A1 q }9jv! "VW_]x Ga.Zv )F4 n UE!-1 >&>Wk jR6\Z j$r48 >iu:}aKL 'ArXL V9~3L &ngEEM dd'a% *4gd34X ?XhSs m$hO3 *gM:z 3T}X- @5tWO ZwmiE!} gcIDATx^ I@*g> 6Z8&;G TN]OP $Nl'T W^y%f @>ZCH r ql9 %@`QW OEuU- SO{?, Byl;A G"z tv ^zi25 lrsP(  hl{: EUuQ8 h! 6o APK|\ p.))MXHI M,5bc dShL,S <TWBa E]#T9, 1~lNNW kTQ"  X{cWMS `aQ<:R WH9u/N 5BY*g vR9c}?U i=e33!U SBIiD@ &b,\7v \nKc" SARYD@ */ebM (b`'b =#5XH YrQi!c2Kk9R9% HB!v2( h)LB/ D O`% = m3& vJ..wBF !2T6p eS~`N o(xc2 2ssqQ ycsXDde *V6<( B2*'(<ni h5>x{ iW_}5 2K66YZk ,I`}T V|6l2 o-r9p c17&n XQ9&t 7;3ue a.PHM+ &n`I  )q`O\x ="PM` WsD`5 ?Q>oP 8A~AG 3~u[pd !\>8x d3KzAiD@ bYBl[l SZ\=N{x ~evZi|b%P Xi\&f *D^{K VTa;A6 AT3&hx fs zxf A9cm] GeXIw XnF'D dI!J# Ihq!VT rPq2b BiBad uX(*. K`%.' tP9t~ (b(>(qX *d6[9 7k!q b $nQ&K 2}R0A lpq1< `^xq> 'hR0Mu U@@*g |C|[2 ),<hl AuqQq If)A]mdI &Hv_] &_c2K+ ){</PRZ I{2H3 ^e/&  VXW`ay H@*G/ @xhe2A U!"0U 4]iE@ ?lJ wN i2()S TN5:e TN5:e TN5:e TN5:e TN5:e TN5:e TN5:e TN5:e TN5:e TN5:e TN5:e 3i%FS `YRTf {TX~y[8_S kEaN  Kxx>*A &@@*g CWbJ/ &.6YQ IDATx^ vLCBB ku;i +8 \.s<| 255599y ipQqPq6 ._\kf z"ZKF ZPb . lD2$9xf ;:7=5;5U. ObuZ@9 ^.BDIe (!4b0 "5GkPz }3s3GO :H>a_ TtkzK]!. `.!GO u~(*H }`(9: Jn;e9I, p>E%5q. v`?^( <2?k5 '_E 4q1B 0UL)_% {DzUp j)w]P NO8XcC D'`_G !(:BK f7Gk-B P{b6a H)a_k 7a9<b0 +Sqk~S 'LktGU h%IZxkf i=k)g $`2$, ]Dq8B I7w_t ?Gc6- jPH?Qj )(_LmDb bB<8AA @rT)XUD % Gb* uhivkI` <U>dGZ p\n)Z eGjYx U#]Gv xm@GT p"cTv ."Eh)M b6:.' =XeB4( $KV1l z`GUv r4x?6 (=C.!iE -yW+oFK c_eta H1IBL 6aCLG qO=,9 W1k\f yJ'f& D~"e6 gE_%81 fR2 U4F 7~aQnDc D1Fb6 D$On& CwiOn T)U+} %&'*# Qi0"[ 3(XA3 f0\"mF dT\X- b!7>~ vlf674< w[N-L eqht~g vvb&Rw |&Em(5 cxhx0 pPRO) Tj&?w D.{(V s>)2A +9B^7, D#Bq\ QZ&N&T tmlC! YTxvXH QzT8s 2C`UM @e 7j ExR*504 ~hxh= jEssy. KfR#c MM+LX r\nv=X8s Na.W. Oe_KeAqQ` uAA;" 3HyO\ dhAM6OkD %HG0- P/&&& @3nJK gJ!/>wI Gb$|*r 8)O0! FeoD; nT+sS Ue\nS b6h#0 MLM0QfGx Q)<O5 [s\K4 _K%Ht b8kDA <DR}<% 'qJAH\ J-*L' (DW](t -QQ^g 1bjdt3Y _|qzr2 5==8kl z[t?af DLCm9 C`U"` ZV?$6XC`  cHRM    %%%<<<0<$# *AQ1QQQ@@@Oc;]tFO zcccttt IDATx a$MG0I 8;PHI iX>7-{ %!'/; -h*w| USN|: h_SO? Q1P!- `\ki< }:q\| \hVb` L$HY- ado#} oi^6ML {YmX} T?!/W "Qb<F`,T gd$*`L 4sj(-A] 41>kh <M <I g\)6Z n^Vwr e2GwU fn3^3} IDATx^ $I]_! W+E?a [V3RSWj AIQ'p }pH_&-h [ PIj oUX?G ~8)!u4 Li+UO 3::\, =[t[n qLLHu/ 5)+:n akBJNz5 ux"5]  d[an> 72IQ:TH NCQ%M mn8s" 4kZM# p*g*v4 |lmJZ o=cld5 QMu+U>Rg T|rz:/ f0d~*p 3i{Vy OmZ=  \s_#a 7=||v >;13y| g"K_T '$jYe VME9(& ]e$kC ZH@S% %PuU*U8G!W P: QP X*!8n HP(;H \,6=Y ,V2kG %'f5LU O@"lMP d<9=; Cxz__ MWjz1 HgXB#(K <b+.pd 5l`3: E!kCT" $`/RT aoAIV C*& E Cq++;v /dKdl p.Ye- Z-WT9 ,AVcU (!+#tkX :tc)Al .a@9Qu Pr4f" Rbu^WJp /e03i Pa^f) wSXh*o0W g9|i1 S3?A# M^>:=t +5OC} 7hD(.,( ,lnKBT Yz;BK f78<@.b W,j{N ipN>R z&v]Uh? dzkIb HH0AX L$jYZ8 a*"Cd; Jjywn 8o_*# M$Z=, $UYW"&, $F<@P [_C3Y/hz #k)2` *ZAVl b;DUX aDsbB\J Zs>l+ [N\ j _12267[<t 0M[Xd@Hb Q@86X %1asB 7~U1D #7+u' ]wBB\r Thk4U p{R5/ nm+]B P*5,w qkrn\S B/aD&pII )\@v_ DK~f& 8(5%3 $8xkA Jd5S* IT%i74S>0 dZb\^ dRsss_ Y\[wA 'OK%s q5[]?t s=9UW 8"a}@~ ROWui Z!E2\d o[6tW-' FB0T3tA@ ~lN7:6 m. ;$ E"fdz<| C_8<y` U})=c gn}wnT~ /NMNd $cF4&m}ZM7= _f)HUh8.B _aWgv  =WBngl\ T6R:.Vh a3),j /Y6Kr yB>A& sCO_b O=8Yx "tENNAlM 85;^o -uy_Oj @DbppxMF\  \sn,5 X<?.o :wCKQP %`wQ, |nhs} n:uda vlP)E V}B%r% e%@&kW 25c/_ FlFQG ytRG{ m;:I12 EA~&Xz` zGgryLs ;t{bH P!ef" Y333D 89x}a ,GHth k,=</d (YNU+ 0wl8sZH ^=zqJ C6wp$ '-Mmk ^b_[>p>u X0I8Nd _}y<e v=8OO `Spjp f%?hz \!.%Q Tb1l0 ^>La@ /b%mE=)A *&49i 9j\M{ 8;]FB y5@!Fw XuAUb L:AwQ E+p+N J=$Ax{x %QPhK  QghLh $bY^} DL$Z' fv9\) K~;1V ^q8C1 S4jGcMm )|br>pR9 Z:a6z e;K=j 1Oc?] m}U*YU L&_-C8A )Mg^j gZUKb  zhm.{R m"} -V KN\I` nnitXg AL#;E g7enC1( S9@ayf BGvcX 2BIJO *|qR~ )f[h-z ICGjhd 3<+wv s4XApu 5(;nK0 ,h\3rj> tGw'L B IK3 _xx#SK vktKyr[% q9%1a|,M gmhL { ?d6S! _xklIM v;by4 hCg N S@MZf c7au- _j+UJ TW_/{ W.=hNr CIiC|UUk phMF389L D=##v iK3=i ;`ih+{ %3viR OjG7a +BifG U3B%# e@'oz "K(8' ^R2(O^ Sw\KK |9b&i3z# $38^  TD?Cg [A2%f 9rb ? CT.Fu 9=+A! }n06_ N&hEc d*9wT o!ZU* RsU-T,h zH&l| k@IjM ?ZRU5 b#"+r j@3 8 eSoPU C9yNX fWwGoo GF^|q \U3#i& kAHSU~ !8(N] "|  |B L;"JMq UG<'H (H3M1l uNKdv |D,V  ?blc7r 8iO I% !VPd1 Ub>f"` VC%h< GcJ>? w?^|( 7ZB@^D$p N3HSHb. l%p;y/ -xQp6&0b .Y0$7 &4z|| .LNBd IDAT[ BJtjX ,Z54Jf< ws|]vhJ- PHeJb ,14") cCBiRaB v 5}\L TTM1n ABoqS JMNX! ])0tz b-T##l 25ZS) ,RTY^6 rKU)cpN 4m{l!Z !'SVilX TG*lG `QzlMTA'Y #PBt!_Ou  _`u$ l+l^b P5;`%-1 1<D ' /F1X/a G5>-29 o&Y,O ;6yvYW C4.0c J"Sg& F9r,) @` ]A]q{M >Ek1:d5|tZ 01VMfe LHXlu RlH@%b eg(A{ C),]* |yEJo =oa6- -kkBr 9Q:oT 7R*(B s.<I} dX9{+? cL-<& P}TAA=_ ;@Q36j r@-(C (CU-Q P-6,xF, }nJ7'B@9v `iX'R jw)T, pH4-_ f~JZL  `F@H npCp: M{5C^ u5o;:D |h~g]8 udP5' v(:Nz 0z""!2- ~0[[g /Pa!2 2Rt2W  1b1s ocH|v l)@yD a(LrrE dXR[l %jNW*O 3\d7b zc5Ni :J8!$ ZAj/Y AO2rW^{u "gW`B`0 %n[26 3j,B" :2YdB oM#:'' Q}2/: \$9,: Kti[T ?}^a= }..)a $1byc j L+  }+*^DX Lz8\j =zlx" |78'D Ix HR m T`OLNe aC&Hi 8r( \ ddD>o +KKCb {Sz!* !B#"j! w1n3u+ |X<-`"[ z(-I) :tkl. xcH}) H Pv2 $wH88r AGptGH IUJnK d"?$_ pC6R@a 8!8Y6^] `;|Gp `Y"9=< xJ {KJ _Mh@d hO3\- "g'rJ# v{3s' ZAZ@9 +re,* DR4J# .z"bF+P `-IhU5i( zJNCl !|3$( !%I3& si`PY I:=]" P`#pDp  ZLRTH (Ol.} D6dCo m"1 S iB&l$ Lx%91 S@NDnQ k|$|8 #-s[- X `"St`5D L$,<nL oxJ]u L@i@K F0^@# p/$5&`" WFv$W zs99* ~YP5E DF7rZ ZA.3f 3BQmm (UZ@/ .B9h3 @3rh'  3\5l h{k{[k [;. ) _|1%%& zSQ@0 (+:YMq "DLu#v `I-Bdc ;!!B3 YtY-& 4>,k8I ic&9<~ MG8CP ku=4) 6,-h  rxA`\ DeR^9 0cj_z\ 0U__- CF7h@ Q&9b4H &a,V1 \Ip'0 IXpC-@' Jt%qN Wp=u9 A7(nl 5{ldV P[t"iCbz@. :^+`J4 XQq#: on"a& G|p+ql &]`Ma b9[ba $Aco=3 ivF]U @"Aq9 <R*3;7ip $xk!5 l$#v1z" )a<Iy n20.! 2{8F# ]PH%( =/;9A k!Q,7 $w(dd D}Bi@ s S0x '6;3T eL!2! m (]q @]I/r< Zn<3, jb'|* Q&j24 p-ee1O a39G# 8#W-xGq mKfT? 0Z2p(zz l}Hl^ o ef$bh xD9,%5 !#&LYg X ,x> wBV9Y &S|%% b!%^Z Neyv0 \._sy :}M86 rghAb }w/f): M#4_=rO 2=g~rv `R0u2C mf9gO ''5c{ UnthH* ]Kkk^w caeJS4$ %&Ok_ 8-K*L7HH Gf]|I E&:3w ?DCubm X?+sk d!%K) Y@'(`, [$t7z mzA*Y! I6$iG< hg#FmOfx Iy&4r SnDdh/!Y zwS_b &(]$^ 3o(aN PpKEAk? .kjvrG #V/"+Ib^ %KYJ$ }!%Qj P+77l 0St8[ )WLiq qUYBoD KdjRYp"k !Mp!a bGdYp <eUolN ~K+L(| kN3BJ 3wZm< 6;*p!V `1ScB$ ,NmAp &x/`) X2[Qj +:&:-v aZYD$# )<(/6(G F8iNjz\,2o  %L?h f9ajx A-5!* ?C&$N ?(B^E ]:Q/*x J,*AA {U=RJt VZL7* y *AB vcYNh *PTJ* 5"%qY jyh UH"$D l:@EY cU"!> "djb:C  QH $? rkYmrl b/%NE zbbFI BIa0E {Y|BvG HKe`z yCg>ZnF Nux@? h1'91 mDKfA @1LQb Jk%0: IDAT2 W`>)G @R(Kf @uOQ}* al`/< *RHA[ T=_yW q+k :N&r?k /\ <O FBPmz *QA#}Wy$[ o1JD~ l(]Qy 2JUp6 G==x_ o"@8$ &qk,? -^R`%b RYDYG &v!Hs FVZ(p$Os "ry47, [mDGBn 40$#B "a a$e +"g`.\ (#x<!) Bbk 0 BX6'zz 9aO(# %e]], "9eCU 5-A30 _B(iy`O ."#I$ a9fB. jH0/L2 V$icF9 C/H*r =dMKhnq(j6Z <i9oI '8qS/ )7gJ` %#gha 5hp]) ^QKA; aZBfo/X L]HHE /_;PNa @!zEk lrX.4J %#AADr vWW}U zriQD73 &72z1r +:qZ3 K3N>8 h0vK2 #jlm}u blCte TQg<x !;*f!Q H5o.6dibAbi (7gI2F -w.o. ~Z3DFV Q'(ni Z`EB^m cG;\b[Zq9 Dz>X? u]O$RO< niF1? M]!Gzzf [g:iN |R$w_ i@GQ^ 5/^mi !h{)B! UTnZz I%apa Rv,xO 7vg%^H j2N,j o|;-` (?hVyPB AbMZ7 Q3lD&$[ RII)5E[ .:gc` Vu$Dk6 A`=Pr mHmQ;6 >chJ! ($Q3^y0 y)%\J 10`0` ZMB(Di  dk$Qj2 #I%Dph 2FyX`4% [""=& t] X8h<[ r6@`H0 <jR-($ m`2.o Df "Ft 49![LJ Z*\Ai& `J`,]d `<a]G +@EZIc 0j3rE |OFBf 5Rd[@ B.P&; gX#R4 ?u[Gn \^>bh kHq`} @i2M~B}4j V$L.  p<5$R%b cE|!2 +,/pY2* \W};o -vk=A~ i{X0t nbY.M?= Y`yY! "$x9A3t _A-A_> ]6`Z6 f=Rt+n nymFN[ 2hxa{ ` W8F B"Cdb ;%`$R zz\ER y!)At #7g Q \5550] s\um5 ZA(H A 1fryJ  x(Q0 NNqSM 5!C2E4 >M V[ J2 e` N1VM#B $JAj= r8\=n \8H\N& obw?d .xz)8 e4d<g MK)K{ ;qEbih7 )eEU1> xlD#Y\ +E.MQy1 q=c5)b dBvmf 4XhT5l %t@Nk F]wCW N(H`/,D 4dM_0 M|sD-h J[@j. p7kWTV kH? Zo +WP/a LFFzJMJ XQ.pU5 77!<r aIA~= ~"\KkT [=8#w K8;sT 3Kn:Z VS@,V JRO8E ,c'&j Ipdxj N@!.I? yIL7V M@N]e= ]}BIA >mYul }O|xA: +(VcnC4% HBqY1 n6=]b; h7}mNc xa^R< :7w:m 39Ot] gP;JX8 cjq2: CR@1R ,UqcL jM[e8 H)W28 )/h0LZ.h 02vBl 9SvLp?H n?>`Y X ~a] Z%Q:B 7FfU/bK`"  $2d_ Dw,UH&d/ D|TpP [ 9Bp yd/cGG aT!e;1 5gbz8 3OJ,yy Sg/-@6 ^uUQA -YXnF 1L$sC Im_c* )ai>Wp xGmSr gvA0X o|mEws &O)QiW 4c)6o TJm=O bV![S m^nkF yUKeK<] kj%*n{& 0M[Os wuG[E -qs&}3 -7]wM rbUM: Ns!h[ Ebsz{Ec <#6ht Pe)_ ~ ]KfDW ? F2RP/0 '$@)t :/%yj @P9@'a 9>2Zb 3G4mlp !`!=X6 edadp 2IAc5 ITC V 5w`8B pe'%N I U&? L1iIC }]l!N t^GS> \Nc\Vd% iRyN*  K,eY H2p WT l_WJ< ^x_SA Rr&W& TpwI/ 1|0h% gWy%~k t>CrFH QJ;Ib H*-P*qy ]{>6W] IDATy_ XscKM| (mxu~ n]Rh9 E#N)|mU ]Rb29T d|!)o 8w[FA Z+$%kP sO=0d %~OXf tZ/MH aP\<u *dSN  `c:O) Jc>]^ mZMiI `$t=AC r*G%|; kfKiY  EY/c b9FQb |1)*] ANGn/ pB`#x lDA444 Q+H%e 5oP<[Z Uhh(+ x]g < 7p]!G +(1ht umyGG L.cSq4 <2cyV Ty`MmGe U:1VS xX.9t IGq [ gqNRf /e#sH R<d=8$C 4,X,@! p(6*r? "@b ~H _)ge)^D ,"-D, EW9b0 \ h"t J!MDIf <A:t@ @WDPK1 .;o7x 2>k|u r.pP3Rn \xWJ@ m_Q.%f n<x[E ck*?Y .y:,)M b9]MY w:qje m>UIk d:F1,' [!-rW {hw6X rR4/J L@z8C X:A<E ){#WQ@ *vpE8 S<M!x AZD0ma minfX U</z( s@Pf3 nbW:1 {2CSs _/zZ=G ];3]N ,XThl| O8gi+- S()4Si @jKxSFs "'M#}0B RWV]:q ].9|B uZ;w= STgO, T[kcL i[WX7w 1u_?z H+hcGZ )$a(V0 zLW,Q }syg]r ]X*q[ lG=*/ +7sl5 tuMy. PnNAo ](I/YQX E'+BH s<[g5 "d>U*!c 3SAQ} IVLPl ^$X|i mHDaJ d[@`T Q~!Al cm'y+-' n +BB Qi;[ZY >Zepf WYNsJ4 MR4d1 8Fq&! knVin'8 3-h%m [UEDG RtWV1vV :Y(de ':Tn_4 Sdx;Uw -YUQ! B&Y)3 KRIK( KBleI X#SP] 5Ua83. 5JPRD #MWg: "?WJ* @gz8JZ h/0(P CD%Ym S:{+' ~W7im jHE%N bRQxW v6LYv P QIc "ruI\ alWH8yW }DsFzQ r*2;j 1DI\m^ dYnjj :%&\y YR@6J 8!K*d 9EDRr `=kjh $6(qEU n*Uld ^8fho S_zz[ U;m{T iVV$tM *b]]F N^Z\S TUvV]V }1Pt, ,#(E[ |eeeVq:t YA65[ :ciD# :->&%a: 3zFXR]3 l\vMRi )]:67 `i]1Qe ZLX`M 5;7t1 xxeuB# aW 14 nzwV[ pA3*% 9,566" zI7 * \)-Zp yBjLM] _D!;!G bNs,) grN2C hE!L7 2rAp# (!$l8 1`<ku( wHS9) dB<kk DA%gV ;WiTmm Zp^57 zOJgA ?,@%`3t I"f9.l -EUH8Y tJI(LC 9n8Q[U$ o0lw"O ukN5544P lyXIM; x11]N x98?3 R(6WT JFp*E >Qt#Q31i 'f#f/ y ,2E ^^W*D A0ijA yyHF7 `UPBfX 6M'B2N aHDpq @+ ZT D)RTr(  (`kT e922Z {D0?6 yFkn" 2E9.W" quG`M ypeE( 9fJ?V2 5LJ[8{ @)n%T 8'kW/Z K/,jl ZJL\v |5_0\ -aFd8 @609G o>}JO}M s+#UI /<w[G9/ qC$Cn ~vLne a;D:t I55js 9m ;* D(0nX ):"Tg HG+c; FMB3/T ?uHP| $DX71N/ \T_A- iJ&R^ 6mZg) <~F'[? W!Xt6 Kimz+- @90o_B BK=/} IDAT*quWe @NX%%". :,(6b hYMXF K"pRJK R55LQ `sZdy !,D&WdX .&DNv9` `#h67j[9@<  &qN. ,,18w 8A.W` @gp!NI K7i\hB s,TO3-p 4edZ* /@{Q1.r q:47<s FNQ)c  `p6+ O6R+P Y.rM* j&(~H +JDTe)L T*v*$ ZyG1YJ .C$Pl sAwhP !jcsK OuzY@ ]:&f* I8UF&c |SslQ 7Xn?} 77j:v :O2+g @srv17 qV(v_ 7D"Zd Kjm:, /]"1- U!DQ) mBm\7 }LvUvQ 25ri[&]o L|S`Yp a>js9= $W.J: N4<Tc wY,iW p$2ZM Ok4GX GUi<^~ xa>9n! Nxxla 9I-vx%V {d2Lqq ?nBhu :p"H% <JN7g8b dy\<. )Gwkp :X$p0LG :AdsD -(0@BT ^CJ?e -Ye|) p@-FP 2cCz: -r XM Dj=D` #aVYR Z)b3WT$ {fBRL +Bl4- [\XNf 0apQ2u LR\)nwD BL&-d /Q00) $&@r. 'B"z, -Q\1B OWC28 Vm$McG KPQ)p zxI$R :eP O4PO= X`.9U O}"Y5 V%W9u N<kY2 ?KdVM 37,u6/ Jq+gT W.[&Z Mec`+t d{vjS iWG@QD GZ{g8 _8};+IKJ H(^l0# 4u>.JZ) ELmp) PigXLv A7]:: 5JerE DNFvz m_]{I kN:j_ O;v[g tj%Vib )w<Xs of*79 \snu2 N*SI2 ]\zj}6 t2MWq j0X&K h8e%-@ Y0bB* M*~rH OUU1_ dxa.N4 HTOh$ cQ0F~ xK@R9 G  K| zPq`H cMd%^  >Z_DZ C1:ZY ]{oe* GqxJt ?,|ZAh; *XGi9%"- l8ihAQ S;`yd JN< 7 ^vQm6 1JLAV 0bp<T xj@hT Bx^=2mr*S p`?HA uus.> c37by 7qn`C Dy-ru yk/=oTPO1 R>&6y clY\O ZzUN) YZL94 (Y-`3 f63|}Vn S^(O& O}x#$rM{ q!PJ9n V0Ir(N' }pt2i& HHu^1 }tOD# 3,jo8 ^,/p& [~HH) L[13v }-@ZjPT \Sj.' 'w2\f ,+inV p"%|[9A*((( k/|Uc, %w;*D o+ld3 F)*)V 62X6K fEc2R dAr6/ [< q9:-  /.LHu 0<c:~ eL6LWpY SbeFdM `uQr8 <jx,[ %t5"9 W)Bu? -?d?7X n1sPI$ Jau<Y f4c&Z J~=o]ov X_yr$xk` M~=/y ,Zrm  b8pv.? roUbmj ]Wb9T$ &jl@~8 u/-'G K"\%A Vz/t6 &`"<E @PQ7t p msm Y6<7T ,K@kT -6G!b8 #Z*cAf BD/w& lt91H zwbgq |mH>G NTlNI G{zzv %,Na0[ wcTJ/} n}|x` ]L*\w {zhKq p%[M? gv[<9 }xnu( 9[Leas }*1iZ9 E<?x'Y .M&&e *N*=c INf^+ 0swvv 8]^5o~__O ia{_l eNnrb `Kikk mNn8[pR /y1Wq A)C}* w+k3}= >qgg[$ 8?ygI aMn;t :Y.ya R[5i79 R3\w1G 5PKLd CN6\I ]t9x* %N4-T2 LkiB% WRN?+: \K*<P \[`JfB p[Cm|9 22m1c tx+Be7 L/){7_ wNtR:S I6W`)  KgN8 hK,28 dY-tD {hMogjb R'hiZ kw-HT ;V><u wFX\k zE)75 udz$0 s+-N$ IDATX f,Q(s4 Y@SJN DlJhM Sh1\an #wR;o h[tC: Z!W*vo KYKG( y_;c/PB sZjUn &=WkwB eT,~nt P_*X. p7,NX MJ$Cx| T5a8z ~ps0P` -Rl1c gc%Z.. -%RSj ",O0Jw r@9L) `k|B1 Qly`N< Ywm)ro^ QXOVE DHd}u `=)PbA wttdzWx 6!37SR +d9'0 pXmzQ xp?*gxx j57Xw nVuoV 4^U)+ k6U{7 J10.) SS{{;u  77di# jcc}. Ya<yA g'^'i/ MA%{( cEY4U .YsFs u%6.5 b$6q2 osRFk Uo)Tr 'n?EPt (x2Qu j<`a]c2l {ddD8I kC>L, EP2`i GFA=e Oo2fb,= H5Qal9 +ypSUI j$4Ph e "MqH} =z\l`iO )[35s Z!ARz bK`b@ p4|!Yclx4 Ow{2_* jan,A [^Y=U "F]oFJ N}jt<] !/oq$5>0[ 0n?d' N2"/DdL" kN1PJ V);mm "(zrQgZ$ R&+rA DRG/C C'2}b -GPLx 5~BSs kaRWI D\}iek" f4<~:*Q4y +Lh8[ phjWGG6_ D_#A?- fnfP9 *)L)(Y8 e1VXJl v&H(< 8-tvL]Y~ J&*\} I@%&c /t%&@ Y!Kii?b Q'xgP M%&$f0 >>(rSP jhI?y RxW+, C@=H< 0V}x% %#Q,g TP[(M (FX>X TOV=RJ +IOF!$qC Obv[x &gwuN L*RzG*X N+ HU O,=BZ2 :"y0; E9h~" tG[W, I@zyt 8 O`K O~BXh U[UFu (  M(j Gg1?i" 5R4Qi j0Ecj LKfd 4 q^I045Hn b0H:E?%ZF *>HN$c&l 8f5,r Di`2J 7mOq6 <T*s8x x5YCQ Ij<:/2 TO?CP idM{& U,{1,Fu RZ$1J W~H|_B `|Y26% RqFE[ `Lj/>r dG_48=X ,lKl^s16 F6zUs %3<$0GQ4 c4`RF @%J$## OJ1M@ h6+i4YqJc +*BGO m%)R:Q3% Z@KK\ *<f{y mP2*n +%S}T \ix)|K@ 1Z)0S )I0Q! ig>V"U t4a1Di oMnMK qR>C~m )760i J`B$F F2'8b TWgeeFFF| H02c* l`ns* e`td: 6Osyn J:{jS a4q % x[5^> quB%gO e)m?5 -1tcZ **wV5 m,U1Bv {]1rN #N@Sq=l =nLs~ xp$Fa bHaG1 U|N82 #=b?hk 1>8R1' JNjTL lHd?> 3](0d 6aQfP> e3?j( 4\XKI d#:`+1 ci'D- cVx$SH eKOYX[ f]bpa1rZt* &@ 44 bb)P$ `km P> 9B+E^S"I' ",P &c /bAUq *o)`!V #AYO[ atXVb BZZV:aQ ph%#) NM1.B PLiK_ .dEg_ *Kpa5 lV+#-a pR9_L 5]^_> =)l$6 ?'iQ9 VK9v/ !q-XH ybj1S SEWXRsf> Rm$y>^={9]z n3#~5 UR6[P} M_UC2 1]McU V#O  G ORT3^ [fkG7 VUU%\ sUU}8 $&J V -^Wq$ }3n[xx i=k_XW 2'\5! omnMm}} vZkMm{c dW<2qZH WOmZ= };..} |]?y} Z7}bSU `N25w wnrsKU, jfC8Z T2>,Z) lgGm] >ijV+ 6<9T] ;i:ET %WMk, A1'^? Oxd#g kbHi]T}^ vd\@H 2,d%) 7/>}` Eba_wo llnnh )|6 I=g :wNQsi$V XuM*w `f14E :oem  ye%GL\ye zhliL% ZmZFn fMoo/ !KBwgWum :ujG[ E7,lmo L Q7P nV(V:} u[[W'h 3gAz` d%.(@ U)%<L$R (6o%@.P #:U2p |?,gY /&*\W iE:%8 36+Q{Q Nojmzd m0<9y `4cs)W +~#kJ[ Aah{Z h6&+& jM|X&s xpL*" }hmh:|XE Hn3C. H"M.Q .Xj0D 1:,d /O" Qx=O| EriEw y7KE/"4 Ambd*_Dl \rN|- $UA.g [IDAT 9^G&o E5cQUC 6']^` 84Mhv MI'I+x DL11: Sf0{X e&bwGp(3 $xgpw )~fdS Q`YQQ| pM>Hfx8 mxp#T *)/y-r DIk=z 5OdF< ]P^@M !eokU Fh3)c #MsKD dp-7: +X"u0~P M9b1HK eQr(I- apR3}, k*`9A !%$++r L@[Ap3. aR$g) 3*cM7j KHh`  <|L%K ^&1mI HNy5d  V]IT` LI-i8_"[B2~ "a4Y>DRJ(#a 4S7}x 2])dLE ;4%E*N YI.C5s Ysumpa6 OFUw< o@Lb> Hww78 POooP f6%I7 ')z]v cXJJ6 ""pS$ wQV=Cr lw>GR uBqCkC.C fj@/e #7U+Fz q$kVM 3gf!@q @uuuu cEM0W ;"dO  a?0"F pz9vl i>UpEUx ;X=ir xe,G6 6mrsm *qH-l N^WB` fDM6W2| d*YS[ FK09d F.gd5 4D=9Ed OK%>8r* dOAS( a^F1~h 1voo;q ?hf&/|t 3gOa3 +V^71 ;yZM8 ~Bo<w XY0u! 3_jnh Nw.>m \WwC,v gM-vB humUkG w^6;C W_}]7 !Ah;! ch$mv FRqxy x4/\s |~x{g \_80SQ S&-@x NE#UnO r=;vmL rZ?BS xkCCK&s< |`5 E zP-2Ki tdE>0 a=q6FG K;hV+ &u&kQg CZUp6l qg:nr s{8p, ?,qps L?#KN2 V&eG^` P.i"v0k%; S_YYy CTss< S'VWc P(XUY R8*y(|# {._&rjlj $sQ[^ k)EbK 8nDMm [_r6oK7 <417} =;Xid7 Bq|lbt oSss]] O Gw$# *,~<j<i caDT( -(h}NW Dl5]Y e,v#4 rBsD)x &6%hwx '-@(S M[Nnl a(6'J}V} j*[14 #Gh6S ,.bZIX $KJ9/ t~AC8|t haQG* D3V|A :,$]M% 71p82 a97mnF qAI<J R)ls*FP9 PX!6V S4!v$ O&8O4 0r,r1 T3$X7Z) B%]!vFZ ;DGDJ" :ell% !}j&`"E;tL GWTqY-Y W,{5Q +;@N7T p%LVt 5rr#xc );NBEe cQOP%W%5; rPQr0b<iV P$"G" "{xKp ^Z!z~ ji,Xi  gM:L ldb bDgm7K QnM1FqT dCB2175 &Bg;2 ._JvJ H2^Ay 3z(p+|5 |s]CY( !(ISi %38IX /@$eq ;?~iaf wz*Sl( 9sejq[ oUm.b Ns`ueb* dNo,L, Ylezou9 {648<{ g^<}qn lffqyfl []_iHN lC}eUym" 59y51; =[wl[Y =_YYSW[ KeO,5 dicn|&D VVQI;% ``v~% >wv1p GWy$2 z&8z*] Z+j!j 7$5~i. h]CWbz /+s ( &yZS_cO ,*pk% 2#jiqX ZA3SW_D (0&i4L nM]uM tnn%Z r,o,+ L4T0j <uij5 [f5j- .sE2& IX6=9US ]^kh) g3Dw/ sR#2M- nCvzzjva~ fr2&SE >;>72 `MfSs \2|-] "gfee9 sE{{Ks *9=Mm( G7j:j FMz[1 Maf)d M]MGy cGk;$ ,8+kH +TX\Y rK Ag Gj|TS 5;@l1Ba ,+&6* &52,n E:mlb TaZd^ Q>O>B EjMfG Uj;~x V+qjU &8hyT` Ducky Adobe AQ"8a#sV #3St6 z@uF 1) \H[e*A =pb$A9 A@D@5T PBu-D%7R 7!#+! %hq,w lu!D[n A>BFe zwXo7 n?)TL 6.FB= nC%Vm5 +iU|S=_ u:Ekt tLH\* n5q:8 = ViSj ~K*-( rG3wk KaiqZ b6qHJ =Z=lo =Z=lo =Z=lo WR}Z=lo WR}Z=lo &9)|E iP)#a L"&)6 P<@{' r/rl7 IeZ<+Z ]Jlnv Gjw|' [1@c,is n[w;{ NAI$d GE!Hn qQ;rkC mr^b^^T| y6h<' pzI'q kcho4 b:R6~e{%RX .PMqM> R6([q {n3C&Ce< ? J1\ rv8,&t 1H""^: -HJot UB6ME frS7v6 `EJwJ E4VY$ abCq: E1)PQJ Y1QB$g% (?DLAQ !27<v Iz_71) WmNUQ8 :<'b~UF@Ofq HL2v6 l-MX) qZLc; y*Kh@` h|0{"\QJ `a@-8 uiH;M% <T9R( ekZQm ;H#ebO  HC/' VR:j- .nBu6P q%d.1 w_MkG# 6s9Yr GnX]u 7Q%VJ] v)`m7; &8,i+l D5f7v U&k1. *6:GL8 (c(sp 6IeN~ e?W;(nB; j+uF8 Oh3-: PJ-)f vcL{P Jw|zgQR7 pO`[ZN 9Dm76 [e/Fm Ce)i7 @;@H@ tA)L# 0c Cp" M%+Hv UzEti^ )TC8.V N{=MT@8t8ml 5;!uf, 16fS3 l!*=V 8I"s( ~n)wqspSqn [UZ0; m{R_q 9K/fl uxfQq rIq%) y!Z7, YTYUr 7$:*V )^eUB~ Hw6HN U%4Z} RNq+d zRmpzEg~ lMV(<y 9\oCo )G(4QJ Qm'ZE "8qA)%(J RKwkF l`<O9%b X<Qg-[8 o_2Tc0 Ia=o} %\mi'a ]iU3GQ !AHmn MB1HX* 1)-jR v:C#; fmH{?gd fhd0| @zCPn NZr&7 ZW2fG HDXse?%[ *Sj4I fY%+qaC w]6Bsn D{_70 v[uk]rJ I 7!r Xh<Yw LBTR_ twK*b Q"W}6 ^3PDAR %e.:^O q(tp{ BzT=$~5[)  RPUp ki)@I q"UX5 \q%hB ]S2Talu s2ZHD Aq {v 'a)P;+ >R8e   (ie%M/ an<fW ur"GaR$)(e SyZti m,))P '(}:= eN{]F w&(uh @@zz5 Zt-:^ ^Dm/+ nA)Jl qhim\ ZfIKc L]M1P $(&TW :u8t] 2\=<O s;QGB e%[H: 9\_lo: T6_sL h}iAQll hu{\A je!hQ iHL:e+  u3!)A*A oj2Cx tj%r{ >twM! I$n%$ "I;7V V&1T6 z8y)7Lhw q/;vH 92B2jPnb r-!rX, #blH;G ;kcMh I$)A* Eabm^ kE!AH(;5] s#-"3 :Se\XV4 vpju@ Ru)RR/ zV;wi {ZUWd d)LoI wg>NE 9bLPV JrB[gc .~$)y~ /FKB5 *uG`a w7eqVP % ~lg9 _7R~^3 ))OY? _Hzu3 [S3/Kh TjE({ JURmzE I'qS,_ o9/!Cg6 mN, )IIQJHHR X\S-K3sM FE+ iG *lISa awRt< :ip4k# pY>i+9 MIaYF {%^:j YyRab L*;k% mSWg? *@a"g0 6v6Tv 3N.-^ n8Q(i ju*sN( <\GSZ qlp{Gg pLt%q[ 3`o4k zF22GsY Y@S\T grvNW 8n0;w2 MjZ5/F KYd[V 7BrEh }2k(a l^b9g7H c&14[?o ,WcoW [BL.Y F33S$"b q(ZH!I \[`ZFM m>)6)Kd#K H^o6Z -F6EL ;xE)J kdUdY K{bc\ "TZ.D VrE"Y kxjL]b I${4Z- G6c`R w\unA 7R.rf[ ;[#jC H)Orj RB"ES sJV-M (oB:m w%..c2 })Rm' u%CzT4 XYZ$d ,BoD6^ 7Iq6b n/#=H ^I o" iJPJJ< 2zC&b s9j.34 ;C+l. KyXZz 3e#:a\{S )d\U5=$] 'Y"Bv 1FJ"Q 1@@@@ R}qZ\ ,]{:g ^Jb^^bF "N^2T RMh8t j$nUHb rRPPv q!eCx :RTKAK XH'?s LCH0R\ [KSj) ET*E0 gT~^< [SZ/2 ^eKihZ )qN%!/ hs6rR ^Kj %ji isYTp u#''" FQUT1H )J!)H$ {/zxJ 7ch=# k7#gq >C.Xt :ds9f* *SSbj \7$DS,d "X(Yb Y&F!= 7q5k"C F^=9& <sPdD 6T<!+V m\$%Kp `Z[r#'[ tt|<{ &,Y6"M j>>;Im >#Qes XXi:F b7(u` ]Tl,# !J[sq  ?^ey_ .AP.6 %I!IRT Eu>Ymmd iY4iJ4 EJ3k# lu[;f mi%+B o4b2# RJR|` U_2`,]F &fXFN $%(JCjSHR >\E%0#c BYec" ;Hk/y jO)cr jbNvV 9\N*.! 9"lln[ W!IbS GH&/#Z@ Yt2b6 2CK}/ |\s\E R:F>b=E FEtQUD Gs`ByJ: ~u?|=z &ob*Fp !Hq0k (Bt)F ^g,tK vcM+p< y.PfO2 #XUFr$e tL&F4 .Wh{( QZKd,=% )eke. $55hD C%HRSlZ jsQ;> |nS+3 &*[Vpr .tz8[ ZmnqJR- mH:xw }f>z& {ZcL{ wEq6I Xv;<$ -!a+ZB vxH-5 .=R>MF1 sktVS qjsQZ 4$hA(M W_~+-6 8~6"n tddsT ~u?|=z oLa0&R  n-0#<. jL&1l4f2.{}xC .U1-C[ yff"$+ ;Lt5' ~P}\k }bMwI? P// r fS*De 7/!Lb *tln5 !V)$) CKad_~ mh%+B Cs;;(C !!%NhPBTA CIYRAX i!IRIJ W(*S$ 7kp]c <((K, UVl&I' *9P@wXJB +%l6y W)6PR fCp*Lk& q:<iO \u!}$ hzR-b r1y#9z @c\9@ +[ijb 14,T~<9 Rf2d0 c+4m_ j6K.` \BCiy} JZ##Q ;FjRp 3"[M%J LvX*B &&^lx Ur4;c v25Ub [[NFSru- *K6&c! i8}#%" |rh)!/;d &@[3] UB7Ie 5DVu" KyYES b'NRId @LBAJ Q\]*R g31lT; p%K}D w.EO693 ,<$%R$)! qQL(W YuM)ijCoFZ #V]Rd0X -2^J# %r[az lGv$W as*rC dFHS|Y,! #"Hz;/ kTI)i U&4e) sdGfD  FLAI m_FBF S-JB$ 5h.!+mZ e%e$]* Os73= Cz##i'j yjg6r *0mA/ c*XrR 5E7'u%R| l'#%(J "s:;o=e|i m][n7 dLOqL| xiKn0 \Sa)S "_iTHK |xyvo  3^(ui R6x*y )@DD@U N>tK=m .)'bS }bMO$ mSWg? h=S%g) REc'Y z@zC^ o|DDGYC DBNFJ R9X#!Y vkD}@mk w3}:O $<U`0v %6sh5bFME SI99KL H"nQU ~.Egb JW1sv 8iq3P "b<I2 G9a,A <oc[4 ,,j6y %UoH3 ~.Egb R'Xb, "ftsuBb z?,Kq [N4\p #[%ck v'g{'au G\(O1l ;p35U;% ne-zG uVpeN 66lN{d VJTe %kG |.  ?'N$? `[<]sqU \zz}: :+&`* @xV#> Mm+WF ~xhz~P sCf<| <$LjR NPkKm nl,.6t l,.nA; =J16L r\zIC ilw>] ga%R# #oSKV Q!e(I6 (qvW) KGO8/ EV2IF y\"KX aM#)4, NQulR H$yIP }9-9\ ">VKl^Q sZym{ vvEw5 SquBJn.zt !<DIh hn]s7T p' .' 7zxi- ULPPJ !E<Xe $gq2Po kp}l,R m{i7* #-Na%# &9S:N 7HIIJ XujC+uA7* 9};+Q l-jaZZ !A*Ny zKqrK YLuJ3q m$*L. "J&p]m &7o)e H[r&H :]~;Y ao%bn q"3ja I'`JN iPAB0Y k[gJ}LY RF1`Av U#(N& ):3(S H`T98 9F"&7irNp> H-2}xM -.w1) *XDnZ &tnIW %IiI_ QsQ)y *\vTASH) S.Jrs -I*YkR 7dX{) &vjEs< ~}f[Qb% '3&cwU o\;*] KQxN: BJA!7 i4]S7QU TYw%\ |tJ}: mGvrY LWJ$- [t9*# n(KN% d^_j2 GCbRW g3gi; 1V*HYd ".if\5 h)iJq RXmre IAM68 Xcd;6{} *QTu8 uw>LV <u+3Wc Bev]L< yDyDn [h wtm'W hvn]IY\ C*ANJ, n3c[i &chO6* >^}C. j>q95- (frc2 lS}*5 GS+n? o2s$l fNz2r <Q<p5f coyGn7 t,"BZ~" k+*~M 1s,YY., gHzaD yy+n:U l6xj[l i)WQWF2 la2cBf9 8`$ o $~Ru]q *0WaU v{k\V MZt%jNS k97,cLud *qvB@7" u9L~DQ! !%J;M rv+EIEr] @@LN! .Skj@ )*%ZRv yE^@; e[h<W u**^< %*Oc_ 38mfR \GA7e $(EKo( ^/'&{ kj#Sb y1'"2 -VG`{hNo& A{SRw PhY~c ]mIT_ +Z[Rf3 KoHDs 1MS<Tr o*yi@a %:IKV; |5"F_ 1ce1_ T(kQR gs31n )_6S? 0JcJ- [3"eI l66=u T?]=> %O1c~ T?]=> %O1c~ T?]=> %O1c~ T?]=> %O1c~ ;7<Tx$ Ducky Adobe 1"VWAQa C4DT5e'9 Qaq"2 Br$dU s{{LM M|m{0 %!#uG qqppqX 9+HY+L)6 7@!S' .b-ID )[mq{:e 3k<W` >}6SN] 4uwXJ .b0c0 uY8<5 .;ILLf aGP()} ('Khq %!`S[D< Yp-:5B _?pOWY -+~x9[ KiK%J ,1Z1$/ .'@I^ ZcgJI gau6` %wVXp ];wq~< [5G'S _(`%e %d8qx W2KJ[< t)o:, >r=:o jHTQk #R|9Cb ujR^I rt{Z3 nBTly ,-Nl. +cfmV b09$[!oR 9ucdL )pzn[ kecekHRd cSWvg '5-ncV d.ie2u2 ?XtOp !Ct+Z+ f6i% s W/fS\44 .mjc1 sV~9o+Z$ L/=nx"CY^ v*5!, J1aQE S--dV 'RH)< RSeX^ y|N|)Y wEId3H e)m"L R[qzT ,AOwXnUR tp|ohs 2?22E t2!ts $-d)v Z[Cb1R )<UiD9 pf*X> 3<)KO sSJP{ gf4#~M mzy28rf )iRVQ B@XP7);TE ga|)i Ik3R2 `Q+-z kiCgBA N2041 '&Tcz ^IoA L nvrm" jL@Jt" stjE'v d-jBIU ,yB<c! aN=)B s!&ll%A  T4+c #Y!tlG xJl!*= 9sewL OeVPs C-O54 lnixrd- 0?7 yc|ge yvp}N jSaHZ\q%E kTIlcL[ p+mg{ )R;yR"6 :+Rzs O(arp5) (b!Jr J\mIR `]fqy )(vC+ ollnF 6wL{o <)Ntl 5%UC, cn^Y# z7|EP" ,rZBb0a 0U-ym KA)J4( JnuiI!:osV fjl*h \A*T? tUWr| JO1eG 91v4b zIU$8 JO/Lo N13$4 >\)_w J=Bd^ B`5{Az" 2l2Oo=6 LVV2B@ nXq@N %1)lY MRG%( s[R%NNN 5%|eW# }!slS 7?GI}3 (rDt-v: !.%:B\Ki[N P[<f6 .?]+!k 1:gfp 1MoK: Ug{Up +|5+Z B{Q&)LF *7tvMe [;z[v? M64jT hfprJ q''PRu C[AGG ~nRai% d*yw)) 9w]wN xv3Fo=`j +frFK 5~Shvn wC%2y 0wh1bA %$JV( 9Dt":I B"]T& qhim\ R#r)s )W-3$ O9o\p HR{A@ &'$@}wpg jzb~L IN0:, 1`=.y m%-?k5 '."e!hQ EWzI/ oj.<& tUMco MAsRw3 TTda# um\y' e\)[^ :;Wxzj FZ7[& Ymo"jkr u|Gql 1y$BC $yJ-= n{oEv PzbL7 MjZay `6*3n uRYiMZF[T$3' }H5b5 e[5!KPJN ]p0W, XChIR $](WR 6NN:" @!"Tfd Y]c$Y9 YK{_u,Xw K6w7: j{b{jVR zGV8,5 )=9]H 1Jr<g pfhxU lRhN/ vrZW} pz+a_ )bxm` muW__cr %)\id >&3 h CGTjw i=3cF V{cKX Ak5j-M 9L|AvcgwX /oiRCMt #=fzD ;GeQ7 TqLy< X ,xk Vb(Ke }AKmu 7I pu kWVFo4 GXXr,> YJR+Li c9}[q O!Q{BA X@%*,k &FWj\yI  a7')] Z#&9^ X57^B i+% e *_!2( f2)Wwy eJdTTe' 8kC3Z !uR26 ew<qDW_ oHP0,g |^ksQ mA'^p plZIF \U=U& Ms+:4 M"FyE N<5^c 6VL"yFr m(i(miJ O%Ahq >dKh;[ v'/Av V&vk[ \Nrz# N2aiW 4JUk{w 1*v!4 X"wsjR uHKwP; 6g<wV2O &|kNY  P~;B 0&RTu njp!* r$m>exb s8j.34 5i5Lo(6cT n+J@F ;?kD[j )A=aa )p)V# tspXh kJn:Y #N/ 1ES/; s&;he P+WmF LJ+l<7 i%?gL MYKTG %o^(| HP)%  +#'7+Q p<`ga ')LMw #6Ti8@B6,"/ DJ%f8 971d4 .|&DZF sS@+N :Q+l3 UuR.| u1PAP[ YaQ') 9reH% H=%jP0 eq/77 \).!+J WuXu" gh^wO LrDk{Wj a?M[z Af5:-$ TD-uO_K 4*'(P :Nf:{^ ~5U\) eRYwu ZE-f P ^D%2{ =CrvD S+*Kem 6[Sa:T. eRe-(a#i< "'WGf|2 VgL(M8 ~+&x}~p -{1i^ L~,s<> ~,W<> XFx}~p Uw(Bt)F <f~&G* >pd}Y >pd}Y rvQ) \ Wdrn=2 mIZu!JB sVoh+%6`% ImVV2 hmRR) @AHX  Gy=/^ @:!_>_ $!kl6 ]iKH$ pZv$i V]p:wq mh%+B -PcGa/ -!)mZ KCkq% ej+zpTje U'w10 Z@BHJ 6T!jHxl HIZ[M N5O_` S'S}&K ",U)$%HZ JoX6H TH|9v 5gsfqrW 93o2j JwE)J wa'Ma>x; ;-!hq wkBTyg *tln5 dG"PA n:*B5 rSO-I .RHP@M[ KODdI N9/P' QejeN7 ^wRIk :'$+d y"9.oktB glMerH ~t)D^@ 8a!pe G}7mi ;*TZSZ R.W$Y `tzVq  Cn[-GstS)! 6^s`c^zL #x^z@  {opJ o&xbS ~Xe.)M v#*e3 .\L>9 )bdHd.7 A.riR 5ry C3~ya?c^n ,kN@m H%JP2 a%/Jl %*R]}? iHyNj* phl0#4 ;wA#cm Jj|Lk \6l8B ZZ.RZ .lspJzN dkmjJ u%JIM %$J^Z 0(K<HE Cq'kmr? !Ei*V \iJIHq A(QJV hZUcc &B,c8 ?Qe = aH}c; 4U$5, t9=aq' @LR^R F?W|g iR]77 H|4Wv lUf8Jt b@)j4w d te9 N6^}K M{{.< @je%Ql Qe=1:? q?X<? !?Ly20 qlK~Z buw2V %''*q51%c bTfN4 [*[iShsV"D Auw(+ %n-/: #{lJD-J G3E[iWP* <S[^`g q\}(q %(p[J wkCTyg W'hb).5a p%K}D BXKN6 W!0B1Z )KmJmb Y|in6 r;a(f$YKGB kt%*u DWZ'W {]YSo lB@[m9 9rm]t 74jm  f>`B$ r[swi d5ryC ^}MjJ y.vFFG 2W:u_ 1;:De `EjKb [4^ea JP\UH (mImzR eNM[a: ?Qe = 7!Dge MvH<c ^hw(8c 5+#"+ IJS>[r 3xH31 a!$/R+C CA-)Kj2 f|p{C 3XSC[X M%A.6 .)ya,M GfBGcp u35{Y6 *4mHh qjsCe V'{xD 8*D@D `h9Ny iqmVJ LVp2L H|EVe &%ggFoX Q'V@N \c8HgD sQ-$Y exS[S T"9{9 mn}U$ }n%ax 9;{mQOAq Ql-n~Hv f8HI7! f`?Ky JX'e- 8boZ\` i9<=& p4O%{ 8~OjXT L;pYlC >~vcN4 dJzUSeq Heqpf( b7F=[ Oa"iG unqVs o3}$uiq Sq|Cj \H+h; JMsZR4 uZfF! VynZmiJGe( N-958 uoMyeKZ <s\v) 7<e|^ z,Ohg b{C?yM j5$GX :[.21 %i!iK IaNMe ,cuas b{C?yM U'k+8 >#(0! 0,g>Lyq a^u7( N|D+\r VzW7z g?/%z #nL[b =8I,& {C@\T-] Rs[$l jp%VQ K%~q7 Lcnq[y %WZUVT P[?Pu{ :Skho [^hKN SijH< mn^_2 JIU,2 Efd/^ g%r F  sg"*^ 'zyjF yyO?  hY,M1 Q3{kcr" |}:VC |}:VC |}:VC xs8998 emio$ KQ%K'i sUJ:= aI*kz 2QB\, n9B@  _,)fK\ ~3O!7 3Rb/! 5,H)N _kWGp eJI!. .""IB ~3O!7 VN2)y;ffh <iQ%( Bkt`p (P%J@: Q}z[d ` w,I;9 l:\AyZzD  k-e]m )ksIw S2`+^ _3H6~!Ml uQDfT zDwX}p 8'+oa YG$\S hvza4 jRN.+ TNVYh 1[F7r vfnTN _RH!W zX5(Y AH)W} /'#d@ <K$kz IJ];N m!W'N >8(sZ eDiJ*% d}gq' x}gq' x}gq' -M}|\l E*W'~ q^)zf J$`/82S nslo~P @l|GSBR9 N|uhr2 .||\de [n'0#s |bC'! gn`TY rl'w-y6 ,vN>RR iMdFA HZq,L 1af`M3 J^AuI+i ^XaO!A <[l9*L !(qhq; FiHKo O}hTi )rEF(F Gv+o7 c3' @K oKA.2\ 2)L:W j[ME2#Lf<Wh w>xip M&lD< %GnK` R3l+*\ H'Jnl Q{I.&k 3oKX`~ 7p{!I \uBGU tJY{c m'%9R Huz[qm8 p*D-m \iKmH \x0WQ m6@AZ (Kjgy &Sr^e .FfW) |#t$6 NRVFT q_FtG }H}*qm< =5+l"H_ %juO-KPZR (SOJys oKZ]y 8Y)o] uRbdg & z;N E*I~`i ZIcLR M&\8e( Km+)J -9C8a/ E%I%%II" ,+Na"6 I=Cy$%4d)> jC breF '5)l}f4 bG"1)( ~o4jN8F nh)b|'Vsh Gx\%jU byJv$' `@`2< IinZ% j=,e*> ~sQr-! tE3PBfI2$ FNhAw 1\iJfKs ;7@tHYj{S UM!\mN Hzg)> )uA$^ Y0]y,Iv On=oI  @m8P 4h{SC< lq+Ip ^R!*F `Cjxi) v&J'E X|n1A T9F8W rC@zU O`vMk >z}*=Mm )e=nO >z}*=Mm )e=nO >z}*=Mm )e=nOMicrosoft Visio Drawing Visio 11.0 Shapes Visio.Drawing.11EMF+0@ EMF+*@ @>@?e? EMF++@ EMF++@ EMF+*@ V`C6@ @>@:3? EMF++@ V`C6@ EMF++@ V`C6@ EMF++@ EMF+*@ EMF++@ EMF++@ EMF++@ EMF++@ EMF++@ EMF+*@ EMF++@ EMF+*@ @>@JS? EMF++@ EMF++@ EMF++@ EMF+*@ EMF++@ C3uGCs' EMF+*@ @YC6@ EMF++@ C+3oC EMF+*@ EMF++@ EMF+*@ EMF++@ EMF++@ EMF++@ EMF+*@ EMF++@ C.s"C C.s"C C.s"C EMF+*@ EMF++@ EMF++@ EMF++@ EMF++@ C.s"C EMF+*@ EMF++@ EMF+*@ EMF++@  9C ~  9C ~ EMF+*@ EMF++@ EMF++@ EMF++@ EMF+*@ $[C6@ EMF++@ $[C6@ >@6#? >@}B? >@oU? EMF++@ $[C6@ EMF++@ $[C6@ EMF++@ EMF+*@ EMF++@ EMF++@ >@?q? EMF++@ EMF++@ EMF++@ k^YC) EMF+*@ EMF++@ EMF++@ EMF+*@ EMF++@ EMF++@ EMF++@  9C ~ EMF+*@ EMF++@ EMF++@Microsoft Corporation Page-1 Document Decision Predefined process Dynamic connector Process Pages Masters _PID_LINKBASE _VPID_ALTERNATENAMESThad Schwebke Thad Schwebke Microsoft VisioVisio (TM) Drawing >S@#B: ,3Y&4JY&5 ?%?7?I?[; SEn%cO@ 3_E_W_i_{_ f9|s? I=)<E -P|)Ce ?0?B?T?f? O-O?OQOcOuO ;_M___q_ o&o8o Jo\ono 8/J/\/n/ ?"?4? F?X?"y O,O>OPObOtO  _2_D_V_h_z_ Mo _oqo / /2/D/ T$1a/r8 [H{`7,1_:V03 [HkPWDB `7@m4 o'O9OKO]O aY rS a[ , pS oo lS , sO cP i*U"ek"oO to   cY ]fw o !fK rQ ^!i #L!e} sN !sK"i  xY 6E4g IG0OY 9 0Hi2| )!)!2 8sBBe T@d6@3 / B6@cT L`@dV Q6 @b RJTBo cTBQ$ XB/A/ }NU , tY bu R!cY i W fU r mu t\S&j%, pw oM ^!sY jTU  !ew , -SO xY 6 0OY 9# KC9lM 78:-$ "2an5>k  Yokm 7~4}1  IPcB 78,Ls pk Wo tu$W,  ,s Ul  U,u"f "Iow  -Su xE06U4g IW0OE09# 8sFBe  vX@d K\9@# &\??& 0@J2E =(TI$ "+b7" oJ2Ea ixaAe Kv2"Yp!g 2!2!7" 0nX@H4m  bP.|B cXBH4 7"Blt } fV6 U ?D1f@M)@c<0 fdBUArTX@ Aad@iV@n3@] f@A @ \HUs Be+@e<0v d3@J@ SV6U8 c0xo) W,_74b uiM nW t aS UkW Bm"iO , UlM wO hm ra  dm l!, pK,jM i] e*K ,m"sM"i "d%Ab[ z! -Sc uxW 6 0OW 9 0#2$| )!)!2 ])r 2 0~ 3r uMj ch o sb Ifp"a!rd    h(s 5N~"0 ?0v0v {z,%)t C#"mZ \3;%Vq># a!sp s [4C/G 0n{@e BxO5De -1BW` _[~%TT p1_[p5TT  Q_[ QPX$Q_[$QPX (Q_[(QPX 0Q_[0QPX4Q_[4QPX <Q_[8QPX8Q_[<QPX@ _[@UTT:!_W x2P:! :!}uY uF&0h /"E!E! $Qp5< @i$@e !aOsO /!/3/rb "?4?F?X?j?|? 5Vi&x &O8OJO `V)uq_ ofoxo -/?/Q/c/u/ 4UYVE_ O0O~BN AoSoeo %qudU <ONO`OrO 8_J_| o"o4oFo L_^_G 'a&ABC MO$GK/ O.O@OROdO u'``u qP!Eq bvarh 2eoUfC @T&oQ /]r71 >?P?b=a 1OCOUO X_j_|_ /#/5/G! D?V?# e2ENE O#O5O /0/jSn OQq&]/ Xojo|o SQIIp u1P`u '1UP! sRVQR TkpxCo ?D*5?W @@3Nw% ?re%> IfL-2r gL%HU$ t:+Ve O)O;OMO_E|G _,_>_ @(2Iw H%a/. HYPERLINK \l "_Toc101768636"  Summary  PAGEREF _Toc101768636 \h   HYPERLINK \l "_Toc101768637"  Test Goals  PAGEREF _Toc101768637 \h   HYPERLINK \l "_Toc101768638"  Non-Goals  PAGEREF _Toc101768638 \h   HYPERLINK \l "_Toc101768639"  Styles That Can Be Edited  PAGEREF _Toc101768639 \h   HYPERLINK \l "_Toc101768640"  Text based styles  PAGEREF _Toc101768640 \h   HYPERLINK \l "_Toc101768641"  Image based styles  PAGEREF _Toc101768641 \h   HYPERLINK \l "_Toc101768642"  Image and Text base styles  PAGEREF _Toc101768642 \h   HYPERLINK \l "_Toc101768643"  Related Documents  PAGEREF _Toc101768643 \h   HYPERLINK \l "_Toc101768644"  Skinning Functional Tests  PAGEREF _Toc101768644 \h   HYPERLINK \l "_Toc101768645"  Properties of Text Based Styles changing font faces  PAGEREF _Toc101768645 \h   HYPERLINK \l "_Toc101768646"  8.1.2  Font Color  PAGEREF _Toc101768646 \h   HYPERLINK \l "_Toc101768647"  perties of Image Based Styles  PAGEREF _Toc101768650 \h   HYPERLINK \l "_Toc101768651"  Background Image  PAGEREF _Toc101768651 \h   HYPERLINK \l "_Toc101768652"  Text field for inserting the path to an image file in the CMS Resource Gallery  PAGEREF _Toc101768652 \h   HYPERLINK \l "_Toc101768653"  Browse button that opens the CMS Resource Gallery and allows an author to select an image and the path to the image will appear in the text field  PAGEREF _Toc101768653 \h   HYPERLINK \l "_Toc101768654"  Background Position X & Y  PAGEREF _Toc101768654 \h   HYPERLINK \l "_Toc101768655"  Text field for inserting numeric characters for X positioning  PAGEREF _Toc101768655 \h   HYPERLINK \l "_Toc101768656"  Functional Test Case Implementation  PAGEREF _Toc101768656 \h   HYPERLINK \l "_Toc101768657"  Performance / Stress Testing  PAGEREF _Toc101768657 \h   HYPERLINK \l "_Toc101768658"  Tools Needed  PAGEREF _Toc101768658 \h   HYPERLINK \l "_Toc101768659"  Hardware Requirements  PAGEREF _Toc101768659 \h   HYPERLINK \l "_Toc101768660"  Test Complete Criteria  PAGEREF _Toc101768660 \h   HYPERLINK \l "_Toc101768661"  Release Criteria  PAGEREF _Toc101768661 \h  Summary The ability to help out parents and other consumers choose the games that are right for their families by using the ESRB rating system. Validating ESRB ratings is done by two parts: rating symbols that suggest what age group the game is best for, and content descriptors that indicate elements in a game that may have triggered a particular rating and/or may be of interest or concern.  To uphold the ESRB s effort to protect children from content and information that is not appropriate for their viewing we need to put in a system to not allow inappropriate items to be shown to the wrong age group by using the ESRB rating system. Test Goals Support the ESRB rating system by not allowing children to view content that does not map to their age rating that is provided by ESRB. Use Passport to help bypass the Age Gate to make the user experience better when users login to Passport Only trailers will exist behind the Age Gate. Store a state so that users are not prompted each time to enter their age. Non-Goals Require a Passport to view age protected content. Age Gate will not block screenshots, written content, or forums access Scenarios Below 21:  The 24 hour cookie test: 24 hour cookie   I simulate being a 9 year old. I should be able to go onto xbox.com and read about specific games and click the link on to view the trailers for a game. When I click on the view trailers link, I should be taken to a screen that asks me for my birth date. I enter Dec 8, 1996. I click OK and then I should be taken to an error page that says he is not old enough to view the trailers. I then try to fool the site by clicking the back button on his browser and change the 1996 to 1986 and then click OK again. I should get the same error again, because a 24-hour cookie stores his original entry. Above 21:   I simulate being an over 21 year old. I should be able to go to the xbox.com site and I log into my passport credentials. I then should be able to browse over to the xbox.com site and not have any difficulty viewing all of the cool content. In trying to view any of the trailers I should be able to e click the link to view a trailer and be taken straight into the trailer viewer. Features This section is for describing each of the features that make up the project and what their priorities are. Feature Description Priority Dev Cost  HTML Page for date A HTML page that takes birthdate as an entry. Also includes an option to log into Passport. Date check Validates the birth date entered in the form to see if it is old enough to view the content Passport check First check to see if a user is logged into Passport, if they are then bypass age gate if their birth date in their profile is older or equally to the required age for viewing that content. Toggle to turn on for a language or off for a language Need the option to turn this on or off for different cultures. Service Feature Design Web Service Design Details  EMBED Visio.Drawing.11   When a user clicks a link to view a trailer, we need to validate whether that user is able to view the content. First step we take is to see if a cookie exist. This is a 24-hour cookie we create once we ve got a users age. The cookie will store whether or not this user can view Mature content or not. If a user is 17 or above then we store they are allows to view Mature, Adult Only, and Rating Pending content. If a user is 16 or under then the bit we store says they can not view Mature and above content.  If a 24-hour cookie does not exist for this user then the next step is to see if they ve logged into Passport and UODB If the user is logged into Passport then we need to query for their age. We use the UODB as the validate age. If the user doesn t exist in the UODB then we use the date stored in Passport. The same rules for age above apply to this check. If the user is older than we attempt to write a 24-hour cookie indicating the user can view the Mature and above content. If the user fails the age check then we write a 24-hour cookie that says that can t view Mature and above content and we kick them out to the  Not Old Enough  error page. In the case a user is not logged into Passport we would take a user to an Age Gate page after the Passport log-in state check failed. The Age Gate page will give the user the option of logging into Passport and then we go back down the Passport route above. The other option is the user enters their birth date. Once the birth date is entered we validate that it is formatted correctly and then validate to see whether it not the user meets the age limits for viewing the content. If they are old enough then we attempt to write a 24-hour cookie that stores the allowed bit. If not we write a 24-hour cookie then send the user to the  Not Old Enough  error page. If the format of the date then we send the user back to the Age Gate page, but now it has an error message that asks the user to enter validate information into the date fields. For International, we need to make two changes to the current version of the age gate. First, we need to have the ability to turn it off and on for a given culture/language. Second, we need to have the ability to change the valid age constraint. For instance, for US English it is 17 and older, where as in Hong Kong and Australia it could be 14 and older. This needs to be a configurable item for each culture to set based on their needs. However, there are only two states on and off, so once the date is set then a user falls on one side or the other. There will be no support for multiple ranges. UI Design Age Gate Birth Date Entry See the Ghost Recon 2 site for an example.   HYPERLINK "http://www.ghostrecon.com/us/ghostrecon2/agegate.php?destURL=index.php"  http://www.ghostrecon.com/us/ghostrecon2/agegate.php?destURL=index.php Invalid Data Entered Into Form Error Age Gate  Not Old Enough  Error Page Related Documents Refer to the following documents for more detailed information about account creation. Alters Spec location (need to find it) Not in M4 location Age Gate Functional Tests Once the user fills in the age gate birth date page they, depending on the year they put in, should have the ability to either view mature trailers or not. Positive Test Cases: Running Alerts automation to simulate a specific alert and it appears in the database properly. Running Alerts automation to simulate a specific alert(s) and have it appear correctly on the site.          Inserting incorrect Alerts will cause the correct error message to appear or not allow the alerts to appear in the alerts database. Inserting empty alerts will cause the correct error message to appear or not allow the alerts to appear in the alerts database. Null character field Text field size + 1 Negative Test Cases: Incorrect formatted Alerts inserted are accepted with no error(s) Invalid hex, Unicode, other special characters are accepted with no errors(s) (redundant?) Select proper font and another font is used. Functional Test Case Implementation  Functional tests will use Web Runner to do as many different Alerts type(s) insertion testing as possible.  Testing will build and verify as many related tests that are possible.  Each Alert test will test as many directions where possible.  The Web Runner tests will be incorporated into a DLL consumable by the Server Test Framework. Performance / Stress Testing Tools Needed STF for functional and stress testing Web Runner Scripts to set up user state Hardware Requirements 1 client machine Test environment This is all currently available in Test Net Test Complete Criteria Test cases are developed and integrated into the Server Test Framework Test pass completes with no unexplained failures. Release Criteria All functional tests pass All Pri1 and pri2 bugs assigned to the account creation pages are closed. zc\UQJFJFJFJF gdmIN gdmIN gdmIN gdmIN gdmIN gdmIN gdmIN gdmIN sg[sQ PAGE   PAGE
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\doc\xboxcom\M4\Xbox.com Alerts Test Plan.doc ===
Microsoft Office Word Document MSWordDoc Word.Document.8Microsoft Corporation Xbox Skinning Test Plan Title _PID_HLINKS Document Description Type of Document Date Created Status Preliminary Skinning Test plan Feature Spec 2005-04-20T00:00:00Z rough draftXbox Skinning Test Plan Dave Ulm Normal.dot davidulm Microsoft Office Wordurn:schemas-microsoft-com:office:smarttags mswterms urn:schemas-microsoft-com:office:smarttags Minute cHRM %%%<<<<$$Q11QQQ@@@c;;tFFtttccc ^IDATx m NJh H0EB|Ku$v -zZPHZ Y$!^  v[J$x( R><U{ {$d{$ 'fHP; GB5gp IB=gp 2Y(6$<^L P#&d)@ ""_$a j/2"xI H@^@r yrCxN? 0wn"k@S |X[(dk~ #dSe]& Tjddd x_rUs 8C5={ svH(9 -R]OmJ $A^=g @Bci9y ( a7k >xXj   cHRM <<<%%%$0<9= 1AQ;Oc:I QQQ@@@F]tRU cccttt ZIDATx Qt7mJ ZShk= 2O.r& n^Kwf M[D_j\ rg&WW @_:pE ^<!"MEoh P\k.K y*BSu 0"M:wf& PJo0mK^$ PFUkz =wjll  cHRM    %%%<<<0<$# *AQ1QQQ@@@Oc;]tFO zcccttt IDATx a$MG0I 8;PHI iX>7-{ %!'/; -h*w| USN|: h_SO? Q1P!- `\ki< }:q\| \hVb` L$HY- ado#} oi^6ML {YmX} T?!/W "Qb<F`,T gd$*`L 4sj(-A] 41>kh <M <I g\)6Z n^Vwr e2GwU fn3^3} IDATx^ $I]_! W+E?a [V3RSWj AIQ'p }pH_&-h [ PIj oUX?G ~8)!u4 Li+UO 3::\, =[t[n qLLHu/ 5)+:n akBJNz5 ux"5]  d[an> 72IQ:TH NCQ%M mn8s" 4kZM# p*g*v4 |lmJZ o=cld5 QMu+U>Rg T|rz:/ f0d~*p 3i{Vy OmZ=  \s_#a 7=||v >;13y| g"K_T '$jYe VME9(& ]e$kC ZH@S% %PuU*U8G!W P: QP X*!8n HP(;H \,6=Y ,V2kG %'f5LU O@"lMP d<9=; Cxz__ MWjz1 HgXB#(K <b+.pd 5l`3: E!kCT" $`/RT aoAIV C*& E Cq++;v /dKdl p.Ye- Z-WT9 ,AVcU (!+#tkX :tc)Al .a@9Qu Pr4f" Rbu^WJp /e03i Pa^f) wSXh*o0W g9|i1 S3?A# M^>:=t +5OC} 7hD(.,( ,lnKBT Yz;BK f78<@.b W,j{N ipN>R z&v]Uh? dzkIb HH0AX L$jYZ8 a*"Cd; Jjywn 8o_*# M$Z=, $UYW"&, $F<@P [_C3Y/hz #k)2` *ZAVl b;DUX aDsbB\J Zs>l+ [N\ j _12267[<t 0M[Xd@Hb Q@86X %1asB 7~U1D #7+u' ]wBB\r Thk4U p{R5/ nm+]B P*5,w qkrn\S B/aD&pII )\@v_ DK~f& 8(5%3 $8xkA Jd5S* IT%i74S>0 dZb\^ dRsss_ Y\[wA 'OK%s q5[]?t s=9UW 8"a}@~ ROWui Z!E2\d o[6tW-' FB0T3tA@ ~lN7:6 m. ;$ E"fdz<| C_8<y` U})=c gn}wnT~ /NMNd $cF4&m}ZM7= _f)HUh8.B _aWgv  =WBngl\ T6R:.Vh a3),j /Y6Kr yB>A& sCO_b O=8Yx "tENNAlM 85;^o -uy_Oj @DbppxMF\  \sn,5 X<?.o :wCKQP %`wQ, |nhs} n:uda vlP)E V}B%r% e%@&kW 25c/_ FlFQG ytRG{ m;:I12 EA~&Xz` zGgryLs ;t{bH P!ef" Y333D 89x}a ,GHth k,=</d (YNU+ 0wl8sZH ^=zqJ C6wp$ '-Mmk ^b_[>p>u X0I8Nd _}y<e v=8OO `Spjp f%?hz \!.%Q Tb1l0 ^>La@ /b%mE=)A *&49i 9j\M{ 8;]FB y5@!Fw XuAUb L:AwQ E+p+N J=$Ax{x %QPhK  QghLh $bY^} DL$Z' fv9\) K~;1V ^q8C1 S4jGcMm )|br>pR9 Z:a6z e;K=j 1Oc?] m}U*YU L&_-C8A )Mg^j gZUKb  zhm.{R m"} -V KN\I` nnitXg AL#;E g7enC1( S9@ayf BGvcX 2BIJO *|qR~ )f[h-z ICGjhd 3<+wv s4XApu 5(;nK0 ,h\3rj> tGw'L B IK3 _xx#SK vktKyr[% q9%1a|,M gmhL { ?d6S! _xklIM v;by4 hCg N S@MZf c7au- _j+UJ TW_/{ W.=hNr CIiC|UUk phMF389L D=##v iK3=i ;`ih+{ %3viR OjG7a +BifG U3B%# e@'oz "K(8' ^R2(O^ Sw\KK |9b&i3z# $38^  TD?Cg [A2%f 9rb ? CT.Fu 9=+A! }n06_ N&hEc d*9wT o!ZU* RsU-T,h zH&l| k@IjM ?ZRU5 b#"+r j@3 8 eSoPU C9yNX fWwGoo GF^|q \U3#i& kAHSU~ !8(N] "|  |B L;"JMq UG<'H (H3M1l uNKdv |D,V  ?blc7r 8iO I% !VPd1 Ub>f"` VC%h< GcJ>? w?^|( 7ZB@^D$p N3HSHb. l%p;y/ -xQp6&0b .Y0$7 &4z|| .LNBd IDAT[ BJtjX ,Z54Jf< ws|]vhJ- PHeJb ,14") cCBiRaB v 5}\L TTM1n ABoqS JMNX! ])0tz b-T##l 25ZS) ,RTY^6 rKU)cpN 4m{l!Z !'SVilX TG*lG `QzlMTA'Y #PBt!_Ou  _`u$ l+l^b P5;`%-1 1<D ' /F1X/a G5>-29 o&Y,O ;6yvYW C4.0c J"Sg& F9r,) @` ]A]q{M >Ek1:d5|tZ 01VMfe LHXlu RlH@%b eg(A{ C),]* |yEJo =oa6- -kkBr 9Q:oT 7R*(B s.<I} dX9{+? cL-<& P}TAA=_ ;@Q36j r@-(C (CU-Q P-6,xF, }nJ7'B@9v `iX'R jw)T, pH4-_ f~JZL  `F@H npCp: M{5C^ u5o;:D |h~g]8 udP5' v(:Nz 0z""!2- ~0[[g /Pa!2 2Rt2W  1b1s ocH|v l)@yD a(LrrE dXR[l %jNW*O 3\d7b zc5Ni :J8!$ ZAj/Y AO2rW^{u "gW`B`0 %n[26 3j,B" :2YdB oM#:'' Q}2/: \$9,: Kti[T ?}^a= }..)a $1byc j L+  }+*^DX Lz8\j =zlx" |78'D Ix HR m T`OLNe aC&Hi 8r( \ ddD>o +KKCb {Sz!* !B#"j! w1n3u+ |X<-`"[ z(-I) :tkl. xcH}) H Pv2 $wH88r AGptGH IUJnK d"?$_ pC6R@a 8!8Y6^] `;|Gp `Y"9=< xJ {KJ _Mh@d hO3\- "g'rJ# v{3s' ZAZ@9 +re,* DR4J# .z"bF+P `-IhU5i( zJNCl !|3$( !%I3& si`PY I:=]" P`#pDp  ZLRTH (Ol.} D6dCo m"1 S iB&l$ Lx%91 S@NDnQ k|$|8 #-s[- X `"St`5D L$,<nL oxJ]u L@i@K F0^@# p/$5&`" WFv$W zs99* ~YP5E DF7rZ ZA.3f 3BQmm (UZ@/ .B9h3 @3rh'  3\5l h{k{[k [;. ) _|1%%& zSQ@0 (+:YMq "DLu#v `I-Bdc ;!!B3 YtY-& 4>,k8I ic&9<~ MG8CP ku=4) 6,-h  rxA`\ DeR^9 0cj_z\ 0U__- CF7h@ Q&9b4H &a,V1 \Ip'0 IXpC-@' Jt%qN Wp=u9 A7(nl 5{ldV P[t"iCbz@. :^+`J4 XQq#: on"a& G|p+ql &]`Ma b9[ba $Aco=3 ivF]U @"Aq9 <R*3;7ip $xk!5 l$#v1z" )a<Iy n20.! 2{8F# ]PH%( =/;9A k!Q,7 $w(dd D}Bi@ s S0x '6;3T eL!2! m (]q @]I/r< Zn<3, jb'|* Q&j24 p-ee1O a39G# 8#W-xGq mKfT? 0Z2p(zz l}Hl^ o ef$bh xD9,%5 !#&LYg X ,x> wBV9Y &S|%% b!%^Z Neyv0 \._sy :}M86 rghAb }w/f): M#4_=rO 2=g~rv `R0u2C mf9gO ''5c{ UnthH* ]Kkk^w caeJS4$ %&Ok_ 8-K*L7HH Gf]|I E&:3w ?DCubm X?+sk d!%K) Y@'(`, [$t7z mzA*Y! I6$iG< hg#FmOfx Iy&4r SnDdh/!Y zwS_b &(]$^ 3o(aN PpKEAk? .kjvrG #V/"+Ib^ %KYJ$ }!%Qj P+77l 0St8[ )WLiq qUYBoD KdjRYp"k !Mp!a bGdYp <eUolN ~K+L(| kN3BJ 3wZm< 6;*p!V `1ScB$ ,NmAp &x/`) X2[Qj +:&:-v aZYD$# )<(/6(G F8iNjz\,2o  %L?h f9ajx A-5!* ?C&$N ?(B^E ]:Q/*x J,*AA {U=RJt VZL7* y *AB vcYNh *PTJ* 5"%qY jyh UH"$D l:@EY cU"!> "djb:C  QH $? rkYmrl b/%NE zbbFI BIa0E {Y|BvG HKe`z yCg>ZnF Nux@? h1'91 mDKfA @1LQb Jk%0: IDAT2 W`>)G @R(Kf @uOQ}* al`/< *RHA[ T=_yW q+k :N&r?k /\ <O FBPmz *QA#}Wy$[ o1JD~ l(]Qy 2JUp6 G==x_ o"@8$ &qk,? -^R`%b RYDYG &v!Hs FVZ(p$Os "ry47, [mDGBn 40$#B "a a$e +"g`.\ (#x<!) Bbk 0 BX6'zz 9aO(# %e]], "9eCU 5-A30 _B(iy`O ."#I$ a9fB. jH0/L2 V$icF9 C/H*r =dMKhnq(j6Z <i9oI '8qS/ )7gJ` %#gha 5hp]) ^QKA; aZBfo/X L]HHE /_;PNa @!zEk lrX.4J %#AADr vWW}U zriQD73 &72z1r +:qZ3 K3N>8 h0vK2 #jlm}u blCte TQg<x !;*f!Q H5o.6dibAbi (7gI2F -w.o. ~Z3DFV Q'(ni Z`EB^m cG;\b[Zq9 Dz>X? u]O$RO< niF1? M]!Gzzf [g:iN |R$w_ i@GQ^ 5/^mi !h{)B! UTnZz I%apa Rv,xO 7vg%^H j2N,j o|;-` (?hVyPB AbMZ7 Q3lD&$[ RII)5E[ .:gc` Vu$Dk6 A`=Pr mHmQ;6 >chJ! ($Q3^y0 y)%\J 10`0` ZMB(Di  dk$Qj2 #I%Dph 2FyX`4% [""=& t] X8h<[ r6@`H0 <jR-($ m`2.o Df "Ft 49![LJ Z*\Ai& `J`,]d `<a]G +@EZIc 0j3rE |OFBf 5Rd[@ B.P&; gX#R4 ?u[Gn \^>bh kHq`} @i2M~B}4j V$L.  p<5$R%b cE|!2 +,/pY2* \W};o -vk=A~ i{X0t nbY.M?= Y`yY! "$x9A3t _A-A_> ]6`Z6 f=Rt+n nymFN[ 2hxa{ ` W8F B"Cdb ;%`$R zz\ER y!)At #7g Q \5550] s\um5 ZA(H A 1fryJ  x(Q0 NNqSM 5!C2E4 >M V[ J2 e` N1VM#B $JAj= r8\=n \8H\N& obw?d .xz)8 e4d<g MK)K{ ;qEbih7 )eEU1> xlD#Y\ +E.MQy1 q=c5)b dBvmf 4XhT5l %t@Nk F]wCW N(H`/,D 4dM_0 M|sD-h J[@j. p7kWTV kH? Zo +WP/a LFFzJMJ XQ.pU5 77!<r aIA~= ~"\KkT [=8#w K8;sT 3Kn:Z VS@,V JRO8E ,c'&j Ipdxj N@!.I? yIL7V M@N]e= ]}BIA >mYul }O|xA: +(VcnC4% HBqY1 n6=]b; h7}mNc xa^R< :7w:m 39Ot] gP;JX8 cjq2: CR@1R ,UqcL jM[e8 H)W28 )/h0LZ.h 02vBl 9SvLp?H n?>`Y X ~a] Z%Q:B 7FfU/bK`"  $2d_ Dw,UH&d/ D|TpP [ 9Bp yd/cGG aT!e;1 5gbz8 3OJ,yy Sg/-@6 ^uUQA -YXnF 1L$sC Im_c* )ai>Wp xGmSr gvA0X o|mEws &O)QiW 4c)6o TJm=O bV![S m^nkF yUKeK<] kj%*n{& 0M[Os wuG[E -qs&}3 -7]wM rbUM: Ns!h[ Ebsz{Ec <#6ht Pe)_ ~ ]KfDW ? F2RP/0 '$@)t :/%yj @P9@'a 9>2Zb 3G4mlp !`!=X6 edadp 2IAc5 ITC V 5w`8B pe'%N I U&? L1iIC }]l!N t^GS> \Nc\Vd% iRyN*  K,eY H2p WT l_WJ< ^x_SA Rr&W& TpwI/ 1|0h% gWy%~k t>CrFH QJ;Ib H*-P*qy ]{>6W] IDATy_ XscKM| (mxu~ n]Rh9 E#N)|mU ]Rb29T d|!)o 8w[FA Z+$%kP sO=0d %~OXf tZ/MH aP\<u *dSN  `c:O) Jc>]^ mZMiI `$t=AC r*G%|; kfKiY  EY/c b9FQb |1)*] ANGn/ pB`#x lDA444 Q+H%e 5oP<[Z Uhh(+ x]g < 7p]!G +(1ht umyGG L.cSq4 <2cyV Ty`MmGe U:1VS xX.9t IGq [ gqNRf /e#sH R<d=8$C 4,X,@! p(6*r? "@b ~H _)ge)^D ,"-D, EW9b0 \ h"t J!MDIf <A:t@ @WDPK1 .;o7x 2>k|u r.pP3Rn \xWJ@ m_Q.%f n<x[E ck*?Y .y:,)M b9]MY w:qje m>UIk d:F1,' [!-rW {hw6X rR4/J L@z8C X:A<E ){#WQ@ *vpE8 S<M!x AZD0ma minfX U</z( s@Pf3 nbW:1 {2CSs _/zZ=G ];3]N ,XThl| O8gi+- S()4Si @jKxSFs "'M#}0B RWV]:q ].9|B uZ;w= STgO, T[kcL i[WX7w 1u_?z H+hcGZ )$a(V0 zLW,Q }syg]r ]X*q[ lG=*/ +7sl5 tuMy. PnNAo ](I/YQX E'+BH s<[g5 "d>U*!c 3SAQ} IVLPl ^$X|i mHDaJ d[@`T Q~!Al cm'y+-' n +BB Qi;[ZY >Zepf WYNsJ4 MR4d1 8Fq&! knVin'8 3-h%m [UEDG RtWV1vV :Y(de ':Tn_4 Sdx;Uw -YUQ! B&Y)3 KRIK( KBleI X#SP] 5Ua83. 5JPRD #MWg: "?WJ* @gz8JZ h/0(P CD%Ym S:{+' ~W7im jHE%N bRQxW v6LYv P QIc "ruI\ alWH8yW }DsFzQ r*2;j 1DI\m^ dYnjj :%&\y YR@6J 8!K*d 9EDRr `=kjh $6(qEU n*Uld ^8fho S_zz[ U;m{T iVV$tM *b]]F N^Z\S TUvV]V }1Pt, ,#(E[ |eeeVq:t YA65[ :ciD# :->&%a: 3zFXR]3 l\vMRi )]:67 `i]1Qe ZLX`M 5;7t1 xxeuB# aW 14 nzwV[ pA3*% 9,566" zI7 * \)-Zp yBjLM] _D!;!G bNs,) grN2C hE!L7 2rAp# (!$l8 1`<ku( wHS9) dB<kk DA%gV ;WiTmm Zp^57 zOJgA ?,@%`3t I"f9.l -EUH8Y tJI(LC 9n8Q[U$ o0lw"O ukN5544P lyXIM; x11]N x98?3 R(6WT JFp*E >Qt#Q31i 'f#f/ y ,2E ^^W*D A0ijA yyHF7 `UPBfX 6M'B2N aHDpq @+ ZT D)RTr(  (`kT e922Z {D0?6 yFkn" 2E9.W" quG`M ypeE( 9fJ?V2 5LJ[8{ @)n%T 8'kW/Z K/,jl ZJL\v |5_0\ -aFd8 @609G o>}JO}M s+#UI /<w[G9/ qC$Cn ~vLne a;D:t I55js 9m ;* D(0nX ):"Tg HG+c; FMB3/T ?uHP| $DX71N/ \T_A- iJ&R^ 6mZg) <~F'[? W!Xt6 Kimz+- @90o_B BK=/} IDAT*quWe @NX%%". :,(6b hYMXF K"pRJK R55LQ `sZdy !,D&WdX .&DNv9` `#h67j[9@<  &qN. ,,18w 8A.W` @gp!NI K7i\hB s,TO3-p 4edZ* /@{Q1.r q:47<s FNQ)c  `p6+ O6R+P Y.rM* j&(~H +JDTe)L T*v*$ ZyG1YJ .C$Pl sAwhP !jcsK OuzY@ ]:&f* I8UF&c |SslQ 7Xn?} 77j:v :O2+g @srv17 qV(v_ 7D"Zd Kjm:, /]"1- U!DQ) mBm\7 }LvUvQ 25ri[&]o L|S`Yp a>js9= $W.J: N4<Tc wY,iW p$2ZM Ok4GX GUi<^~ xa>9n! Nxxla 9I-vx%V {d2Lqq ?nBhu :p"H% <JN7g8b dy\<. )Gwkp :X$p0LG :AdsD -(0@BT ^CJ?e -Ye|) p@-FP 2cCz: -r XM Dj=D` #aVYR Z)b3WT$ {fBRL +Bl4- [\XNf 0apQ2u LR\)nwD BL&-d /Q00) $&@r. 'B"z, -Q\1B OWC28 Vm$McG KPQ)p zxI$R :eP O4PO= X`.9U O}"Y5 V%W9u N<kY2 ?KdVM 37,u6/ Jq+gT W.[&Z Mec`+t d{vjS iWG@QD GZ{g8 _8};+IKJ H(^l0# 4u>.JZ) ELmp) PigXLv A7]:: 5JerE DNFvz m_]{I kN:j_ O;v[g tj%Vib )w<Xs of*79 \snu2 N*SI2 ]\zj}6 t2MWq j0X&K h8e%-@ Y0bB* M*~rH OUU1_ dxa.N4 HTOh$ cQ0F~ xK@R9 G  K| zPq`H cMd%^  >Z_DZ C1:ZY ]{oe* GqxJt ?,|ZAh; *XGi9%"- l8ihAQ S;`yd JN< 7 ^vQm6 1JLAV 0bp<T xj@hT Bx^=2mr*S p`?HA uus.> c37by 7qn`C Dy-ru yk/=oTPO1 R>&6y clY\O ZzUN) YZL94 (Y-`3 f63|}Vn S^(O& O}x#$rM{ q!PJ9n V0Ir(N' }pt2i& HHu^1 }tOD# 3,jo8 ^,/p& [~HH) L[13v }-@ZjPT \Sj.' 'w2\f ,+inV p"%|[9A*((( k/|Uc, %w;*D o+ld3 F)*)V 62X6K fEc2R dAr6/ [< q9:-  /.LHu 0<c:~ eL6LWpY SbeFdM `uQr8 <jx,[ %t5"9 W)Bu? -?d?7X n1sPI$ Jau<Y f4c&Z J~=o]ov X_yr$xk` M~=/y ,Zrm  b8pv.? roUbmj ]Wb9T$ &jl@~8 u/-'G K"\%A Vz/t6 &`"<E @PQ7t p msm Y6<7T ,K@kT -6G!b8 #Z*cAf BD/w& lt91H zwbgq |mH>G NTlNI G{zzv %,Na0[ wcTJ/} n}|x` ]L*\w {zhKq p%[M? gv[<9 }xnu( 9[Leas }*1iZ9 E<?x'Y .M&&e *N*=c INf^+ 0swvv 8]^5o~__O ia{_l eNnrb `Kikk mNn8[pR /y1Wq A)C}* w+k3}= >qgg[$ 8?ygI aMn;t :Y.ya R[5i79 R3\w1G 5PKLd CN6\I ]t9x* %N4-T2 LkiB% WRN?+: \K*<P \[`JfB p[Cm|9 22m1c tx+Be7 L/){7_ wNtR:S I6W`)  KgN8 hK,28 dY-tD {hMogjb R'hiZ kw-HT ;V><u wFX\k zE)75 udz$0 s+-N$ IDATX f,Q(s4 Y@SJN DlJhM Sh1\an #wR;o h[tC: Z!W*vo KYKG( y_;c/PB sZjUn &=WkwB eT,~nt P_*X. p7,NX MJ$Cx| T5a8z ~ps0P` -Rl1c gc%Z.. -%RSj ",O0Jw r@9L) `k|B1 Qly`N< Ywm)ro^ QXOVE DHd}u `=)PbA wttdzWx 6!37SR +d9'0 pXmzQ xp?*gxx j57Xw nVuoV 4^U)+ k6U{7 J10.) SS{{;u  77di# jcc}. Ya<yA g'^'i/ MA%{( cEY4U .YsFs u%6.5 b$6q2 osRFk Uo)Tr 'n?EPt (x2Qu j<`a]c2l {ddD8I kC>L, EP2`i GFA=e Oo2fb,= H5Qal9 +ypSUI j$4Ph e "MqH} =z\l`iO )[35s Z!ARz bK`b@ p4|!Yclx4 Ow{2_* jan,A [^Y=U "F]oFJ N}jt<] !/oq$5>0[ 0n?d' N2"/DdL" kN1PJ V);mm "(zrQgZ$ R&+rA DRG/C C'2}b -GPLx 5~BSs kaRWI D\}iek" f4<~:*Q4y +Lh8[ phjWGG6_ D_#A?- fnfP9 *)L)(Y8 e1VXJl v&H(< 8-tvL]Y~ J&*\} I@%&c /t%&@ Y!Kii?b Q'xgP M%&$f0 >>(rSP jhI?y RxW+, C@=H< 0V}x% %#Q,g TP[(M (FX>X TOV=RJ +IOF!$qC Obv[x &gwuN L*RzG*X N+ HU O,=BZ2 :"y0; E9h~" tG[W, I@zyt 8 O`K O~BXh U[UFu (  M(j Gg1?i" 5R4Qi j0Ecj LKfd 4 q^I045Hn b0H:E?%ZF *>HN$c&l 8f5,r Di`2J 7mOq6 <T*s8x x5YCQ Ij<:/2 TO?CP idM{& U,{1,Fu RZ$1J W~H|_B `|Y26% RqFE[ `Lj/>r dG_48=X ,lKl^s16 F6zUs %3<$0GQ4 c4`RF @%J$## OJ1M@ h6+i4YqJc +*BGO m%)R:Q3% Z@KK\ *<f{y mP2*n +%S}T \ix)|K@ 1Z)0S )I0Q! ig>V"U t4a1Di oMnMK qR>C~m )760i J`B$F F2'8b TWgeeFFF| H02c* l`ns* e`td: 6Osyn J:{jS a4q % x[5^> quB%gO e)m?5 -1tcZ **wV5 m,U1Bv {]1rN #N@Sq=l =nLs~ xp$Fa bHaG1 U|N82 #=b?hk 1>8R1' JNjTL lHd?> 3](0d 6aQfP> e3?j( 4\XKI d#:`+1 ci'D- cVx$SH eKOYX[ f]bpa1rZt* &@ 44 bb)P$ `km P> 9B+E^S"I' ",P &c /bAUq *o)`!V #AYO[ atXVb BZZV:aQ ph%#) NM1.B PLiK_ .dEg_ *Kpa5 lV+#-a pR9_L 5]^_> =)l$6 ?'iQ9 VK9v/ !q-XH ybj1S SEWXRsf> Rm$y>^={9]z n3#~5 UR6[P} M_UC2 1]McU V#O  G ORT3^ [fkG7 VUU%\ sUU}8 $&J V -^Wq$ }3n[xx i=k_XW 2'\5! omnMm}} vZkMm{c dW<2qZH WOmZ= };..} |]?y} Z7}bSU `N25w wnrsKU, jfC8Z T2>,Z) lgGm] >ijV+ 6<9T] ;i:ET %WMk, A1'^? Oxd#g kbHi]T}^ vd\@H 2,d%) 7/>}` Eba_wo llnnh )|6 I=g :wNQsi$V XuM*w `f14E :oem  ye%GL\ye zhliL% ZmZFn fMoo/ !KBwgWum :ujG[ E7,lmo L Q7P nV(V:} u[[W'h 3gAz` d%.(@ U)%<L$R (6o%@.P #:U2p |?,gY /&*\W iE:%8 36+Q{Q Nojmzd m0<9y `4cs)W +~#kJ[ Aah{Z h6&+& jM|X&s xpL*" }hmh:|XE Hn3C. H"M.Q .Xj0D 1:,d /O" Qx=O| EriEw y7KE/"4 Ambd*_Dl \rN|- $UA.g [IDAT 9^G&o E5cQUC 6']^` 84Mhv MI'I+x DL11: Sf0{X e&bwGp(3 $xgpw )~fdS Q`YQQ| pM>Hfx8 mxp#T *)/y-r DIk=z 5OdF< ]P^@M !eokU Fh3)c #MsKD dp-7: +X"u0~P M9b1HK eQr(I- apR3}, k*`9A !%$++r L@[Ap3. aR$g) 3*cM7j KHh`  <|L%K ^&1mI HNy5d  V]IT` LI-i8_"[B2~ "a4Y>DRJ(#a 4S7}x 2])dLE ;4%E*N YI.C5s Ysumpa6 OFUw< o@Lb> Hww78 POooP f6%I7 ')z]v cXJJ6 ""pS$ wQV=Cr lw>GR uBqCkC.C fj@/e #7U+Fz q$kVM 3gf!@q @uuuu cEM0W ;"dO  a?0"F pz9vl i>UpEUx ;X=ir xe,G6 6mrsm *qH-l N^WB` fDM6W2| d*YS[ FK09d F.gd5 4D=9Ed OK%>8r* dOAS( a^F1~h 1voo;q ?hf&/|t 3gOa3 +V^71 ;yZM8 ~Bo<w XY0u! 3_jnh Nw.>m \WwC,v gM-vB humUkG w^6;C W_}]7 !Ah;! ch$mv FRqxy x4/\s |~x{g \_80SQ S&-@x NE#UnO r=;vmL rZ?BS xkCCK&s< |`5 E zP-2Ki tdE>0 a=q6FG K;hV+ &u&kQg CZUp6l qg:nr s{8p, ?,qps L?#KN2 V&eG^` P.i"v0k%; S_YYy CTss< S'VWc P(XUY R8*y(|# {._&rjlj $sQ[^ k)EbK 8nDMm [_r6oK7 <417} =;Xid7 Bq|lbt oSss]] O Gw$# *,~<j<i caDT( -(h}NW Dl5]Y e,v#4 rBsD)x &6%hwx '-@(S M[Nnl a(6'J}V} j*[14 #Gh6S ,.bZIX $KJ9/ t~AC8|t haQG* D3V|A :,$]M% 71p82 a97mnF qAI<J R)ls*FP9 PX!6V S4!v$ O&8O4 0r,r1 T3$X7Z) B%]!vFZ ;DGDJ" :ell% !}j&`"E;tL GWTqY-Y W,{5Q +;@N7T p%LVt 5rr#xc );NBEe cQOP%W%5; rPQr0b<iV P$"G" "{xKp ^Z!z~ ji,Xi  gM:L ldb bDgm7K QnM1FqT dCB2175 &Bg;2 ._JvJ H2^Ay 3z(p+|5 |s]CY( !(ISi %38IX /@$eq ;?~iaf wz*Sl( 9sejq[ oUm.b Ns`ueb* dNo,L, Ylezou9 {648<{ g^<}qn lffqyfl []_iHN lC}eUym" 59y51; =[wl[Y =_YYSW[ KeO,5 dicn|&D VVQI;% ``v~% >wv1p GWy$2 z&8z*] Z+j!j 7$5~i. h]CWbz /+s ( &yZS_cO ,*pk% 2#jiqX ZA3SW_D (0&i4L nM]uM tnn%Z r,o,+ L4T0j <uij5 [f5j- .sE2& IX6=9US ]^kh) g3Dw/ sR#2M- nCvzzjva~ fr2&SE >;>72 `MfSs \2|-] "gfee9 sE{{Ks *9=Mm( G7j:j FMz[1 Maf)d M]MGy cGk;$ ,8+kH +TX\Y rK Ag Gj|TS 5;@l1Ba ,+&6* &52,n E:mlb TaZd^ Q>O>B EjMfG Uj;~x V+qjU &8hyT` Ducky Adobe AQ"8a#sV #3St6 z@uF 1) \H[e*A =pb$A9 A@D@5T PBu-D%7R 7!#+! %hq,w lu!D[n A>BFe zwXo7 n?)TL 6.FB= nC%Vm5 +iU|S=_ u:Ekt tLH\* n5q:8 = ViSj ~K*-( rG3wk KaiqZ b6qHJ =Z=lo =Z=lo =Z=lo WR}Z=lo WR}Z=lo &9)|E iP)#a L"&)6 P<@{' r/rl7 IeZ<+Z ]Jlnv Gjw|' [1@c,is n[w;{ NAI$d GE!Hn qQ;rkC mr^b^^T| y6h<' pzI'q kcho4 b:R6~e{%RX .PMqM> R6([q {n3C&Ce< ? J1\ rv8,&t 1H""^: -HJot UB6ME frS7v6 `EJwJ E4VY$ abCq: E1)PQJ Y1QB$g% (?DLAQ !27<v Iz_71) WmNUQ8 :<'b~UF@Ofq HL2v6 l-MX) qZLc; y*Kh@` h|0{"\QJ `a@-8 uiH;M% <T9R( ekZQm ;H#ebO  HC/' VR:j- .nBu6P q%d.1 w_MkG# 6s9Yr GnX]u 7Q%VJ] v)`m7; &8,i+l D5f7v U&k1. *6:GL8 (c(sp 6IeN~ e?W;(nB; j+uF8 Oh3-: PJ-)f vcL{P Jw|zgQR7 pO`[ZN 9Dm76 [e/Fm Ce)i7 @;@H@ tA)L# 0c Cp" M%+Hv UzEti^ )TC8.V N{=MT@8t8ml 5;!uf, 16fS3 l!*=V 8I"s( ~n)wqspSqn [UZ0; m{R_q 9K/fl uxfQq rIq%) y!Z7, YTYUr 7$:*V )^eUB~ Hw6HN U%4Z} RNq+d zRmpzEg~ lMV(<y 9\oCo )G(4QJ Qm'ZE "8qA)%(J RKwkF l`<O9%b X<Qg-[8 o_2Tc0 Ia=o} %\mi'a ]iU3GQ !AHmn MB1HX* 1)-jR v:C#; fmH{?gd fhd0| @zCPn NZr&7 ZW2fG HDXse?%[ *Sj4I fY%+qaC w]6Bsn D{_70 v[uk]rJ I 7!r Xh<Yw LBTR_ twK*b Q"W}6 ^3PDAR %e.:^O q(tp{ BzT=$~5[)  RPUp ki)@I q"UX5 \q%hB ]S2Talu s2ZHD Aq {v 'a)P;+ >R8e   (ie%M/ an<fW ur"GaR$)(e SyZti m,))P '(}:= eN{]F w&(uh @@zz5 Zt-:^ ^Dm/+ nA)Jl qhim\ ZfIKc L]M1P $(&TW :u8t] 2\=<O s;QGB e%[H: 9\_lo: T6_sL h}iAQll hu{\A je!hQ iHL:e+  u3!)A*A oj2Cx tj%r{ >twM! I$n%$ "I;7V V&1T6 z8y)7Lhw q/;vH 92B2jPnb r-!rX, #blH;G ;kcMh I$)A* Eabm^ kE!AH(;5] s#-"3 :Se\XV4 vpju@ Ru)RR/ zV;wi {ZUWd d)LoI wg>NE 9bLPV JrB[gc .~$)y~ /FKB5 *uG`a w7eqVP % ~lg9 _7R~^3 ))OY? _Hzu3 [S3/Kh TjE({ JURmzE I'qS,_ o9/!Cg6 mN, )IIQJHHR X\S-K3sM FE+ iG *lISa awRt< :ip4k# pY>i+9 MIaYF {%^:j YyRab L*;k% mSWg? *@a"g0 6v6Tv 3N.-^ n8Q(i ju*sN( <\GSZ qlp{Gg pLt%q[ 3`o4k zF22GsY Y@S\T grvNW 8n0;w2 MjZ5/F KYd[V 7BrEh }2k(a l^b9g7H c&14[?o ,WcoW [BL.Y F33S$"b q(ZH!I \[`ZFM m>)6)Kd#K H^o6Z -F6EL ;xE)J kdUdY K{bc\ "TZ.D VrE"Y kxjL]b I${4Z- G6c`R w\unA 7R.rf[ ;[#jC H)Orj RB"ES sJV-M (oB:m w%..c2 })Rm' u%CzT4 XYZ$d ,BoD6^ 7Iq6b n/#=H ^I o" iJPJJ< 2zC&b s9j.34 ;C+l. KyXZz 3e#:a\{S )d\U5=$] 'Y"Bv 1FJ"Q 1@@@@ R}qZ\ ,]{:g ^Jb^^bF "N^2T RMh8t j$nUHb rRPPv q!eCx :RTKAK XH'?s LCH0R\ [KSj) ET*E0 gT~^< [SZ/2 ^eKihZ )qN%!/ hs6rR ^Kj %ji isYTp u#''" FQUT1H )J!)H$ {/zxJ 7ch=# k7#gq >C.Xt :ds9f* *SSbj \7$DS,d "X(Yb Y&F!= 7q5k"C F^=9& <sPdD 6T<!+V m\$%Kp `Z[r#'[ tt|<{ &,Y6"M j>>;Im >#Qes XXi:F b7(u` ]Tl,# !J[sq  ?^ey_ .AP.6 %I!IRT Eu>Ymmd iY4iJ4 EJ3k# lu[;f mi%+B o4b2# RJR|` U_2`,]F &fXFN $%(JCjSHR >\E%0#c BYec" ;Hk/y jO)cr jbNvV 9\N*.! 9"lln[ W!IbS GH&/#Z@ Yt2b6 2CK}/ |\s\E R:F>b=E FEtQUD Gs`ByJ: ~u?|=z &ob*Fp !Hq0k (Bt)F ^g,tK vcM+p< y.PfO2 #XUFr$e tL&F4 .Wh{( QZKd,=% )eke. $55hD C%HRSlZ jsQ;> |nS+3 &*[Vpr .tz8[ ZmnqJR- mH:xw }f>z& {ZcL{ wEq6I Xv;<$ -!a+ZB vxH-5 .=R>MF1 sktVS qjsQZ 4$hA(M W_~+-6 8~6"n tddsT ~u?|=z oLa0&R  n-0#<. jL&1l4f2.{}xC .U1-C[ yff"$+ ;Lt5' ~P}\k }bMwI? P// r fS*De 7/!Lb *tln5 !V)$) CKad_~ mh%+B Cs;;(C !!%NhPBTA CIYRAX i!IRIJ W(*S$ 7kp]c <((K, UVl&I' *9P@wXJB +%l6y W)6PR fCp*Lk& q:<iO \u!}$ hzR-b r1y#9z @c\9@ +[ijb 14,T~<9 Rf2d0 c+4m_ j6K.` \BCiy} JZ##Q ;FjRp 3"[M%J LvX*B &&^lx Ur4;c v25Ub [[NFSru- *K6&c! i8}#%" |rh)!/;d &@[3] UB7Ie 5DVu" KyYES b'NRId @LBAJ Q\]*R g31lT; p%K}D w.EO693 ,<$%R$)! qQL(W YuM)ijCoFZ #V]Rd0X -2^J# %r[az lGv$W as*rC dFHS|Y,! #"Hz;/ kTI)i U&4e) sdGfD  FLAI m_FBF S-JB$ 5h.!+mZ e%e$]* Os73= Cz##i'j yjg6r *0mA/ c*XrR 5E7'u%R| l'#%(J "s:;o=e|i m][n7 dLOqL| xiKn0 \Sa)S "_iTHK |xyvo  3^(ui R6x*y )@DD@U N>tK=m .)'bS }bMO$ mSWg? h=S%g) REc'Y z@zC^ o|DDGYC DBNFJ R9X#!Y vkD}@mk w3}:O $<U`0v %6sh5bFME SI99KL H"nQU ~.Egb JW1sv 8iq3P "b<I2 G9a,A <oc[4 ,,j6y %UoH3 ~.Egb R'Xb, "ftsuBb z?,Kq [N4\p #[%ck v'g{'au G\(O1l ;p35U;% ne-zG uVpeN 66lN{d VJTe %kG |.  ?'N$? `[<]sqU \zz}: :+&`* @xV#> Mm+WF ~xhz~P sCf<| <$LjR NPkKm nl,.6t l,.nA; =J16L r\zIC ilw>] ga%R# #oSKV Q!e(I6 (qvW) KGO8/ EV2IF y\"KX aM#)4, NQulR H$yIP }9-9\ ">VKl^Q sZym{ vvEw5 SquBJn.zt !<DIh hn]s7T p' .' 7zxi- ULPPJ !E<Xe $gq2Po kp}l,R m{i7* #-Na%# &9S:N 7HIIJ XujC+uA7* 9};+Q l-jaZZ !A*Ny zKqrK YLuJ3q m$*L. "J&p]m &7o)e H[r&H :]~;Y ao%bn q"3ja I'`JN iPAB0Y k[gJ}LY RF1`Av U#(N& ):3(S H`T98 9F"&7irNp> H-2}xM -.w1) *XDnZ &tnIW %IiI_ QsQ)y *\vTASH) S.Jrs -I*YkR 7dX{) &vjEs< ~}f[Qb% '3&cwU o\;*] KQxN: BJA!7 i4]S7QU TYw%\ |tJ}: mGvrY LWJ$- [t9*# n(KN% d^_j2 GCbRW g3gi; 1V*HYd ".if\5 h)iJq RXmre IAM68 Xcd;6{} *QTu8 uw>LV <u+3Wc Bev]L< yDyDn [h wtm'W hvn]IY\ C*ANJ, n3c[i &chO6* >^}C. j>q95- (frc2 lS}*5 GS+n? o2s$l fNz2r <Q<p5f coyGn7 t,"BZ~" k+*~M 1s,YY., gHzaD yy+n:U l6xj[l i)WQWF2 la2cBf9 8`$ o $~Ru]q *0WaU v{k\V MZt%jNS k97,cLud *qvB@7" u9L~DQ! !%J;M rv+EIEr] @@LN! .Skj@ )*%ZRv yE^@; e[h<W u**^< %*Oc_ 38mfR \GA7e $(EKo( ^/'&{ kj#Sb y1'"2 -VG`{hNo& A{SRw PhY~c ]mIT_ +Z[Rf3 KoHDs 1MS<Tr o*yi@a %:IKV; |5"F_ 1ce1_ T(kQR gs31n )_6S? 0JcJ- [3"eI l66=u T?]=> %O1c~ T?]=> %O1c~ T?]=> %O1c~ T?]=> %O1c~ ;7<Tx$ Ducky Adobe 1"VWAQa C4DT5e'9 Qaq"2 Br$dU s{{LM M|m{0 %!#uG qqppqX 9+HY+L)6 7@!S' .b-ID )[mq{:e 3k<W` >}6SN] 4uwXJ .b0c0 uY8<5 .;ILLf aGP()} ('Khq %!`S[D< Yp-:5B _?pOWY -+~x9[ KiK%J ,1Z1$/ .'@I^ ZcgJI gau6` %wVXp ];wq~< [5G'S _(`%e %d8qx W2KJ[< t)o:, >r=:o jHTQk #R|9Cb ujR^I rt{Z3 nBTly ,-Nl. +cfmV b09$[!oR 9ucdL )pzn[ kecekHRd cSWvg '5-ncV d.ie2u2 ?XtOp !Ct+Z+ f6i% s W/fS\44 .mjc1 sV~9o+Z$ L/=nx"CY^ v*5!, J1aQE S--dV 'RH)< RSeX^ y|N|)Y wEId3H e)m"L R[qzT ,AOwXnUR tp|ohs 2?22E t2!ts $-d)v Z[Cb1R )<UiD9 pf*X> 3<)KO sSJP{ gf4#~M mzy28rf )iRVQ B@XP7);TE ga|)i Ik3R2 `Q+-z kiCgBA N2041 '&Tcz ^IoA L nvrm" jL@Jt" stjE'v d-jBIU ,yB<c! aN=)B s!&ll%A  T4+c #Y!tlG xJl!*= 9sewL OeVPs C-O54 lnixrd- 0?7 yc|ge yvp}N jSaHZ\q%E kTIlcL[ p+mg{ )R;yR"6 :+Rzs O(arp5) (b!Jr J\mIR `]fqy )(vC+ ollnF 6wL{o <)Ntl 5%UC, cn^Y# z7|EP" ,rZBb0a 0U-ym KA)J4( JnuiI!:osV fjl*h \A*T? tUWr| JO1eG 91v4b zIU$8 JO/Lo N13$4 >\)_w J=Bd^ B`5{Az" 2l2Oo=6 LVV2B@ nXq@N %1)lY MRG%( s[R%NNN 5%|eW# }!slS 7?GI}3 (rDt-v: !.%:B\Ki[N P[<f6 .?]+!k 1:gfp 1MoK: Ug{Up +|5+Z B{Q&)LF *7tvMe [;z[v? M64jT hfprJ q''PRu C[AGG ~nRai% d*yw)) 9w]wN xv3Fo=`j +frFK 5~Shvn wC%2y 0wh1bA %$JV( 9Dt":I B"]T& qhim\ R#r)s )W-3$ O9o\p HR{A@ &'$@}wpg jzb~L IN0:, 1`=.y m%-?k5 '."e!hQ EWzI/ oj.<& tUMco MAsRw3 TTda# um\y' e\)[^ :;Wxzj FZ7[& Ymo"jkr u|Gql 1y$BC $yJ-= n{oEv PzbL7 MjZay `6*3n uRYiMZF[T$3' }H5b5 e[5!KPJN ]p0W, XChIR $](WR 6NN:" @!"Tfd Y]c$Y9 YK{_u,Xw K6w7: j{b{jVR zGV8,5 )=9]H 1Jr<g pfhxU lRhN/ vrZW} pz+a_ )bxm` muW__cr %)\id >&3 h CGTjw i=3cF V{cKX Ak5j-M 9L|AvcgwX /oiRCMt #=fzD ;GeQ7 TqLy< X ,xk Vb(Ke }AKmu 7I pu kWVFo4 GXXr,> YJR+Li c9}[q O!Q{BA X@%*,k &FWj\yI  a7')] Z#&9^ X57^B i+% e *_!2( f2)Wwy eJdTTe' 8kC3Z !uR26 ew<qDW_ oHP0,g |^ksQ mA'^p plZIF \U=U& Ms+:4 M"FyE N<5^c 6VL"yFr m(i(miJ O%Ahq >dKh;[ v'/Av V&vk[ \Nrz# N2aiW 4JUk{w 1*v!4 X"wsjR uHKwP; 6g<wV2O &|kNY  P~;B 0&RTu njp!* r$m>exb s8j.34 5i5Lo(6cT n+J@F ;?kD[j )A=aa )p)V# tspXh kJn:Y #N/ 1ES/; s&;he P+WmF LJ+l<7 i%?gL MYKTG %o^(| HP)%  +#'7+Q p<`ga ')LMw #6Ti8@B6,"/ DJ%f8 971d4 .|&DZF sS@+N :Q+l3 UuR.| u1PAP[ YaQ') 9reH% H=%jP0 eq/77 \).!+J WuXu" gh^wO LrDk{Wj a?M[z Af5:-$ TD-uO_K 4*'(P :Nf:{^ ~5U\) eRYwu ZE-f P ^D%2{ =CrvD S+*Kem 6[Sa:T. eRe-(a#i< "'WGf|2 VgL(M8 ~+&x}~p -{1i^ L~,s<> ~,W<> XFx}~p Uw(Bt)F <f~&G* >pd}Y >pd}Y rvQ) \ Wdrn=2 mIZu!JB sVoh+%6`% ImVV2 hmRR) @AHX  Gy=/^ @:!_>_ $!kl6 ]iKH$ pZv$i V]p:wq mh%+B -PcGa/ -!)mZ KCkq% ej+zpTje U'w10 Z@BHJ 6T!jHxl HIZ[M N5O_` S'S}&K ",U)$%HZ JoX6H TH|9v 5gsfqrW 93o2j JwE)J wa'Ma>x; ;-!hq wkBTyg *tln5 dG"PA n:*B5 rSO-I .RHP@M[ KODdI N9/P' QejeN7 ^wRIk :'$+d y"9.oktB glMerH ~t)D^@ 8a!pe G}7mi ;*TZSZ R.W$Y `tzVq  Cn[-GstS)! 6^s`c^zL #x^z@  {opJ o&xbS ~Xe.)M v#*e3 .\L>9 )bdHd.7 A.riR 5ry C3~ya?c^n ,kN@m H%JP2 a%/Jl %*R]}? iHyNj* phl0#4 ;wA#cm Jj|Lk \6l8B ZZ.RZ .lspJzN dkmjJ u%JIM %$J^Z 0(K<HE Cq'kmr? !Ei*V \iJIHq A(QJV hZUcc &B,c8 ?Qe = aH}c; 4U$5, t9=aq' @LR^R F?W|g iR]77 H|4Wv lUf8Jt b@)j4w d te9 N6^}K M{{.< @je%Ql Qe=1:? q?X<? !?Ly20 qlK~Z buw2V %''*q51%c bTfN4 [*[iShsV"D Auw(+ %n-/: #{lJD-J G3E[iWP* <S[^`g q\}(q %(p[J wkCTyg W'hb).5a p%K}D BXKN6 W!0B1Z )KmJmb Y|in6 r;a(f$YKGB kt%*u DWZ'W {]YSo lB@[m9 9rm]t 74jm  f>`B$ r[swi d5ryC ^}MjJ y.vFFG 2W:u_ 1;:De `EjKb [4^ea JP\UH (mImzR eNM[a: ?Qe = 7!Dge MvH<c ^hw(8c 5+#"+ IJS>[r 3xH31 a!$/R+C CA-)Kj2 f|p{C 3XSC[X M%A.6 .)ya,M GfBGcp u35{Y6 *4mHh qjsCe V'{xD 8*D@D `h9Ny iqmVJ LVp2L H|EVe &%ggFoX Q'V@N \c8HgD sQ-$Y exS[S T"9{9 mn}U$ }n%ax 9;{mQOAq Ql-n~Hv f8HI7! f`?Ky JX'e- 8boZ\` i9<=& p4O%{ 8~OjXT L;pYlC >~vcN4 dJzUSeq Heqpf( b7F=[ Oa"iG unqVs o3}$uiq Sq|Cj \H+h; JMsZR4 uZfF! VynZmiJGe( N-958 uoMyeKZ <s\v) 7<e|^ z,Ohg b{C?yM j5$GX :[.21 %i!iK IaNMe ,cuas b{C?yM U'k+8 >#(0! 0,g>Lyq a^u7( N|D+\r VzW7z g?/%z #nL[b =8I,& {C@\T-] Rs[$l jp%VQ K%~q7 Lcnq[y %WZUVT P[?Pu{ :Skho [^hKN SijH< mn^_2 JIU,2 Efd/^ g%r F  sg"*^ 'zyjF yyO?  hY,M1 Q3{kcr" |}:VC |}:VC |}:VC xs8998 emio$ KQ%K'i sUJ:= aI*kz 2QB\, n9B@  _,)fK\ ~3O!7 3Rb/! 5,H)N _kWGp eJI!. .""IB ~3O!7 VN2)y;ffh <iQ%( Bkt`p (P%J@: Q}z[d ` w,I;9 l:\AyZzD  k-e]m )ksIw S2`+^ _3H6~!Ml uQDfT zDwX}p 8'+oa YG$\S hvza4 jRN.+ TNVYh 1[F7r vfnTN _RH!W zX5(Y AH)W} /'#d@ <K$kz IJ];N m!W'N >8(sZ eDiJ*% d}gq' x}gq' x}gq' -M}|\l E*W'~ q^)zf J$`/82S nslo~P @l|GSBR9 N|uhr2 .||\de [n'0#s |bC'! gn`TY rl'w-y6 ,vN>RR iMdFA HZq,L 1af`M3 J^AuI+i ^XaO!A <[l9*L !(qhq; FiHKo O}hTi )rEF(F Gv+o7 c3' @K oKA.2\ 2)L:W j[ME2#Lf<Wh w>xip M&lD< %GnK` R3l+*\ H'Jnl Q{I.&k 3oKX`~ 7p{!I \uBGU tJY{c m'%9R Huz[qm8 p*D-m \iKmH \x0WQ m6@AZ (Kjgy &Sr^e .FfW) |#t$6 NRVFT q_FtG }H}*qm< =5+l"H_ %juO-KPZR (SOJys oKZ]y 8Y)o] uRbdg & z;N E*I~`i ZIcLR M&\8e( Km+)J -9C8a/ E%I%%II" ,+Na"6 I=Cy$%4d)> jC breF '5)l}f4 bG"1)( ~o4jN8F nh)b|'Vsh Gx\%jU byJv$' `@`2< IinZ% j=,e*> ~sQr-! tE3PBfI2$ FNhAw 1\iJfKs ;7@tHYj{S UM!\mN Hzg)> )uA$^ Y0]y,Iv On=oI  @m8P 4h{SC< lq+Ip ^R!*F `Cjxi) v&J'E X|n1A T9F8W rC@zU O`vMk >z}*=Mm )e=nO >z}*=Mm )e=nO >z}*=Mm )e=nO HYPERLINK \l "_Toc101768636"  Summary  PAGEREF _Toc101768636 \h   HYPERLINK \l "_Toc101768637"  Test Goals  PAGEREF _Toc101768637 \h   HYPERLINK \l "_Toc101768638"  Non-Goals  PAGEREF _Toc101768638 \h   HYPERLINK \l "_Toc101768639"  Styles That Can Be Edited  PAGEREF _Toc101768639 \h   HYPERLINK \l "_Toc101768640"  Text based styles  PAGEREF _Toc101768640 \h   HYPERLINK \l "_Toc101768641"  Image based styles  PAGEREF _Toc101768641 \h   HYPERLINK \l "_Toc101768642"  Image and Text base styles  PAGEREF _Toc101768642 \h   HYPERLINK \l "_Toc101768643"  Related Documents  PAGEREF _Toc101768643 \h   HYPERLINK \l "_Toc101768644"  Skinning Functional Tests  PAGEREF _Toc101768644 \h   HYPERLINK \l "_Toc101768645"  Properties of Text Based Styles changing font faces  PAGEREF _Toc101768645 \h   HYPERLINK \l "_Toc101768646"  8.1.2  Font Color  PAGEREF _Toc101768646 \h   HYPERLINK \l "_Toc101768647"  perties of Image Based Styles  PAGEREF _Toc101768650 \h   HYPERLINK \l "_Toc101768651"  Background Image  PAGEREF _Toc101768651 \h   HYPERLINK \l "_Toc101768652"  Text field for inserting the path to an image file in the CMS Resource Gallery  PAGEREF _Toc101768652 \h   HYPERLINK \l "_Toc101768653"  Browse button that opens the CMS Resource Gallery and allows an author to select an image and the path to the image will appear in the text field  PAGEREF _Toc101768653 \h   HYPERLINK \l "_Toc101768654"  Background Position X & Y  PAGEREF _Toc101768654 \h   HYPERLINK \l "_Toc101768655"  Text field for inserting numeric characters for X positioning  PAGEREF _Toc101768655 \h   HYPERLINK \l "_Toc101768656"  Functional Test Case Implementation  PAGEREF _Toc101768656 \h   HYPERLINK \l "_Toc101768657"  Performance / Stress Testing  PAGEREF _Toc101768657 \h   HYPERLINK \l "_Toc101768658"  Tools Needed  PAGEREF _Toc101768658 \h   HYPERLINK \l "_Toc101768659"  Hardware Requirements  PAGEREF _Toc101768659 \h   HYPERLINK \l "_Toc101768660"  Test Complete Criteria  PAGEREF _Toc101768660 \h   HYPERLINK \l "_Toc101768661"  Release Criteria  PAGEREF _Toc101768661 \h  Summary Alerts is a way for the Xbox Live service to bring gamers closer to the news that subscriber s are currently getting.  They remind and notify a user of event(s) which may cause the gamer to play online, getting news of the newest games coming out or having a friend ask you to play a favorite game.  The .Net Alerts backend allows for the delivery of text and other data to email, mobile, or messenger toasts. Nearly every Xbox Live feature exposed to players has the potential to be delivered as an Alert. The initial set of interesting notifications is Friend Presence, Game Invites, Competition Invites and Reminders, Title Message Notification, Team Invites, Logon, and Xbox Live Service Messages. Test Goals P1 - Enable users to receive Alerts regarding Xbox Live Service events by validating that they appear in the database.  (Current testing methodology for alerts) P1 - Enable marketing / editorial team to broadcast Content Alerts to Xbox Alerts subscribers.   P1 - Allow users to manage their Xbox Alerts subscriptions. Non-Goals Enabling delivery options outside of the .Net Alerts backend Enable two-way communication between users inside and outside of the Xbox Live Service.  Enable external game publishers/developers to send alerts directly to users.  Coordination with our editorial team will be required. Subscription Classes and Alert Types Each Subscription Class has the following attributes: Alert Type   This defines the format of the Alert.  This is different per System Alert, as each has different required information (Friend Request, Team Recruit).  For Content Alerts, the same generic (ASCII text) format exists for all Alerts   there will be numerous Content Alert Types but they will managed by the publisher tools on the web front-end.   Subscriber   This is the webID (i.e. Passport PUID) of the subscribed user.  It may be associated with multiple gamertags, but this is not supported in v1 because Gamertag Linking does not currently support this. Locale   the combination of language and country forms a culture.  For System Alerts, this only determines the language.  For Content Alerts, the publisher must specify a culture when sending an Alert. System Alerts (Subscription Class) This is the class of Alerts that is auto-generated by an event on the Xbox Live service.  These alerts are not scheduled for delivery; they are sent as they are triggered (with some additional queuing delay time).   <xsl:choose>                             <xsl:when test="Type=1"> <!-- XONLINE_ALERT_TYPE_TITLE_CUSTOM --> <xsl:apply-templates select="Sender" /> has sent you a message in <xsl:apply-templates select="TitleName"/>.</xsl:when>                             <xsl:when test="Type=2"> <!-- XONLINE_ALERT_TYPE_FRIEND_REQUEST --> <xsl:apply-templates select="Sender" /> has sent you a friend request on Xbox Live.</xsl:when>                             <xsl:when test="Type=3"> <!-- XONLINE_ALERT_TYPE_GAME_INVITE --> <xsl:apply-templates select="Sender" /> has invited you to play <xsl:apply-templates select="TitleName" />.</xsl:when>                             <xsl:when test="Type=4"> <!-- XONLINE_ALERT_TYPE_TEAM_RECRUIT --> <xsl:apply-templates select="Sender" /> has asked you to join a team in <xsl:apply-templates select="TitleName" />.</xsl:when>                             <xsl:when test="Type=5"> <!-- XONLINE_ALERT_TYPE_COMP_REMINDER --> Your match in the <xsl:apply-templates select="TitleName" /> competition, <xsl:apply-templates select="Data" />, starts soon.</xsl:when>                             <xsl:when test="Type=6"> <!-- XONLINE_ALERT_TYPE_COMP_REQUEST --> <xsl:apply-templates select="Sender" /> has invited you to register for the <xsl:apply-templates select="TitleName" /> competition <xsl:apply-templates select="Data" />.</xsl:when>                             <xsl:when test="Type=7"> <!-- XONLINE_ALERT_TYPE_LIVE_MESSAGE --> You have received a message from the Xbox Live Service.</xsl:when>                             <xsl:when test="Type=256"> <!-- XONLINE_ALERT_TYPE_LOGON --> <xsl:apply-templates select="Sender" /> is playing <xsl:apply-templates select="TitleName" />.</xsl:when>                             <xsl:otherwise> <!-- Error! Undefined Alert Type Being Processed --> <xsl:apply-templates select="Sender" /> sent you an unknown message in <xsl:apply-templates select="TitleName" />.</xsl:otherwise> </xsl:choose> Friend Login (ALERT_TYPE_LOGON) NoLimbs subscribes to Friend Login from a list of System Alert subscription types.  Any of NoLimbs  Friends logging into Xbox Live will generate an event and System Alert for the user.  This alert is sent to NoLimb s Messenger client from 9am until 6pm and to his cell phone from 6pm until midnight, according to his .NET Alerts delivery preferences.  This Alert Type could boost the visibility of how often users play Live, though it could elevate the perception of lack of play time if Friend Login alerts are rare. Example:  Messenger Toast pops up:   Bob is playing Virtual Pool 2005. Example:  Cell phone SMS:  Frank is playing Project Grill Racing: Short Order Cook. Please see Alert Strings table for the format of these Alert text messages. Game Invite (TYPE_GAME_INVITE) Currently Xbox Live gamers can invite offline Friends to join their game.  Many do not use this as the chance of invite delivery is low.  If Bob or Frank elected to receive Game Invite Alerts, they will be able to receive these invites through their specified Alerts Device.  They will receive these Game Invite Alerts whether they are logged in to Xbox Live or not.  This Alert Type is actionable by going to the Xbox; it aims to boost the usage of the service by reminding users when their Friends are playing. Example:  Frank has invited you to play Secret Dogfights Over Normandy. Friend Request (ALERT_TYPE_FRIEND_REQUEST) Another barrier to a strong, connected community is the lag time between sending and accepting Friend invites.  Making these available through Alerts may allow gamers to stay connected to their Xbox Live gaming buddies  more quickly. Example:  Chuck would like to be your friend on Xbox Live. Team Recruitment (ALERT_TYPE_TEAM_RECRUIT) With the upcoming support of Teams in Tsunami, users may invite Friends to join their Team in a multiplayer Xbox Live game.  (Teams are title specific and do not work cross title, but do have a standard message format)   Example:  You have been invited to join a team in Halo 2 Competition/Tournament Reminder (ALERT_TYPE_COMP_REMINDER) This Alert Type supports the Tsunami feature which reminds users of an upcoming competition match.  It is meant to reduce absenteeism in Xbox Live tournaments. Example:  Your match in the Kings of Speed competition starts soon! Competition/Tournament Invitation (ALERT_TYPE_COMP_REQUEST) Users who register for a competition may invite other users to join them in that competition.  This should help tournament attendance and overall interest in the service, especially in responding to the invitation and general awareness of competitions.   Example:  Bob has invited you to join the Kings of Speed competition in MotoGP 3. System Message (ALERT_TYPE_LIVE_MESSAGE) This is a targeted message to the user.  It could be an emergency message from the Ops team, or a notification that you have been temporarily banned from the service. Custom Title Message (ALERT_TYPE_TITLE_CUSTOM) A game can support its own custom message types, which do not overlap with the above message types.  The game can specify its own alert text for this type.  The text limit on this is correlated with the WCHAR buffer, which is why it was changed to 255 chars from 16 (which would have supported Team/Competition Names). Overview This is a general outline of how alerts work. First, the user signs up for alerts. This is done without any contact with the Xbox Live service.  Important to note here is that the Alerts Backend is managed by MSN. Secondly the user creates subscriptions to various types of alerts. These subscriptions are stored in the  Alerts Generator  within Xbox Live. Thirdly, an event occurs on the Xbox Live service. The  Alerts Generator  will receive the event and process it into an alert for the .Net Alerts backend. This can then be routed to an internet device, such as a cell phone. Routing is controlled entirely by the user during the sign-up phase. Related Documents Refer to the following documents for more detailed information about account creation. Alters Spec location (need to find it) Not in M4 location Alerts Functional Tests All available alerts should have the ability to be sent into the Alerts database and be validated at that location with no errors and / or truncation of any kind. Testing will use a set of different tests to send alert requests to simulate user activity and validate using automation and manual testing the results in the database. Friend Login (ALERT_TYPE_LOGON) Game Invite (TYPE_GAME_INVITE) Friend Request (ALERT_TYPE_FRIEND_REQUEST) Team Recruitment (ALERT_TYPE_TEAM_RECRUIT) Competition/Tournament Reminder (ALERT_TYPE_COMP_REMINDER) Competition/Tournament Invitation (ALERT_TYPE_COMP_REQUEST) System Message (ALERT_TYPE_LIVE_MESSAGE) Custom Title Message (ALERT_TYPE_TITLE_CUSTOM) Content Alerts (Subscription Type) Positive Test Cases: Running Alerts automation to simulate a specific alert and it appears in the database properly. Running Alerts automation to simulate a specific alert(s) and have it appear correctly on the site.          Inserting incorrect Alerts will cause the correct error message to appear or not allow the alerts to appear in the alerts database. Inserting empty alerts will cause the correct error message to appear or not allow the alerts to appear in the alerts database. Null character field Text field size + 1 Negative Test Cases: Incorrect formatted Alerts inserted are accepted with no error(s) Invalid hex, Unicode, other special characters are accepted with no errors(s) (redundant?) Select proper font and another font is used. Functional Test Case Implementation  Functional tests will use Web Runner to do as many different Alerts type(s) insertion testing as possible.  Testing will build and verify as many related tests that are possible.  Each Alert test will test as many directions where possible.  The Web Runner tests will be incorporated into a DLL consumable by the Server Test Framework. Performance / Stress Test zc\UQMIQUQA xtpltdpd\ Tools Needed STF for functional and stress testing Web Runner Scripts to set up user state Hardware Requirements 1 client machine Test environment This is all currently available in Test Net Test Complete Criteria Test cases are developed and integrated into the Server Test Framework Test pass completes with no unexplained failures. Release Criteria All functional tests pass All Pri1 and pri2 bugs assigned to the account creation pages are closed. PAGE   PAGE
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\doc\xboxcom\M4\Xbox.com Mammoth Gamercard Test Plan.doc ===
Microsoft Office Word Document MSWordDoc Word.Document.8Microsoft Corporation Title _PID_HLINKSMassimo Loi Normal.dot Massimo Loi Microsoft Office Wordurn:schemas-microsoft-com:office:smarttags urn:schemas-microsoft-com:office:smarttags place urn:schemas-microsoft-com:office:smarttags PersonName 91/;b 5Wwa(Xbox.com Gamercard Test Plan         04/28/2005 Program Management Clinton fowler, Michal Bortnik Development Reed Rector Massimo Loi Table of Contents  TOC \o "1-2" \h \z \u   HYPERLINK \l "_Toc102490648"  Table of Contents  PAGEREF _Toc102490648 \h   HYPERLINK \l "_Toc102490649"  Executive Summary  PAGEREF _Toc102490649 \h   HYPERLINK \l "_Toc102490650"  Test Goals  PAGEREF _Toc102490650 \h   HYPERLINK \l "_Toc102490651"  Test Non-Goals  PAGEREF _Toc102490651 \h   HYPERLINK \l "_Toc102490652"  Related Documents  PAGEREF _Toc102490652 \h   HYPERLINK \l "_Toc102490653"  Profile Screens  PAGEREF _Toc102490653 \h   HYPERLINK \l "_Toc102490654"  Tests  PAGEREF _Toc102490654 \h   HYPERLINK \l "_Toc102490655"  You View  Profile Page  PAGEREF _Toc102490655 \h   HYPERLINK \l "_Toc102490656"  Me View  Profile Page  PAGEREF _Toc102490656 \h   HYPERLINK \l "_Toc102490657"  Edit Profile Page  PAGEREF _Toc102490657 \h   HYPERLINK \l "_Toc102490658"  Edit Gamer Setting Page  PAGEREF _Toc102490658 \h   HYPERLINK \l "_Toc102490659"  Edit Web Settings Page  PAGEREF _Toc102490659 \h   HYPERLINK \l "_Toc102490660"  Edit Favorites Page  PAGEREF _Toc102490660 \h   HYPERLINK \l "_Toc102490661"  Edit General Preferences Page  PAGEREF _Toc102490661 \h   HYPERLINK \l "_Toc102490662"  Edit Appearance Page  PAGEREF _Toc102490662 \h   HYPERLINK \l "_Toc102490663"  Edit Sound Page  PAGEREF _Toc102490663 \h   HYPERLINK \l "_Toc102490664"  Edit FPS Preference Page  PAGEREF _Toc102490664 \h   HYPERLINK \l "_Toc102490665"  Edit Racing Preference Page  PAGEREF _Toc102490665 \h   HYPERLINK \l "_Toc102490666"  Edit Sports Preference Page  PAGEREF _Toc102490666 \h   HYPERLINK \l "_Toc102490667"  Edit Flight Preference Page  PAGEREF _Toc102490667 \h   HYPERLINK \l "_Toc102490668"  Xbox Newsletter Page  PAGEREF _Toc102490668 \h   HYPERLINK \l "_Toc102490669"  Account Settings Page  PAGEREF _Toc102490669 \h   HYPERLINK \l "_Toc102490670"  Test Complete Criteria  PAGEREF _Toc102490670 \h   HYPERLINK \l "_Toc102490671"  Release Criteria  PAGEREF _Toc102490671 \h   HYPERLINK \l "_Toc102490672"  Tools Needed  PAGEREF _Toc102490672 \h   HYPERLINK \l "_Toc102490673"  Hardware Requirements  PAGEREF _Toc102490673 \h   HYPERLINK \l "_Toc102490674"  Revision History  PAGEREF _Toc102490674 \h  Executive Summary Gamercard can be considered badges of honor for Xbox and Xenon users.  It identifies them and their achievements to their peers.  There are three types of Gamercards.  Gamercard   is the full-fledged card that lives in the  You View  and  Me View  profile pages.   Gamercard Lite is found on the global nav and the forums.  Lastly, Gamercard  External  is available to 3rd parties by going to a special URL. Test Goals Test each Gamercard under different user scenarios (web user, Xbox 1 user, Xenon user) Test Non-Goals This test plan does not test: Profile Related Documents The specification for this feature can be found here:  HYPERLINK "http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20Gamercard.doc"  http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20Gamercard.doc  and   HYPERLINK "http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20Gamercard.vsd"  http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20Gamercard.vsd Gamercard Types and Locations  There are three kinds of Gamercards: Gamercard Full Me View  Profile You View  Profile Gamercard Lite Global navigation bar Forums Gamercard External  HYPERLINK "http://live.xbox.com/[gamertag].hmg"  http://live.xbox.com/[gamertag] Tests There are no negative test cases since there is little to no user input.  The parts that require user input to set them up (such as Motto) are validated by the Profile tests. Here are some of the standard tests I ll be performing on the different parts of each gamer card: Text Labels: Check that the text is within the min/max limits If applicable, verify that the content of the label is what is expected Numeric Labels: Check that the number is within the min/max bounds If applicable, verify that the reported is the number expected Images (If there is enough time) Download the image when we set it and calculate its hash, then download the one used by the gamercard and calculate its hash, then compare the two  Gamercard Lite (both for Xbox and Xenon Users) Positive Test Cases Text Label Tests on Gamertag Numeric Label test on Gamer Cred Issue: Is there a way to set a user s reputation? Verify Reputation is correct Image test on GamerTile Text Label Test on Membership Verify Membership is correct Upgrade/Downgrade Membership, verify it s correct Text Label Tests on GamerZone Change GamerZone, verify it s correct Gamercard Full (for Web, Xbox and Xenon Users) Positive Test Cases Same exact tests as Gamercard Lite Text Label Tests on Motto Change Motto and verify it Text Label Tests on County/Language Change Country/Language and verify (Xbox Only) Verify Rich Presence contains only the Online/Offline state for the player (Xenon Only) Verify both Game Presence and Guide Presences for the player (Web Only) Verify the last time the user was online is reported correctly in the Rich presence area (Web and Xbox Only) Verify that the achievements are simply images that say  Not a Xenon User (Xenon) Issue: Is there a way to get list of the user s achievements? Verify that the user s achievements match those that we expect him to have Gamercard External Positive Test Cases Same as Gamercard Lite Retrieve the Gamercard from   HYPERLINK "http://live.test.xbox.com/[gamertag].htm"  http://live.test.xbox.com/[gamertag] Make changes to the user s account (change credits, GamerZone, GamerTile) and retrieve the Gamercard again. Gamercard Web Part Positive Test Cases Verify authoring UI functionality (TBD) Test Complete Criteria Test cases are developed and integrated into the Server Test Framework Test pass completes with no unexplained failures. Release Criteria All functional tests pass All Pri1 and pri2 bugs assigned to the Banner Server are closed. Tools Needed Three technologies will be used in the testing of this feature: WebRunner to automate UI input and user interaction STFRunner and the ServerTestFramework to run the test Hardware Requirements TestNet Revision History Changes made Author 04/28/2005 First Draft Massimo Loi Microsoft Confidential. Unpublished work.   2005 Microsoft Corporation. All rights reserved. Page   PAGE   NUMPAGES  Microsoft Confidential. Unpublished work.   2001 Microsoft Corporation. All rights reserved. Page   PAGE   NUMPAGES  ~shaYNCa tetTete fb^Z^ gdTw1 gdTw1 gdTw1 gdTw1 gdTw1 gdTw1 gdTw1 IDATx^ {uUWu y&~x<gk Yxky/ \5 c' uCKegQ 6.CwJ W_,~]Q Q-aW)m] 7eNzq mQ5]0 E@:d- `V=72~y u-Z,Ra Rp:K= Hw~NIv k;^Kk- =mnB0 u{s$|Z9c] hV \Rl ([gl% &l>:h ^LKdA ynWvl ~]wYj oFK]a E8?,RvY m.iQ; Lv,E0% hxtUR 9nO+' |,NC( qcwwW Ts+.kp Lown7 Jkak\,| ,k%]O ;|8u3N4 ewo%` )VN+W  # 2  Kq|c0 rq.SC 32FBc -rmVa d|jUL gu1]F LWwfZ 1}r<) o12~E D*)I^w JdZUI% zZ7Ue*I ?/c#*6 FH%=X ;Xu$g =[YW;qY O7}:X :3[YC J%6Za y>aP6 f*IT ah bu in%e $-ftIW letYks ,3hclZ/ %CVG] v[_tY SX7]Y~ Z4Z5jc =w_cRG dpp)Z< hj(VGC bw{qq7 kwvh< d[y:E k"t5C $ aOk E=Io# mVf5c |+g[K 8]0\.l1 o9Z|Z fY+Vuy ROjf, w{'8l %K,N! {\xx3 j%o=Q DOjtU W\nX9 =EHk1 8]h=I gkk+E{e ynaF# 5@eq- lxESZ%o 0k4ci% 0>tkaL3 4N4mk RI%&+ d/Yl' ?q5y!H_ %Z%9y "9<VF2^ B,TXX JRl%{{. d)>;I f$405k Zw{!;b GA#ShIW+Dk ;Y,Bm 4PXCw* RsC7- \kz[4S Gs-ru 2y2>wVT @e756 {::x>b TW8ih JW$sy Y)ouA _OaWGqiF ZmiNE 2="]$ ,h-uG Jj_k(5 s6Z@Z <:X`#_4 EtHvr cy=Lg nUZ(n A|&Ir .G>.dV uS\E"z 5I7LU &/HoN KgH6O+ "CB|sZ-4 NV#!H IMNis< w.mm'/m dz}kxa qax5xqw B]PUQL {I`L] U=J7P zHw[` 5j<?E C+y1W XrA,[ (d$8w i0Fp@2 LS!ti\r w+|mp 6A}'7{ khbfq r*\c% "'#/Oh 7^VjxL m8;*1% T'!Jc *v^0= POAx&S EgjX;`: %[IxR DQxn$ iNvV^ 3k7|q #vV,F FygOZW oT7jS d2&qUF3 2Bmuk FC8Y@ p?Ifq cP8Lr  34>= !$v4^k =-'TA$< `g5W.hD *+ML= Y>OQs U'/3. t47]Drd po"8~ '*6tE 9A1b(W mM%%5 f=W"HC Ap&<> k/<31 sGa`E QJ.f$ yrlP< 50:pai X~<|k 2;+y\q |y8E3X UIO|M a'6yb Yw/D; 7gr8!> ,;E>yBN 4cG}j UL,q.& 3`|fm /fq4" aJrG.^ b;\q&, $16#G 9M"r2V A5aX|E8 ^bG8C y{tfw (\!q5 |N<m<+v D~KoKu my7F| pnW\EJ8 gZd/=} 8yNi@4Sl~ <or9pfF .oN'|.>  K/|s6 8:{RuX !/ML= ^`)nlt dM.0# q2Yv8 hnhI> $DLMQ9;W &@,D# Ih*O4 n$=Nc _vs-/ YGjzZ VOS!Q N,Xd< KynzE?( [ZK>% cF[.m vik3\r ,x*Zc DxhG# ffm!M s_}xm P aT:> kFKsq wg$_N"S twbZ/Th *c8Wk jIWICg qo*Xi q.GU> 5#X(*0/7# dL6B^ bXmh/]j3 l)Od2 ?"33n (ja(7 |au9u :{i`>j1 &e=5K; +9[5i& p,xlw :<:ah W2;Xk- R_t_u.a! TaW}<3 FA>e8 l\i,l {*2vh _kG]j fB~^p wk M ] {>&>8s HE_hyq ByN|M @NqoD a?kCb 1hDxmaXfU CqOEUe XjuF> 'GlQKVh o),wP oF`&`: RAvql\ Jq9~s} lQw.xj AQSMdX uDj3!V b=@DCZ m7[K2 =?~=m `/p-S qP$%U W)s.0L $c{(U s?<Hr) {A{"(P ?`FjB w"CI]mSv  U#./Lb 3>U>N R+6{R s"kP\M \;;W9 WSxCd M{cfP oyqFG x0/Q? /,fyV BR;\[ Mo5i&uJ ?]MGl> =y"s  _*+n& X'_yo7D\ D4GZl E{nLH _(CWC 21@=}n= oqX]]l5 g"Ar~ <Ho?y'x ^?rhe M(2<? $vWEe?l <:dz- =#9,! `H( RKm_O W{80` V4D&1 1thC{ i<upo n+j7hF (61;}7 :N#iIV WmW2: |c+D` HTKYt W[gOe 3S#d@ ,\3j% Hza^W ClkLm bH;TwY t.!WN 6.}V4Q ;)6%& G}RW  z/.w/ 4Z\oF NAP_5 {_hQ(S aFxKBX {ocH8 OtA+^0   &(A) 5^kIM FO-$dZ hzG=l 1*MTh tAykR- <9n_hTc h|l|~ 7&nvH u+<!R Dp-7: JT>%FO ZYkf@# =+UJoe !h]~E VVG-1 R[3R; aY7/O -,j(n dLR*:+4 ]GYKf aO7FQ 0#[d]NfI#[ Y)TTm NmJ"7 q'bm. xqM`H 0Y2ofC@d wDhA> b TdCa =,--Q 3gVV/ a]kVMX {d=0q t2")* f*7tpZ lx'3Kr4 !&auD  Emw,  rAJq |EI\V 2BddIm moo`m 8tlHL jOBX5 SV1_+U <")YEA 88t-d; O[lwD m)[yx 7M;\!+g `*s;~. 5M)XS =~xyy 9\=W{ 8a j" UJt[' s8Jn7 @Z`3_Q WTn%p o#@Ri U[mvK a?F,Y) V,VT3Da= ><0J: ?"]a8 Q6JQ?. F$j#G s'?\! >DV.a2#= .RL=V9 9W/Mw =p#=`z vqcCn T$>(: J-"s: q!tmo U`DOF (Rlr.M E|#E$ H2TC_%oP# E{qd.FW 2EJCQ \Ofhy -_,(N :mBJ"sp *TZ7}< Gg9,mh :MF\? Q,zsZ nuuy)K mprX,: d-]Y^^[K %Dxwd&% C[-QO VI@T0S Qu)CT3 (^L{= ^Is_ZZ $d\FJ ^@bcl _1(pobi< `~yy9 tA9uL ^f"y" O%Oxe c^w+Y )RlitR 8W(w}~=r .&ip? D{gYR uF;xp? Y^5&> 7xb l +>:st x)/=/ dy$BQ )Q%N*M\ 3>]dJ m,:R6 o&?%us r{Z]nq(N )*4*^6 mr(0sW |+Z t 5l]AW'VZ *a%vl <s0vk |Z.`R FdJ> } ^p#Wv Sqw=: fSHq* 0^YY9{ foA"s $@R$  ;(?&: 3pURS m0]X= I-jM!! sL~rx GvtTHF elz4:#T I_REt H8luv yP4@z * p%J [(9%v 85/+V 1D8<ie8 +.Ggp9n +@~1[ *#tS& L5^($\2G] Zsp/F;F t</\` Csp;m #*vcQ |xuwo 9`]h# CU+$-< \Adk]~ GW|Vk {pQzw| w/7w/ ".E]f rbF1q 6v;{7q8_ 0V/a= 20Mlf W;a):N (&r\- Z4oq8\ M"m+r ^,|>~F UiKKpN "+xgF 3DQ`% EWl;Q IDAT8 !^Gq } ^x m} Mhw*1 {vZt|$ t,/j%  zsR;m lw8<h pT]Yv+ vG6<. XJpZ< {m`Zc !;E\. r+>(` [W,^% OF<})& P]@t<E RE,o2a 4p4#; !%g}rB Ql]\X hx4<z 57{2w EH`O!2 o#)n4 *ruU. ,iw\  tvpTls ^g)gOn <x@>m P`$tcA Fp|iP X_9 . Q^MR2 W14+|$E E/=4y Nor%y U("6el ,s{!b ;8cQv 8up6<B qg=p9 %E-7b< ng1@7 0,>9N :*-0EYz {1^bef ':AP2 w=B]/ :dd"- P*Z{7 js%wR ;t<ND 4_j}r KT9,T XOM)D 0l+q$\j ,Qokww QaQ`iJ P`K'H \`Fcy XpH{b] Ahm4!& w`YN;M 6iV^> /nk'o mC><9 b6&#T x5V.T @)!hzZ TpMG+ N#F"& nAW u Rq88' ;(|1E1`P>-\ >l;8] 4qL(- bU@Q@T E_he| %_nC_ *Hz:;B ULri`Y Kc3>Xv: _G~~x 3|zHB <fB}83 p$o<{ *.@OS@ 8z[5; +_)y& Fk&i)j @m,]q{,Gx s~]i@ QWE{w a1Q$T 66D!z( MvG3\N Vp.A6 ceNim QR(2U Eoba/ up3.v95 dZqu[ =|]5k6 c5HS~ ]L>;]H f]~UX [;(-9z ]n`Y:YOX <f)}S c\IGv q-5wF~] 4 Pij 'qqXE> Y!!6c j^<ia 6i)'T yf10n mT?Ea qycdc Hu\QJ b;1AFg,+ SXdPm& 8Op,v l&.zx .%N{Q bmP9j ]suux v|2>~ hp./= tJEi:OcO S<eNJ 0yu]`*aP& y%=d6 (Ok]7V Mhc1V IbNC= b(CH% >Bf:F -Nd'N M}WtZ WK!ie* ^KgxL phw\ `^Z =qSkhi e>~B} STF%Wx3 rGe?9 Qf!V= yCNPK C9VAz d;/k& KcaXO vX6A*. 42=MP6; 4d4;MeJ ]%uEUut JY&subY ja&S~ ej]ODy ls7+x hK+!-9EI G)&gb<JM< {UbBR, b/sjrp(] JH29V A%$Ut N?^6^ Ar`P* `vDVH @,CfH 2DZ&H9 r<JdB 5:X%* Wt"2_m #!|CU lWQRL !3AxV. Dq^&R Ebma! E&O7q5 U,z*9 Gq"--2 @TbZj >=QP& NUZSz 4<9|T LjxzE )?)fB [*WK9c\ DT*yk v?&0V$ Je=RO  9/y=P<= QY_6j X6}Qn FZFB^ eD^)B atY`! y3X6j ~EBdx 2upt, eB+xPY. !'h2$ Qqa'+ ZtY\%: /X%;%D P>FiF%WT ;aiT*iZ EeJmy* 97gRB ,{K(S =O~b\e|W aPVoY hWi6N? gH-!7) BJ^O4 a32+k hQM&? IB$4E> g*MQ9b ^%5'4 9nJ3E ^{aiE2 DvZm{ _hH&O #uoNe Ly(ft #+h,~ &t".} LtX`t L*@Fe ]$yH.{ t7+x+8t <R&(t ;Ge4v {E%0k qdt%< >sVE9 >6h": BB-yT 5PwW>r BXF{!x bVvXeY bA[w.jM v~q1p6 igc>f 0sww{ ^9Y!{T>" +xYe< =houI0 8)Ex" wWbyk X&H*< >%J.T 6A" ? u=.v3 ;"+d3 6muXw KtRD(yK.Q 0+`V# :i)J]  6hlQ 8?'x#iK pxe>&xfzl tzcwft &sn'|
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\docs\Xbox Catalog Referral Service Overview.doc ===
Microsoft Word Document MSWordDoc Word.Document.8Microsoft Corp. <<Spec Name>> Title _PID_HLINKS<<Spec Name>> ravim Template - Quick Spec t-eho Microsoft Word 10.0urn:schemas-microsoft-com:office:smarttags PersonName urn:schemas-microsoft-com:office:smarttags MonthIDATX F t#yog2 ZNr~r~  >9Jy oMf7oOverview of Catalog/Referral Service Author: Eric Ho (t-eho) Table of Contents  TOC \o "1-1" \h \z   HYPERLINK \l "_Toc504380639"  Table of Contents  PAGEREF _Toc504380639 \h   HYPERLINK \l "_Toc504380641"  Revision History  PAGEREF _Toc504380641 \h   HYPERLINK \l "_Toc504380642"  General Overview  PAGEREF _Toc504380642 \h   HYPERLINK \l "_Toc504380643"  Scenarios  HYPERLINK \l "_Toc504380644"  Goals  HYPERLINK \l "_Toc504380645"  Non Goals  HYPERLINK \l "_Toc504380646"  Detailed Description  HYPERLINK \l "_Toc504380646"  Additional Features  HYPERLINK \l "_Toc504380646"  Further Discussion  HYPERLINK \l "_Toc504380646"  Reference  Revision History Version Author Comments 0.0.1 06/12/01 t-eho Initial revision 0.0.2 06/13/01 t-eho Second revision 0.0.3 06/14/01 t-eho Clarify on billing issues General Overview   The Catalog Referencing Server (CatRef) provides a catalog service for new game updates.  Upon connecting to the CatRef server, the user can find out about new updates available for his/her game, downloads update(s) he/she likes, and pays for the update(s) if needed.  CatRef is also responsible for handling Xbox system updates and game auto-updates. These auto-updates serve to fix software bugs and security loopholes that are uncovered over time; they are automatically downloaded and installed onto Xbox once the console connects to the online service at the time of authentication. Scenarios 4.1 Discovering and downloading a free update David just finished all levels of Tommy Eagle. He is confident about his (computer) skating skills and eager to accept new challenges. He turns on his Xbox, goes online, and discovers some new maps available for download. David downloads some of the toughest maps onto his Xbox and starts playing those new maps. 4.2 Downloading and paying for a non-free update Tom loses in almost all of his online NASKAR races. He contributes his defeats to the fact that he does not have a good looking car to motivate his driving skills. Tom goes online and discovers a new game update: a Dale Earnhardt s legendary race car skin on sale for only $3.99! Tom immediately uses his pre-established account with the Xbox Online Billing Service to pay for the update. Afterwards, he downloads the update and starts playing with the legendary race car.  (Note: CatRef and the Xbox Online Billing Service are two separate services working together to make this scenario possible; CatRef is responsible for making sure the content has been paid for, while the Xbox Online Billing Service is responsible for the actual billing. Details about how the two services interact has not been discussed yet) 4.3 Game Title Auto-Updates A tiger team discovers a serious security flaw in the online code of NASKAR. The NASKAR developers make a fix and put it online. Soon afterwards, Tom goes online with his Xbox. He then sees a message that an update is being applied to the game. When the update finishes, the Xbox reboots back into NASKAR Racing with the auto-update installed. Goals CatRef has the following goals: Allow users to check out new updates available for a game in a convenient fashion. Verify that users have paid for content (if applicable) and provide references to downloadable updates. Allow Title Developers to post references to updates for their game titles. Allow Xbox to include new features or address problems such as security issues that are uncovered over time.  Non-Goals CatRef has the following non-goals: Allow game developers to exploit it for general purpose content delivery, e.g. a 100MB Age of Vampires Expansion Pack IV. Detailed Description This section gives a detailed description of a sample run of the system under the situation depicted by scenario 4.2. Many design details are simplified in this section; complete details about the design can be found in the reference section. (Note: details about billing are subject to change). Figure 1. Simplified diagram of network communication Xbox connects online and is authenticated. The authentication server checks with some source (an open issue; could be CatRef, some cache, or the auth server itself) to see if the Xbox needs any system updates or game auto-updates, which in this case there are none. (If there are auto-updates available, the auth server will inform the Xbox to send an update referral request to CatRef. CatRef will reply with retrieval information of the auto-updates). Xbox sends a change request to CatRef containing a title ID and a timestamp. CatRef will determine if there are title updates whose creation date is after the timestamp. In this scenario, there are updates available. Xbox sends an enumeration request to CatRef. The request contains the package ID, language ID, and title ID.  CatRef generates an enumeration response containing a list of relevant game updates together with simple descriptions of each update. At the Xbox, the user clicks on an update on the screen. A detail request message is sent to CatRef. CatRef sends a detail response containing a detailed description of the particular update, e.g. the price info and possibly a bitmap representing the update. The detail response shows that the package is not free. At the Xbox, the user selects to purchase the package. Xbox contacts the billing server and pays for the package. After the transaction is completed, Xbox generates a package referral request to CatRef. CatRef discovers that the package being requested is not free; it contacts the billing server to verify that the user has paid for the package. After verification, CatRef generates a package referral response message. The response message contains XRLs, which locate the content servers, and decryption keys. Xbox contacts one of the content servers, whose location is specified by the XRL. Xbox then downloads the update package from the content server. The package is decrypted using the decryption key and installed onto the Xbox.  Xbox may or may not be required to reboot. Afterwards, gaming resumes.  Additional Features The following CatRef features are per-discussion only; more details are discussed in the documents listed in the reference section. They may or may not be supported in the initial version. Watermarking: An enumeration response contains only references to updates whose creation date is later than a watermark given by the enumeration request. Bitmaps in the detail response. XRL ranking in the package referral response in an attempt to achieve load balancing.  Capability for users to search for packages using title defined keywords. Further Discussion Further discussion is needed in the following areas: Currently we assume all communications between Xbox and CatRef is synchronous. In the future, we might need to switch to asynchronous forms of communication using the Notification Queue. Details about how Title Developers update the information in the CatRef server have not been discussed yet. Details about how billing is done have not been discussed yet. How CatRef communicates with the Xbox Online Billing Service still remains in the gray area. Currently all sever communication is performed using HTTP GET requests. We will switch to POST methods later.  References The following references contain relevant information about CatRef. Xbox Catalog/Referral Service. By Michio Nikaido. XRL format (draft). By Brent Curtis.  Auto-updates   Dash and Game Titles (draft). By Brent Curtis. Microsoft Confidential Xbox Online CatRef Server Overview Page   PAGE   NUMPAGES  k\kK\ gd:KL }y}u} |n|hb\V gdAe9 gdS_B gdS_B gd`:Y gd`:Y gd`:Y gd`:Y
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\docs\readme!.txt ===
Please update http://sts/xbox_online/ (sharepoint) with the latest copies of your documents as well.
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\docs\Factory Test Plan--GeneratePerBoxData.doc ===
Microsoft Word Document MSWordDoc Word.Document.8Microsoft Corporation Title _PID_HLINKSWally W. Ho Normal Wally W. Ho Microsoft Word 10.0urn:schemas-microsoft-com:office:smarttags country-region urn:schemas-microsoft-com:office:smarttags urn:schemas-microsoft-com:office:smarttags place urn:schemas-microsoft-com:office:smarttags PersonName urn:schemas-microsoft-com:office:smarttags Month 3tk&8 dwR`]|Xbox Binary Authentication Identifier Test Plan Author: Wally W. Ho Modification History Modification HYPERLINK "mailto:wallyho@microsoft.com" Wally W. Ho  3/30/2001 Created HYPERLINK "mailto:wallyho@microsoft.com" Wally W. Ho   SAVEDATE  \@ "M/d/yyyy"  \* MERGEFORMAT  6/20/2001 Last Changed Owners HYPERLINK "mailto:wallyho@microsoft.com" Wally W. Ho  Development HYPERLINK "mailto:tonychen@microsoft.com" Tony Chen Program Management HYPERLINK "mailto:marcw@microsoft.com" Marc Whitten Table of Contents  TOC \o "1-3" \h \z   HYPERLINK \l "_Toc517595091"  Modification History  PAGEREF _Toc517595091 \h   HYPERLINK \l "_Toc517595092"  Owners  PAGEREF _Toc517595092 \h   HYPERLINK \l "_Toc517595093"  Table of Contents  PAGEREF _Toc517595093 \h   HYPERLINK \l "_Toc517595094"  Overview of component  PAGEREF _Toc517595094 \h   HYPERLINK \l "_Toc517595095"  Figure 1. The 256 byte EEPROM layout.  PAGEREF _Toc517595095 \h   HYPERLINK \l "_Toc517595096"  Spec Reviews  PAGEREF _Toc517595096 \h   HYPERLINK \l "_Toc517595097"  Test Scenarios  PAGEREF _Toc517595097 \h   HYPERLINK \l "_Toc517595098"  Tools Needed  PAGEREF _Toc517595098 \h   HYPERLINK \l "_Toc517595099"  Hardware Needed  PAGEREF _Toc517595099 \h   HYPERLINK \l "_Toc517595100"  Test Methods  PAGEREF _Toc517595100 \h   HYPERLINK \l "_Toc517595101"  Manual tests  PAGEREF _Toc517595101 \h   HYPERLINK \l "_Toc517595102"  Code reviews  PAGEREF _Toc517595102 \h   HYPERLINK \l "_Toc517595103"  Performance testing  PAGEREF _Toc517595103 \h   HYPERLINK \l "_Toc517595104"  Catastrophic failure  PAGEREF _Toc517595104 \h   HYPERLINK \l "_Toc517595105"  Interfaces/Integration with other components  PAGEREF _Toc517595105 \h   HYPERLINK \l "_Toc517595106"  Stress  PAGEREF _Toc517595106 \h   HYPERLINK \l "_Toc517595107"  Live Site testing  PAGEREF _Toc517595107 \h   HYPERLINK \l "_Toc517595108"  Basic API Functional Verification Tests  PAGEREF _Toc517595108 \h   HYPERLINK \l "_Toc517595109"  Test Complete Criteria  PAGEREF _Toc517595109 \h   HYPERLINK \l "_Toc517595110"  Release Criteria  PAGEREF _Toc517595110 \h   HYPERLINK \l "_Toc517595111"  Scheduling  PAGEREF _Toc517595111 \h   HYPERLINK \l "_Toc517595112"  Notes from Formal Test Plan Review June 6th, 2001  PAGEREF _Toc517595112 \h  Overview of component The unique identification system for the Xbox is a unique binary data (ID) generated at the factory on a Windows 2000 Test PC with the high encryption pack installed. This ID is sent through the Ethernet connector to a XBE to imprint it onto the EEPROM of every Xbox produced. When this Xbox is first put online, an online account needs to be created. The Xdash will need to access the EEPROM for the necessary online key for this to happen. The online key will be retrieved and then used in the authentication process with the Kerberos authentication system to create an online account.  This test plan will cover that the data generated from the Windows 2000 side is validly stored on the EEPROM of the Xbox.  The extent of the valid functionality of this mechanism will compose the scope of coverage of this test plan.  Windows 2000 component. For the Windows 2000 component, the following 4 items of data are returned to be recorded into the genealogy database. The first four IN parameters are already in the genealogy database. The Serial Number is scanned off the box sometime before this ID generation step. With these data, it will allow future access to the recovery of the console key press code and the Online Authentication key used for authentication when the release of Xbox Online is finalize 8 months downstream of Xbox launch in November.  The Windows 2000 API is the following:  HRESULT GeneratePerBoxData( IN DWORD  GameRegion, IN DWORD TVRegion, IN LPBYTE pbMACAddress, IN char* pcXboxSerialNumber, OUT char* pcHardDriveKey,      OUT char* pcRecoveryKey,     OUT DWORD* pdwOnlineKeyVersion, OUT char* pcOnlineKey, OUT LPBYTE pcOutputBuffer,     IN OUT DWORD* pdwOutputBufferSize); 1 byte 1 byte 6 bytes 12 byte 16 base64 encoded + 1 = 25 bytes 8 bytes 1 bytes 128 bytes base64 encoded + 1 = 173 bytes 80 bytes OUT VALUES The Hard Drive Key (24 + 1(null) bytes):  Controls unlocking of the Xbox s hardrive. This is a cryptographically generated 16 byte random number.  Is then further base64 encoded to 24 bytes before being returned from the function.  The Recovery Key (8 bytes):  Random button key press sequence to allow recovery of a hard drive to a known clean state. This is generated by a Hash-based Message Authentication Code (HMAC) using the HardDrive Key and this key defined as  RECOVERY_RAND_KEY "\xBC\x20\x05\x1A\xB5\x97\xF9\x60\x48\x37\x5A\x83\x78\x7F\xE5\x94".  The code is typically a combination of "ABXYUDLR" with the first letter always being  The Online Key (172 + 1(null) bytes):  Is used to allow an online account to be created the first time and identifies this as a legitimate Xbox. The online key is actually 16 bytes, which is public key (1024 bit (128 byte) RSA) encrypted to 128bytes. This is further base64 encoded to 172 bytes. These 172 bytes are stored in the database. In order to decrypt this, a private key stored on an nCipher box is needed. (NOTE: This actually encrypts not just the Online key but an entire XBOX_ENCRYPTED_ONLINE_DATA structure ( See below structure listings ) as there is room to do this in 128 bytes. The OnlineKey is the first entry in the structure so one can just cast off the first 16 bytes of this binary to obtain the Online Key. In future, it is possible to recover all the other information contained in this structure. This is not revealed in any documentation other than in the code that this is happening however.) The Online Key Version (4 bytes): Tells us which version of the public/private key is being used. This is incremented whenever we have to revision the NCipher generated public key in the GeneratePerBoxData library. Currently it is set to 1. The Output Buffer ( 52 (Sizeof XBOX_ENCRYPTED_PER_BOX_DATA) + RC4SHA Header 28 : 80  bytes): The returned buffer of an RC4 stream cipher + SHA Hash encrypted buffer of an XboxEncryptedPerBoxData structure. This key is defined as FACTORY_RAND_KEY = "\x71\x82\xEF\xDB\x72\x55\xD0\xA9\x9B\xC6\x3E\xD6\x47\xE5\x45\x47".  It is a very short key and can change from version to version.  The reasoning is so that the binary going over the wire is not easily discovered. This is decrypted on the WritePerBoxData function. (NOTE: This does not require an NCipher box to decrypt; it s not a public/private key system).  The Output Buffer Size (4 bytes): The returned size necessary for the output buffer or the size of the buffer inputted. IN VALUES The Game Region( 1 byte ): A DWORD value describing the region this Xbox belongs to.  Possible values are  XC_GAME_REGION_NA XC_GAME_REGION_JAPAN XC_GAME_REGION_RESTOFWORLD *NOTE this is last key will be special. XC_GAME_REGION_MANUFACTURING 0x00000001 0x00000002 0x00000004 0x80000000 There are no checks for values outside of these accepted ones.  Assume these will work; values outside this will not. The manufacturing but is the high bit in the DWORD that is set so that the internal tools CDs will work. This bit will be cleared out when VerifyPerBoxData is called. This is a requirement that VerifyPerBoxData will be called.   The TVRegion ( 1 byte):  A DWORD value describing the TV system this Xbox runs. Possible values are  Possible values are  AV_STANDARD_NTSC_M AV_STANDARD_NTSC_J AV_STANDARD_PAL_I AV_STANDARD_PAL_M AV_STANDARD_MAX *Make sure MarcW is aware that only the first 4 AV region are used. These may be OR d together with the refresh rates of  AV_FLAGS_60Hz                      AV_FLAGS_50Hz                      0x00000100 0x00000200 0x00000300 0x00000400 0x00000500 0x00400000 0x00800000 There are no checks for values outside of these accepted ones.  Assume these will work; values outside this will not. The Mac Address ( 6 bytes ):  This is the Media Access Control (MAC) address of the machines Ethernet address. This should be unique.  The XboxSerialNumber ( 12 bytes):  The serial number of this Xbox scanned off the box and placed into this function to hardcode into the EEPROM for identification. The check is for a size of not more than 12 bytes.  Anything below that will be taken without error. Figure 1. The 256 byte EEPROM layout.  NOTES:                  When the WritePerboxData is run the EEPROM is zeroed out before data is written. Only the Preserved bytes (see below) is left unchanged. Encrypted factory settings section:   Programmed at the factory and NEVER changes. Only the HardDrive and Game Region data is encrypted.  Factory settings section:         Programmed at the factory and NEVER changes. User settings section:       Can be modified by the user.         SHAPE  \* MERGEFORMAT  Xbox  component The Xbox library contains the following API for writing in the data into the EEPROM.  The dwInputBuffer is the size of XBOX_ENCRYPTED_PER_BOX_DATA structure plus 28 bytes of RC4/SHA header. It has to be this exact size or the API will return E_FAIL. The Xbox API is the following:  HRESULT WritePerBoxData(     IN LPBYTE pbInputBuffer,     IN DWORD dwInputBufferSize   ); In the EEPROM, the 2 critical components should be mentioned (highlighted in gray in figure 1. the Encrypted Settings). In a development kit, the HardDisk Key and the Game region are NOT encrypted using the RC4 stream cipher + SHA Hash encryption. These two ARE encrypted, if it is a retail Xbox.  The control of this is on this flag. (XboxHardwareInfo->Flags & XBOX_HW_FLAG_DEVKIT_KERNEL) == 0)  This encryption is the same encryption as used on the binary that travels over the wire; however, the key is different from the FACTORY_RAND_KEY.  This key (EEPROM-KEY) is will be stored in the ROM and will be used to decrypt the HardDriveKey and GameRegion.  The HardDriveKey will then be put somewhere in the memory so it can be used to unmorph the online key.   As well it has to be noted that in a development kit. The Online key and the Hardrive key is all zeroes. In WritePerBoxData.     // All devkits have 16 bytes of zero for HD key and online key     if ((XboxHardwareInfo->Flags & XBOX_HW_FLAG_DEVKIT_KERNEL) != 0)     {         RtlZeroMemory( pData->HardDriveKey, sizeof(pData->HardDriveKey) );         RtlZeroMemory( pData->OnlineKey, sizeof(pData->OnlineKey) );     } The online key in the rest of the EEPROM (highlighted in gray in Figure 1) is HMAC morphed when it is stored using the HardDriveKey and the HDMORPH_RAND_KEY of  \x60\x59\xE8\x2E\xDF\xBF\x7F\xD3\x23\x35\x74\x2A\x64\x8B\xB1\x2C".  In order to retrieve this online key, we need to morph it a second time. Hence it is necessary to recover the HardDrive key first. When this is completed, the online key will be available for use. As well, this api also sets the Language and Video Flags in the user Settings. In General if the Game region is Japanese then the Language is set to Japanese otherwise it defaults to English.  An 2 APIs are provided for testing purposes.  This will be to verify through the use of a checksum that the information burned into the EEPROM is correct. This API basically reads out the EEPROM and checks the checksums there.  HRESULT VerifyPerBoxData ( );  HRESULT VerifyEEPROMData( ); An api is provided that unlocks the harddrive as well. HRESULT UnlockXboxHardDrive (     IN LPBYTE pbHardDriveKey,     IN DWORD dwHardDriveKeySize ); Structures Listing #define SYMMETRIC_KEY_LEN  #define HARD_DRIVE_KEY_LEN  SYMMETRIC_KEY_LEN #define ONLINE_KEY_LEN  SYMMETRIC_KEY_LEN #define XBOX_SERIAL_NUMBER_LEN  #define RECOVERY_KEY_LEN  #define ETHERNET_MAC_ADDR_LEN  #define ONLINE_KEY_PKENC_SIZE   This is the struct passed between GeneratePerBoxData and WritePerBoxData typedef struct _XBOX_ENCRYPTED_PER_BOX_DATA {     char XboxSerialNumber[XBOX_SERIAL_NUMBER_LEN];     BYTE MACAddress[ETHERNET_MAC_ADDR_LEN];     DWORD GameRegion;     DWORD AVRegion;     BYTE HardDriveKey[HARD_DRIVE_KEY_LEN];     BYTE OnlineKey[ONLINE_KEY_LEN]; } XBOX_ENCRYPTED_PER_BOX_DATA, *PXBOX_ENCRYPTED_PER_BOX_DATA;  This is the struct encrypted as the online public key. It is not documented that this is what is returned as the OnlineKey from GenPerBoxData typedef struct _XBOX_ENCRYPTED_ONLINE_DATA {     BYTE OnlineKey[ONLINE_KEY_LEN];     char XboxSerialNumber[XBOX_SERIAL_NUMBER_LEN];     BYTE HardDriveKey[HARD_DRIVE_KEY_LEN];     BYTE MACAddress[ETHERNET_MAC_ADDR_LEN];     DWORD GameRegion;     DWORD AVRegion; } XBOX_ENCRYPTED_ONLINE_DATA, *PXBOX_ENCRYPTED_ONLINE_DATA; Non-volatile memory (EEPROM) structures listing #define EEPROM_TOTAL_MEMORY_SIZE            256 typedef struct _EEPROM_LAYOUT {     UCHAR EncryptedSection[EEPROM_ENCRYPTED_SECTION_SIZE];     UCHAR FactorySection[EEPROM_FACTORY_SECTION_SIZE];     UCHAR UserConfigSection[EEPROM_USER_SECTION_SIZE];     UCHAR Unused[64]; } EEPROM_LAYOUT; 256 bytes total typedef struct _XBOX_ENCRYPTED_EEPROM_DATA {     BYTE EncHeader[28] ;     BYTE HardDriveKey[HARD_DRIVE_KEY_LEN];     DWORD GameRegion; } XBOX_ENCRYPTED_EEPROM_DATA, *PXBOX_ENCRYPTED_EEPROM_DATA;   0 + 28  28 + 16  44 +  4 48 bytes total typedef struct  _XBOX_FACTORY_SETTINGS {     ULONG Checksum;     UCHAR SerialNumber[12];     UCHAR EthernetAddr[6];     UCHAR Reserved1[2];                    UCHAR OnlineKey[16];                    ULONG AVRegion;     ULONG Reserved2; } XBOX_FACTORY_SETTINGS;   0 + 4   4 +  12  16 + 6 22 +  2 24 + 16 40 +  4 44 +  4 48 bytes total #define XC_TZNAMELEN 4 typedef struct _XBOX_USER_SETTINGS {     ULONG Checksum; ULONG TimeZoneBias; WCHAR TimeZoneStdName[XC_TZNAMELEN] WCHAR TimeZoneDltName[XC_TZNAMELEN] FILETIME TimeZoneStdDate;     FILETIME TimeZoneDltDate;      ULONG TimeZoneStdBias;       ULONG TimeZoneDltBias;     ULONG Languge;     ULONG VideoFlags; ULONG AudioFlags; ULONG ParentalControlGames; ULONG ParentalControlOnline; ULONG ParentalControlMovies;     ULONG OnlineIpAddress; ULONG OnlineDnsAddress; ULONG OnlineDefaultGatewayAddress  ULONG OnlineSubnetMask;     ULONG Reserved[2]; } XBOX_USER_SETTINGS;     0 +  4   4 +  4    8 +  8 16 +  8 24 +  8 32 +  8 40 +  4 44 +  4 48 +  4 52 +  4 56 +  4 60 +  4 64 +  4 68 +  4 72 +  4 76 +  4 80 +  4 84 +  4 88 +  8 96 bytes total Spec Reviews Owner:   HYPERLINK "mailto:tonychen@microsoft.com"  Tony Chen Location:  \private\online\specs\ Xbox-Factory-Key-Generation-Spec.doc. \private\online\specs\ Xbox-Factory-Private-Key-Management-Spec.doc. \private\online\specs\ Xbox-Machine-Specific-Data-Spec.doc The tests are based on the functionality defined by the above documents. Test Scenarios In general, the validity of the encryption process from Xbox EEPROM to returned data from GeneratePerBoxData will need to be covered. A tool to call the generation API and exercise its ability to generate new IDs and a tool to test the writing of the ID to the hard drive of the Xbox will be necessary.  I envision a tool that has 2 parts one part that resides on the win2000 machine which calls the GeneratePerBoxData function; another part that resides on the Xbox which will listen for a socket connection.  The 2k component will make a connection to the XBE on the Xbox.  The data will be sent over and it will be written to the EEPROM.  There will be a function that reads the EEPROM and returns the data for verification on the server. Two way communications will be initiated through this and a display system on the Xbox will show progress. Optionally, a logging system may be used to record the progress of the test tools. Since there is a change in encryption of the EEPROM Harddrive key and game region if this is a retail box. It would be prudent to test this on all flavors of the Xbox from dev kit to retail to assure it works. There is still work to be done as the Hardrive Key on the Xbox is encrypted by a key that is store in ROM. Currently this is not functional nor implemented.  We will not be testing parallelism in any of the three APIs since there is little need for this in the manufacturing environment. GeneratePerBoxData will not be threaded. The GeneratePerBoxData only fills in the fields of the XboxEncryptedPerBoxData structure. There will be standard checking of valid parameters (positive testing), Invalid parameters (negative testing), and boundary cases. Memory leakage should be checked to assure the GeneratePerBoxData function is adequately freeing memory it has allocated and that the robustness of running this API in a factory environment is maintained. (2kIdMaster /1 will start our memory leak testing of the GeneratePerBoxData API.  The WritePerBoxData will not be tested as it exits after it is called only once. Performance should be checked to be a minimum of less than the speed of manufacture of an Xbox (currently noted at 10 seconds). One will also need to devise a way to access the genealogy database. Assurances will be necessary to verify the data written to the Xbox matches that generated by the GeneratePerBoxData matches that stored in the database. It will be necessary to access the database to be able to get at the data for this test. (TBD -- The database system does not currently exist in a working form) Tools Needed The following tools will need to be developed by the test team to test the accuracy of the binary ID generation and the EEPROM write and verify libraries: Tool to test the generation (2kIdMaster) of the ID and a connection to send it to the xbox and (X2kIdServer) to test writing and reading on the Xbox. Tool to do stand alone logging of Xbox EEPROM data (subfunction of X2kIdServer). Tool to test memory leaks of the GeneratePerBoxData (subfunction of 2kIdMaster). Tool to test the validity of the data in the database over the data produced by GeneratePerBoxData and the data written to the Xbox. (TBD) The test tool will generate a Binary block and send it over TCP to the XBE server. This XBE will write the data to the EEPROM.  A read function will be created to read the data from the EEPROM. This will send the information back to the 2k XE which will do a comparison.  The Windows 2000 side will also do the decoding and encrypting as necessary to make things appear as clear data for verification. This will allow us to verify what is generated is what ends up on the EEPROM.  Most of the work will be performed on the 2k side of the system test; the Xbox side will be very  light .  This should provide good coverage of the two libraries over a simulated factory-like environment without using the Intel infrastructure. As long as one is assured of the accuracy of the APIs, we can cite the Intel infrastructure for any discrepancies. This is the most important functional test this test plan will cover. The assurance that the data generated and imprinted on the EEPROM will be recoverable from the data returned on GeneratePerBoxData. This is the basis for most of the verification. For future, another XBE (stand alone) will be constructed which will log the data in the EEPROM to a file. This tool can be passed around so that we can collect and compare this data to the GeneratePerBoxData log file or the database. In a debug situation, the GeneratePerBoxData log file will log all of the items it generates. It is possible to use this for verification.  Additional, tools necessary will be a set of maybe a DLL that does fault injection into the Intel manufacturing system. GeneratePerBoxData and WritePerboxData will be test library set that will send all the possible errors that could be returned from the API Hardware Needed In the future, production models to test the final compatibility of this component, possibly sample production units for testing the accuracy of the written data on retail units as discussed in the meeting June  07 2001. It should be made aware to  MarcW and Damon.  A windows 2000 machine to run the ID generation/ master tool.   An Xbox Dev Kit to test the read and write functionality XBE server for the master. The hardware encryption system (nCipher loaded with the public key from PIRS). This will be not be required at the factory but will be necessary to decrypt the Online Key during testing procedures.  Test Methods Manual tests Most manual testing will be conducted by the vendor at Intel as there production system is not accessible to us. Brian Inman has the necessary equipment and a test plan for coverage of the factory process for adding the ID to the Xbox. The scope of our testing is to assure the integrity of the ID creation API and the resultant binary identifier in writing and retrieval.  The hardware processes are Intel s. They are developing a system that incorporates our libraries which is beyond our scope of testing. One item that will need to be tested will be the correlation of the EEPROM data file dump. Our created XBE will dump the EEPROM of a machine to a file.  This will be done on various people s systems and as a result this collection will be manual. Code reviews The code for the ID creation will be code reviewed by myself as often as there are changes in the API. The API is very small so changes are apparent and easily looked after.  At code complete by a combined team of developers and testers, should review the code. At stages to completion, each checked in should be reviewed by a dev peer before check in and by the responsible SDET after check in to assure changes are understood and test plans updated.  Performance testing There is not any planned performance testing to be done on this code. The code needs to function within the time it takes to make an Xbox which is noted to be around 10 seconds a machine. The apis function well within that tolerance.  One may add a simple test (time permitting) that will give us the delta in the call to these API s and loop that for an average.  The expected return time for all clients is less than 10 seconds. Catastrophic failure The things that could fail are the failure of the The software that unencrypts the Hard Drive key from the EEPROM using a key retrieved from the ROM. This would prevent the online authentication system from functioning. In testing, if the NCipher box stopped working; we could not decrypted the returned online key from GenPerBoxData. Its impact is minimal.  (Question: Does this NCipher private key system need to be present to unencrypt the online key in the Database when the Xbox comes to verify itself? How fast is this?) This could have major impact. A catastrophic failure in the Xbox would be: The failure of the EEPROM in the machine. A badly behaving EEPROM, that doesn t fully update. As such a meaningful Error Code should be returned. Check to see that it does. Interfaces/Integration with other components Insofar as the components are concerned, there are 2 distinct platforms that the data resides on. The ID is generated at a Windows 2000 platform and this binary data is then sent over to the Xbox. An Xbox XBE runs to put this data to the EEPROM. The network code and infrastructure pass this data to the Xbox will be written independent of the API s therefore, integration of these API s into the manufacturing system falls into the Intel work sphere.  We will test the interfaces of the two functions with our network code to pass the information from one component residing on the 2k platform over to the Xbox platform. This is the only believed impact of interfaces of the two components. This will assure us of the integrity of the writing and reading. This will be sufficient to cover that the two pieces interfaces correctly together. This is our stress test. Stress With the tools in place as described, stressing the components can be accomplished by the following. With the caveat that the EEPROM has a MTTF of 10,000 writes.  The test currently has functionality that will allow for stressing the entire system but not sure of the value of this however. Generating an ID. Send it over to the Xbox. Writing it to the EEPROM. Reading it out of the EEPROM and unmorph the Online key. Sending this back to the 2k server. Unbase64, unecrypt the online key returned from the GeneratePerBoxData function. Unbase64 decode the Hardrive key from GeneratePerBoxData. Comparing this online key and the hard drive key from the EEPROM to the returned values. These two pieces are critical. Check the rest of the data with a memory compare.  Repeat this and assure accuracy.  Live Site testing In live site testing. The plan is to bring several tools with us to check the accuracy of the Generated data and the Xbox EEPROM. These tools have yet to be decided.  We ll need to access an NCipher box to be able to decrypt the online key. This plan is still TBA. Program that checks the Data in the EEPROM is the same as that Encrypted to be returned in the Online Key buffer.  Check to see that the high bit in the Game Region is indeed turned off after manufacture. Create a server program/ maybe a service here that we can access over sockets that will decrypt over a RAS connection the data blob we send over. Create a Program that will run on the 2k laptop that will be able to access my computer here with the NCipher Box.  Create a program that will display and verify the checksums againsts the EEPROM data. Verify that retail kits have the HardDrive Key and Game Region encrypted. Verify that no duplicates exist in the database when a box is put through the system twice.  Verify their system handles errors correctly by making some dummy GeneratePerBoxData the returns the possible error codes. Do the same with WritePerBox Data. Basic API Functional Verification Tests HRESULT GeneratePerBoxData( IN DWORD  GameRegion, IN DWORD TVRegion, IN LPBYTE pbMACAddress, IN char* pcXboxSerialNumber, OUT char* pcHardDriveKey,      OUT char* pcRecoveryKey,     OUT DWORD* pdwOnlineKeyVersion, OUT char* pcOnlineKey, OUT LPBYTE pcOutputBuffer,     IN OUT DWORD* pdwOutputBufferSize); 1 byte 1 byte 6 bytes 12 byte 16 base64 encoded + 1 = 25 bytes 8 bytes 1 bytes 128 bytes base64 encoded + 1 = 173 bytes 80 bytes Simple condition tests. pdwOutputBufferSize is too small to hold data expect:  E_INVALIDARG. pcOutputBuffer is equal to NULL then pdwOutputBufferSize return necessary size and HRESULT is S_OK. Use a seven byte MAC address. Expect only 6 bytes to be copied. Code only copies up to 6. Since the buffer has to be at least 6 bytes in size.  Use a 2 byte MAC address buffer. If we only set these bytes then the api will process random garbage as the upper 4 bytes since we do a 6 byte copy from that buffer. Expect some kind of warning.  Use a thirteen byte Serial Number. Expect only 12 bytes to be copied. Code only copies up to 12.  Use a 6 byte buffer as the Serial Number buffer.  Expect some kind of warning. As the first 6 bytes will be set to whatever it is. However the next 6 bytes will be random values. This test was considered invalid. Use any non alpha character in the Serial Number. Expect E_INVALIDARG. Test a null Serial Number. Could be a case where the Serial Number Reader fails? Currently, this would process random garbage into the System. Expect a warning. Test a null MAC Address.  Currently, this would process random garbage into the System. Expect a warning. GameRegion:  verify it will write the 3 acceptable values into the pcOutBuffer (decode the buffer to check). No negative testing on this value as should test that values outside of accepted return an Error. TVRegion: Verify it will pass in the acceptable values and copy them into the pcOutBuffer.  No negative testing on this value.  Verify pdwOnlineKeyVersion returns 1 for now. Memory leakage. Run the GeneratePerBoxData in a loop and have it watch for increasing memory usage. Have a software monitor that fails this test if it reaches over 2000 bytes of leakage over several loops. Performance testing. Make sure this can all execute in under 10 seconds. HRESULT WritePerBoxData(     IN LPBYTE pbInputBuffer,     IN DWORD dwInputBufferSize     ); Verify this with a by reading the EEPROM out and verifying the binary we put in is the same as the binary that we returned. Verify the written data is correct by reading it out and comparing it to what was sent in. Verify performance is acceptable in writing. (i.e. its not long enough to be detrimental to production) Verify the dwInputBuffer size can only be size of XboxEncryptedPerBoxData + 28 bytes of RC4/SHA encryption header. Verify that if the Game Region is XC_GAME_REGION_JAPAN that the Language set in the EEPROM is Japanese. Verify that the VideoFlags are set as well. Error Codes: NTE_BAD_LEN Buffersize is not equal to sizeof(XBOX_ENCRYPTED_PER_BOX_DATA) + sizeof (RC4_SHA1_HEADER). NTE_BAD_DATA Decryption of input wire buffer failure. E_FAIL Querying of EEPROM settings failure. NTE_NO_KEY  The Xbox EEPROM key cannot match the ZERO_KEY and the TEMP_RAND_KEY. Hence the key is not random. E_FAIL  Saving of EEPROM settings failure. Fully correct functioning of the API. HRESULT VerifyEEPROMData( ); Assure that this can be run and the verification works. Open the EEPROM and corrupt the checksum number. See if this returns failure NTE_BAD_DATA.  Leave the EEPROM alone and run this and see if it returns success S_OK. E_FAIL If the Querying of the EEPROM fails this is returned. NTE_BAD_DATA The Checksums do not match. NTE_NO_KEY The Xbox EEPROM key cannot match the ZERO_KEY and the TEMP_RAND_KEY. Hence the key is not random. NTE_BAD_DATA The decryption of the gameregion and harddrive key fails. Correct functioning of API. HRESULT VerifyPerBoxData ( ); Assure that this can be run and the verification works. Open the EEPROM and corrupt the checksum number. See if this returns failure.  Leave the EEPROM alone and run this and see if it returns success. Make sure the high bit in game region is cleared. This will effectively lock the harddrive so that the refurbishment and test CDs will not work after leaving the factory.  E_FAIL Querying of EEPROM settings failure. NTE_NO_KEY  The Xbox EEPROM key cannot match the ZERO_KEY and the TEMP_RAND_KEY. Hence the key is not random. NTE_BAD_DATA The decryption of the gameregion and harddrive key fails. NTE_BAD_DATA  The Hard Drive key does not match. E_FAIL  Saving of EEPROM settings failure. Fully correct functioning of the API. HRESULT UnlockXboxHardDrive (     IN LPBYTE pbHardDriveKey,     IN DWORD dwHardDriveKeySize ); Assure that this can be run and the drive is actually unlocked. Test that this works, by reading back the error code from HalUnlockHardDrive. If that s says it s unlocked they we are done. The creaters of HalUnlockHardDrive should of tested this API. Not much more can be done. NTE_BAD_LEN If the harddrivekeysize does not match the XBOX_KEY_LENGTH. Fully correct functioning of the API. Test Complete Criteria When all of the test items have been covered and priority bugs either known or resolved are accounted for; then we would consider the testing complete. Release Criteria In general, when the component functions in all of the main cases, works correctly in normal specified usage and one has buy in from dev and PM then it will be considered release criteria passed. As well, there has to be no leaks. If time permits, then the most important corner cases can be considered ranging from 80% of the most used scenario up to all of the cases.  There will need to be a Peer Evaluation (aka Code Review) of the final code consisting of Dev, Test and possibly PM  Scheduling According to Megan Tedesco, the dates important are the following.  Legend: - Guadalajara  - the location of one of Flex's 2 factories that are building Xboxes FCEE  - Flex Central European E??? - refers to the other of the two build locations which is in Europe - User Acceptance Testing - testing designed to determine if the end users are satisfied with the system functionality - End to End - testing of the entire system including Flex and MS and all of the touch points in between - Business Process Verification - during the E2E and UTA testing, we are testing the business processes designed to support the systems along with the systems themselves. System Test (Joint MS/FLEX) GDL June 25   July 06 FCCE July 09   July 20 GDL   June 29   July 05 ( Overlaps latter half of GDL system test) FCCE July 13   July 19 ( Overlaps latter half of FCEE system test) E2E UAT BPV GDL   July 09   July 20 FCCE July 23   August 03 According to Lit Wong and Marc Whitten. Receive NV2A A03 & MCPX B02 6/22/01 DVT4 Begin 6/29/01 Qual Build Start 7/31/01 Production Start 8/13/01 Notes from Formal Test Plan Review June 6th, 2001 Email MarcW and PaulLu about flying in the 1st retail Xbox off the line from Guad. Create a tool section, in the test plan. For verification tools we will bring down to Guad. Create a DLL that returns all the error values that could happen to see how the Intel system handles errors. Create a list of all possible error codes. (A file named default.xbe on a CD will boot up). Talk to Jeffery Potter and/or MarcW and Kelly Altom (Operations) how to get the Data from the Genealogy database. Megan Tedesco (megant pm responsible for  E2E - End to End - testing of the entire system including Flex and MS and all of the touch points in between)? is the IT person at the factory that handles the return data for the  Genealogy Database that is generated at the factory. How does this get back to us? PAGE   PAGE   EthernetAddr[ 6 bytes] GameRegion[4 bytes] HardDriveKey[16bytes] CheckSum [20 bytes] User Settings Factory Settings Encrypted Settings SerialNumber[12 bytes] CheckSum[4 bytes] AVRegion [4 bytes] OnlineKey[16bytes] Reserved1 [2 bytes] Reserved2 [4 bytes] TimeZoneStdName[8 bytes] TimeZoneStdBias[4 bytes] TimeZoneBias[4 bytes] ParentalControlMovies[4 bytes] CheckSum[4 bytes] Language [4 bytes] TimeZoneDltBias[4 bytes] VideoFlags[4 bytes] AudioFlags[4 bytes] ParentalControlGames[4 bytes] ParentalControlOnline[4 bytes] TimeZoneDltName[8 bytes] TimeZoneDltDate[8 bytes] TimeZoneStdDate[8 bytes] Section Total 48 bytes MiscFlags [4 bytes] OnlineSubnetMask[4 bytes] OnlineDefaultGatewayAddress [ 4 ] OnlineDnsAddress[4 bytes] OnlineIPAddress [4 bytes] Unknown Bytes [62] Section Total 48 bytes Section Total 96 bytes Total 256 bytes Reserved[4 bytes] Confounder [8 bytes] Preserve Bytes [2] xjxWI@I wfUDUDUDUDUDUD wfUfUw wfUDUw scscscscOsGscs yhWF3F {j{YHY{ gdrg# gdrg# gd2"E xgYgYgHg gdrg# gdrg# gdrg# ]C]C] gdJJN {h`M9M` gdsbh }jVjVjC gdsbh n^N;N;N zjzjzjzjzjzjzj }h}Ph=h} gdXgm gd:Mp }l[lH[70 }nZG7G7G7G7G _N_N_N_N_ gd[*p gd5V? }o}oaoaoaoaoaoao[U gdf}z whw\P\ gdA+u kgc[cWSc gd2GF ~z~z~z~z~z~z~z~z
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\doc\xboxcom\M4\Xbox.com Mammoth Profile Test Plan.doc ===
Microsoft Office Word Document MSWordDoc Word.Document.8Microsoft Corporation Title _PID_HLINKSMassimo Loi Normal.dot Massimo Loi Microsoft Office Wordurn:schemas-microsoft-com:office:smarttags country-region urn:schemas-microsoft-com:office:smarttags urn:schemas-microsoft-com:office:smarttags place urn:schemas-microsoft-com:office:smarttags PersonName 91/;b 5Wwa(Xbox.com Mammoth Profile Test Plan         04/28/2005 Program Management Clinton fowler, Michal Bortnik Development Reed Rector Massimo Loi Table of Contents  TOC \o "1-2" \h \z \u   HYPERLINK \l "_Toc102490648"  Table of Contents  PAGEREF _Toc102490648 \h   HYPERLINK \l "_Toc102490649"  Executive Summary  PAGEREF _Toc102490649 \h   HYPERLINK \l "_Toc102490650"  Test Goals  PAGEREF _Toc102490650 \h   HYPERLINK \l "_Toc102490651"  Test Non-Goals  PAGEREF _Toc102490651 \h   HYPERLINK \l "_Toc102490652"  Related Documents  PAGEREF _Toc102490652 \h   HYPERLINK \l "_Toc102490653"  Profile Screens  PAGEREF _Toc102490653 \h   HYPERLINK \l "_Toc102490654"  Tests  PAGEREF _Toc102490654 \h   HYPERLINK \l "_Toc102490655"  You View  Profile Page  PAGEREF _Toc102490655 \h   HYPERLINK \l "_Toc102490656"  Me View  Profile Page  PAGEREF _Toc102490656 \h   HYPERLINK \l "_Toc102490657"  Edit Profile Page  PAGEREF _Toc102490657 \h   HYPERLINK \l "_Toc102490658"  Edit Gamer Setting Page  PAGEREF _Toc102490658 \h   HYPERLINK \l "_Toc102490659"  Edit Web Settings Page  PAGEREF _Toc102490659 \h   HYPERLINK \l "_Toc102490660"  Edit Favorites Page  PAGEREF _Toc102490660 \h   HYPERLINK \l "_Toc102490661"  Edit General Preferences Page  PAGEREF _Toc102490661 \h   HYPERLINK \l "_Toc102490662"  Edit Appearance Page  PAGEREF _Toc102490662 \h   HYPERLINK \l "_Toc102490663"  Edit Sound Page  PAGEREF _Toc102490663 \h   HYPERLINK \l "_Toc102490664"  Edit FPS Preference Page  PAGEREF _Toc102490664 \h   HYPERLINK \l "_Toc102490665"  Edit Racing Preference Page  PAGEREF _Toc102490665 \h   HYPERLINK \l "_Toc102490666"  Edit Sports Preference Page  PAGEREF _Toc102490666 \h   HYPERLINK \l "_Toc102490667"  Edit Flight Preference Page  PAGEREF _Toc102490667 \h   HYPERLINK \l "_Toc102490668"  Xbox Newsletter Page  PAGEREF _Toc102490668 \h   HYPERLINK \l "_Toc102490669"  Account Settings Page  PAGEREF _Toc102490669 \h   HYPERLINK \l "_Toc102490670"  Test Complete Criteria  PAGEREF _Toc102490670 \h   HYPERLINK \l "_Toc102490671"  Release Criteria  PAGEREF _Toc102490671 \h   HYPERLINK \l "_Toc102490672"  Tools Needed  PAGEREF _Toc102490672 \h   HYPERLINK \l "_Toc102490673"  Hardware Requirements  PAGEREF _Toc102490673 \h   HYPERLINK \l "_Toc102490674"  Revision History  PAGEREF _Toc102490674 \h  Executive Summary Mammoth Profile is likely the last profile a gamer will ever need to set up.  This all-you-can-eat, in-your-face, bigger-than-Bigfoot profile allows you to not only specify you identity (gamertag, motto, etc) but will showcase your achievement in Xenon titles as well as letting you compare yourself, achievement by achievement again your online nemeses.  But that s not all!  The Mammoth Profile also lets you set your preferences for different game type.  Tired of inverting the Y-Axis in all your First Person Shooters?  No problem.  Set it, and forget it! Test Goals Test the functionality of each page Make sure settings persist Test Non-Goals This test plan does not test: Gamercard Related Documents The specification for this feature can be found here:  HYPERLINK "http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20-%20Profile.doc"  http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20-%20Profile.doc  HYPERLINK "http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20Profile.vsd"  http://team/sites/xbxe/Shared%20Documents/Xbox.com%20and%20XPA/M3%20Specs/Mammoth/Mammoth%20Profile.vsd Profile Screens The screens that will be tested by this test plan are: You View  Profile Page Me View  Profile Page Edit Profile Page Edit Gamer Settings Page Edit Web Preferences Page Edit Favorites Preferences Page  Edit General Preferences Page  Edit Appearance Preferences Page  Edit Sound Preferences Page  Edit FPS Preferences Page  Edit Racing Preferences Page Edit Sports Preferences Page  Edit Flight Preferences Page  Edit Newsletter Page  Edit Account Settings Page  Issue: One concern is that the Edit Profile page may take forever to load since we ll have hundreds of GamerTiles for the user to choose.  These tiles are not arranged in pages but are all listed here.  Assuming that each round trip to the server take 50 milliseconds, 100 pictures will be mean the page will take at least 5 seconds to load.  If the number goes up, or the latency goes up (due to location or time of day) or both, they page may take a long time to load.  Even when the images are cached, there still will still be request to our servers for those images (though the actual file won t be transferred again)  Tests Positive Text Box Tests Enter minimum number of characters Enter the maximum number of characters Enter Unicode characters Leave empty (and look for warning if one is given) In each case  Save and go back  to make sure the values are there Negative Text Box Tests Enter too many characters, warning should be issued Enter bad text, if applicable, warning should be issued Positive Radio Button Group Test: Select a radio button Save the page Return to the page Make sure the correct radio button is selected Select the next radio button Goto 2  Positive Dropdown Test   Similar to the Positive Radio Button Group tests. You View  Profile Page Positive Test Cases Visit the page by clicking on a Gamercard Lite Visit the page by going to the gamertag url (  HYPERLINK "http://members.test.xbox.com/[gamertag"  http://members.test.xbox.com/[gamertag Visit the page of a gamertag that prohibits view of his favorites, the favorites should not be displayed Visit the page of a gamertag that prohibits view of games he played, the Games Played section should not be there Visit the page of a web-only gamertag.   what sections are missing?  Visit the page of a Xbox 1 gamertag   what sections are missing? Visit the page and select a Games Played link, it should transition to the Achievement page for that game. Negative Test Cases Me View  Profile Page Positive Test Cases One test for each link in the page that makes sure the browser goes to the correct page Your Profile Link  and follow it to the correct  You View  profile page Negative Test Cases Edit Profile Page Positive Test Cases Update the Gamer Zone, make sure it s reflected on the profile page.  Return to this page and make sure it s selected. Update the Gamer Tile, make sure it s reflected on the profile page. Return to this page and make sure it s selected. Update the Motto, make sure it s reflected on the profile page.  Return to this page and make sure it s there. Enter a motto with Unicode characters.  Make sure it s reflected on the profile page.  Return to this page and make sure it s there.  Issue: Is the motto going to be screened for foul language? Negative Test Cases Omit a required field.  The page should tell the user that information is missing Enter a motto larger than 22 characters Edit Gamer Setting Page Positive Test Cases Verify that each link points the browser to the corresponding page Verify that the  Back to Gamer Profile  button brings the browser back to the  Me View  profile page Negative Test Cases Edit Web Settings Page Positive Test Cases For each group of radio buttons, do a Positive Radio Button Test Make a change to the settings and hit the Save button.  We should be back to the profile page with a message saying that the update was successful Make a change to the settings and hit the Cancel button.  We should be back to the profile page and there should be no messages displayed.  Returning to this page should show the setting unchanged. Negative Test Cases Edit Favorites Page Positive Test Cases There are 12  Favorite Genres  checkboxes.  Instead of doing all 4096 permutations, we ll only do a much smaller subset! (  Select a certain number of genres, click save, select the  You View  Profile for yourself and see that they favorites are updated.  Return to this page and make sure your favorites genres are checked off. For the Consoles Owned, do the same as above. For the Favorite Xbox Games, do the same as above. Test the Cancel button same as in 7.5 Negative Test Cases Edit General Preferences Page Positive Test Cases There are nine groups of radio buttons.  For each group do a Positive Radio Button Test Test the Cancel button same as in 7.5 Negative Test Cases Edit Appearance Page Positive Test Cases For Gender and Skin Color radio button groups do a Positive Radio Button Test Stupid Question: What does skin color refer to?  The player or the player s avatar in the game? For Primary and Secondary Color drop downs do a Positive Dropdown Test Do Positive Textbox Tests for the Name Issue: Is the name going to be screened for foul language? Test the Cancel button as in 7.5 Negative Test Cases Do Negative Textbox Tests Edit Sound Page Positive Test Cases For each radio button group do a Positive Radio Button Test Test the Cancel button as in 7.5 Negative Test Cases Edit FPS Preference Page Positive Test Cases For each radio button group do a Positive Radio Button Test Test the Cancel button as in 7.5 Negative Test Cases Edit Racing Preference Page Positive Test Cases For each radio button group do a Positive Radio Button Test Test the Cancel button as in 7.5 Negative Test Cases Edit Sports Preference Page Positive Test Cases For each textbox (City 1, City 2, City 3, Country, College) do Positive Textbox Tests Test the Cancel button as in 7.5 Negative Test Cases For each textbox, do Negative Textbox Tests Edit Flight Preference Page Positive Test Cases For each radio button group do a Positive Radio Button Test Test the Cancel button as in 7.5 Negative Test Cases Xbox Newsletter Page Positive Test Cases For Email Format, do the Positive Radio Button Test For each checkbox, have a test that: Selects the checkbox Saves the page Goes back and verifies it s checked Unchecks it Saves the page Goes back and verifies it s not checked Test the Cancel button as in 7.5 Negative Test Cases Account Settings Page Positive Test Cases For each text box (First Name, Last Name, Address 1, Address 2, City, Zip, Contact Email, Contact Phone, and Date of Birth) do Positive Textbox Tests For each dropdown (State, Country, and Language) do the Positive Dropdown Tests Change the country to Germany and verify that Contact Phone field is not there For each required field, edit the page and omit the required field.  Verify that the page won t let you save until the all required field are supplied. Test the Cancel button as in 7.5 Negative Test Cases For each text box, do Negative Textbox Tests Test Complete Criteria Test cases are developed and integrated into the Server Test Framework Test pass completes with no unexplained failures. Release Criteria All functional tests pass All Pri1 and pri2 bugs assigned to the Banner Server are closed. Tools Needed Three technologies will be used in the testing of this feature: WebRunner to automate UI input and user interaction STFRunner and the ServerTestFramework to run the test Hardware Requirements TestNet Revision History Changes made Author 04/28/2005 First Draft Massimo Loi Microsoft Confidential. Unpublished work.   2005 Microsoft Corporation. All rights reserved. Page   PAGE   NUMPAGES  Microsoft Confidential. Unpublished work.   2001 Microsoft Corporation. All rights reserved. Page   PAGE   NUMPAGES  ~shaYNCa tetTete lxaxRl gdTw1 gdTw1 gdTw1 gdTw1 gdTw1 gdTw1 IDATx^ {uUWu y&~x<gk Yxky/ \5 c' uCKegQ 6.CwJ W_,~]Q Q-aW)m] 7eNzq mQ5]0 E@:d- `V=72~y u-Z,Ra Rp:K= Hw~NIv k;^Kk- =mnB0 u{s$|Z9c] hV \Rl ([gl% &l>:h ^LKdA ynWvl ~]wYj oFK]a E8?,RvY m.iQ; Lv,E0% hxtUR 9nO+' |,NC( qcwwW Ts+.kp Lown7 Jkak\,| ,k%]O ;|8u3N4 ewo%` )VN+W  # 2  Kq|c0 rq.SC 32FBc -rmVa d|jUL gu1]F LWwfZ 1}r<) o12~E D*)I^w JdZUI% zZ7Ue*I ?/c#*6 FH%=X ;Xu$g =[YW;qY O7}:X :3[YC J%6Za y>aP6 f*IT ah bu in%e $-ftIW letYks ,3hclZ/ %CVG] v[_tY SX7]Y~ Z4Z5jc =w_cRG dpp)Z< hj(VGC bw{qq7 kwvh< d[y:E k"t5C $ aOk E=Io# mVf5c |+g[K 8]0\.l1 o9Z|Z fY+Vuy ROjf, w{'8l %K,N! {\xx3 j%o=Q DOjtU W\nX9 =EHk1 8]h=I gkk+E{e ynaF# 5@eq- lxESZ%o 0k4ci% 0>tkaL3 4N4mk RI%&+ d/Yl' ?q5y!H_ %Z%9y "9<VF2^ B,TXX JRl%{{. d)>;I f$405k Zw{!;b GA#ShIW+Dk ;Y,Bm 4PXCw* RsC7- \kz[4S Gs-ru 2y2>wVT @e756 {::x>b TW8ih JW$sy Y)ouA _OaWGqiF ZmiNE 2="]$ ,h-uG Jj_k(5 s6Z@Z <:X`#_4 EtHvr cy=Lg nUZ(n A|&Ir .G>.dV uS\E"z 5I7LU &/HoN KgH6O+ "CB|sZ-4 NV#!H IMNis< w.mm'/m dz}kxa qax5xqw B]PUQL {I`L] U=J7P zHw[` 5j<?E C+y1W XrA,[ (d$8w i0Fp@2 LS!ti\r w+|mp 6A}'7{ khbfq r*\c% "'#/Oh 7^VjxL m8;*1% T'!Jc *v^0= POAx&S EgjX;`: %[IxR DQxn$ iNvV^ 3k7|q #vV,F FygOZW oT7jS d2&qUF3 2Bmuk FC8Y@ p?Ifq cP8Lr  34>= !$v4^k =-'TA$< `g5W.hD *+ML= Y>OQs U'/3. t47]Drd po"8~ '*6tE 9A1b(W mM%%5 f=W"HC Ap&<> k/<31 sGa`E QJ.f$ yrlP< 50:pai X~<|k 2;+y\q |y8E3X UIO|M a'6yb Yw/D; 7gr8!> ,;E>yBN 4cG}j UL,q.& 3`|fm /fq4" aJrG.^ b;\q&, $16#G 9M"r2V A5aX|E8 ^bG8C y{tfw (\!q5 |N<m<+v D~KoKu my7F| pnW\EJ8 gZd/=} 8yNi@4Sl~ <or9pfF .oN'|.>  K/|s6 8:{RuX !/ML= ^`)nlt dM.0# q2Yv8 hnhI> $DLMQ9;W &@,D# Ih*O4 n$=Nc _vs-/ YGjzZ VOS!Q N,Xd< KynzE?( [ZK>% cF[.m vik3\r ,x*Zc DxhG# ffm!M s_}xm P aT:> kFKsq wg$_N"S twbZ/Th *c8Wk jIWICg qo*Xi q.GU> 5#X(*0/7# dL6B^ bXmh/]j3 l)Od2 ?"33n (ja(7 |au9u :{i`>j1 &e=5K; +9[5i& p,xlw :<:ah W2;Xk- R_t_u.a! TaW}<3 FA>e8 l\i,l {*2vh _kG]j fB~^p wk M ] {>&>8s HE_hyq ByN|M @NqoD a?kCb 1hDxmaXfU CqOEUe XjuF> 'GlQKVh o),wP oF`&`: RAvql\ Jq9~s} lQw.xj AQSMdX uDj3!V b=@DCZ m7[K2 =?~=m `/p-S qP$%U W)s.0L $c{(U s?<Hr) {A{"(P ?`FjB w"CI]mSv  U#./Lb 3>U>N R+6{R s"kP\M \;;W9 WSxCd M{cfP oyqFG x0/Q? /,fyV BR;\[ Mo5i&uJ ?]MGl> =y"s  _*+n& X'_yo7D\ D4GZl E{nLH _(CWC 21@=}n= oqX]]l5 g"Ar~ <Ho?y'x ^?rhe M(2<? $vWEe?l <:dz- =#9,! `H( RKm_O W{80` V4D&1 1thC{ i<upo n+j7hF (61;}7 :N#iIV WmW2: |c+D` HTKYt W[gOe 3S#d@ ,\3j% Hza^W ClkLm bH;TwY t.!WN 6.}V4Q ;)6%& G}RW  z/.w/ 4Z\oF NAP_5 {_hQ(S aFxKBX {ocH8 OtA+^0   &(A) 5^kIM FO-$dZ hzG=l 1*MTh tAykR- <9n_hTc h|l|~ 7&nvH u+<!R Dp-7: JT>%FO ZYkf@# =+UJoe !h]~E VVG-1 R[3R; aY7/O -,j(n dLR*:+4 ]GYKf aO7FQ 0#[d]NfI#[ Y)TTm NmJ"7 q'bm. xqM`H 0Y2ofC@d wDhA> b TdCa =,--Q 3gVV/ a]kVMX {d=0q t2")* f*7tpZ lx'3Kr4 !&auD  Emw,  rAJq |EI\V 2BddIm moo`m 8tlHL jOBX5 SV1_+U <")YEA 88t-d; O[lwD m)[yx 7M;\!+g `*s;~. 5M)XS =~xyy 9\=W{ 8a j" UJt[' s8Jn7 @Z`3_Q WTn%p o#@Ri U[mvK a?F,Y) V,VT3Da= ><0J: ?"]a8 Q6JQ?. F$j#G s'?\! >DV.a2#= .RL=V9 9W/Mw =p#=`z vqcCn T$>(: J-"s: q!tmo U`DOF (Rlr.M E|#E$ H2TC_%oP# E{qd.FW 2EJCQ \Ofhy -_,(N :mBJ"sp *TZ7}< Gg9,mh :MF\? Q,zsZ nuuy)K mprX,: d-]Y^^[K %Dxwd&% C[-QO VI@T0S Qu)CT3 (^L{= ^Is_ZZ $d\FJ ^@bcl _1(pobi< `~yy9 tA9uL ^f"y" O%Oxe c^w+Y )RlitR 8W(w}~=r .&ip? D{gYR uF;xp? Y^5&> 7xb l +>:st x)/=/ dy$BQ )Q%N*M\ 3>]dJ m,:R6 o&?%us r{Z]nq(N )*4*^6 mr(0sW |+Z t 5l]AW'VZ *a%vl <s0vk |Z.`R FdJ> } ^p#Wv Sqw=: fSHq* 0^YY9{ foA"s $@R$  ;(?&: 3pURS m0]X= I-jM!! sL~rx GvtTHF elz4:#T I_REt H8luv yP4@z * p%J [(9%v 85/+V 1D8<ie8 +.Ggp9n +@~1[ *#tS& L5^($\2G] Zsp/F;F t</\` Csp;m #*vcQ |xuwo 9`]h# CU+$-< \Adk]~ GW|Vk {pQzw| w/7w/ ".E]f rbF1q 6v;{7q8_ 0V/a= 20Mlf W;a):N (&r\- Z4oq8\ M"m+r ^,|>~F UiKKpN "+xgF 3DQ`% EWl;Q IDAT8 !^Gq } ^x m} Mhw*1 {vZt|$ t,/j%  zsR;m lw8<h pT]Yv+ vG6<. XJpZ< {m`Zc !;E\. r+>(` [W,^% OF<})& P]@t<E RE,o2a 4p4#; !%g}rB Ql]\X hx4<z 57{2w EH`O!2 o#)n4 *ruU. ,iw\  tvpTls ^g)gOn <x@>m P`$tcA Fp|iP X_9 . Q^MR2 W14+|$E E/=4y Nor%y U("6el ,s{!b ;8cQv 8up6<B qg=p9 %E-7b< ng1@7 0,>9N :*-0EYz {1^bef ':AP2 w=B]/ :dd"- P*Z{7 js%wR ;t<ND 4_j}r KT9,T XOM)D 0l+q$\j ,Qokww QaQ`iJ P`K'H \`Fcy XpH{b] Ahm4!& w`YN;M 6iV^> /nk'o mC><9 b6&#T x5V.T @)!hzZ TpMG+ N#F"& nAW u Rq88' ;(|1E1`P>-\ >l;8] 4qL(- bU@Q@T E_he| %_nC_ *Hz:;B ULri`Y Kc3>Xv: _G~~x 3|zHB <fB}83 p$o<{ *.@OS@ 8z[5; +_)y& Fk&i)j @m,]q{,Gx s~]i@ QWE{w a1Q$T 66D!z( MvG3\N Vp.A6 ceNim QR(2U Eoba/ up3.v95 dZqu[ =|]5k6 c5HS~ ]L>;]H f]~UX [;(-9z ]n`Y:YOX <f)}S c\IGv q-5wF~] 4 Pij 'qqXE> Y!!6c j^<ia 6i)'T yf10n mT?Ea qycdc Hu\QJ b;1AFg,+ SXdPm& 8Op,v l&.zx .%N{Q bmP9j ]suux v|2>~ hp./= tJEi:OcO S<eNJ 0yu]`*aP& y%=d6 (Ok]7V Mhc1V IbNC= b(CH% >Bf:F -Nd'N M}WtZ WK!ie* ^KgxL phw\ `^Z =qSkhi e>~B} STF%Wx3 rGe?9 Qf!V= yCNPK C9VAz d;/k& KcaXO vX6A*. 42=MP6; 4d4;MeJ ]%uEUut JY&subY ja&S~ ej]ODy ls7+x hK+!-9EI G)&gb<JM< {UbBR, b/sjrp(] JH29V A%$Ut N?^6^ Ar`P* `vDVH @,CfH 2DZ&H9 r<JdB 5:X%* Wt"2_m #!|CU lWQRL !3AxV. Dq^&R Ebma! E&O7q5 U,z*9 Gq"--2 @TbZj >=QP& NUZSz 4<9|T LjxzE )?)fB [*WK9c\ DT*yk v?&0V$ Je=RO  9/y=P<= QY_6j X6}Qn FZFB^ eD^)B atY`! y3X6j ~EBdx 2upt, eB+xPY. !'h2$ Qqa'+ ZtY\%: /X%;%D P>FiF%WT ;aiT*iZ EeJmy* 97gRB ,{K(S =O~b\e|W aPVoY hWi6N? gH-!7) BJ^O4 a32+k hQM&? IB$4E> g*MQ9b ^%5'4 9nJ3E ^{aiE2 DvZm{ _hH&O #uoNe Ly(ft #+h,~ &t".} LtX`t L*@Fe ]$yH.{ t7+x+8t <R&(t ;Ge4v {E%0k qdt%< >sVE9 >6h": BB-yT 5PwW>r BXF{!x bVvXeY bA[w.jM v~q1p6 igc>f 0sww{ ^9Y!{T>" +xYe< =houI0 8)Ex" wWbyk X&H*< >%J.T 6A" ? u=.v3 ;"+d3 6muXw KtRD(yK.Q 0+`V# :i)J]  6hlQ 8?'x#iK pxe>&xfzl tzcwft &sn'|
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\doc\xboxcom\M4\Xbox.com Page Authoring.doc ===
Microsoft Office Word Document MSWordDoc Word.Document.8Microsoft Corporation TitleCarl Conn Normal Carl Conn Microsoft Office WordColumn Group Properties The Description text field should allow any character and any length of characters. 6.1.1 General Action Results Column Group Properties General 6.1.1.1 Check the Visible Check Box under the General Section All contents with in the column are visible.  The column color on the tree will be black. 6.1.1.1 Un Check the Visible Check Box under the General section. All contents with in the column are not visible.  The column color on the tree will be red. 6.1.1.1.1 Enter a simple line of text into the Description text field, and then click the Preview link. The Preview page will display the current settings.  The column title will be displayed as  column group: name entered in description text field 6.1.1.1.1 Leave the Description text field blank, and then click the Preview Link. The Preview page will display the current settings.  The column title will be displayed as  column group: no title 6.1.1.1.1 Enter 255 characters with spaces into the Description text field, and then click the Preview link. The Preview page will display the current settings.  The column title will be displayed as  column group: name entered in description text field  all on a single line with no text wrapping. 6.1.1.1.1 Enter special characters into the Description text field, and then click the Preview link. The Preview page will display the current settings.  The column title will be displayed as  column group: name entered in description text field  all on a single line with no text wrapping. 6.1.1.1.1 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Description text field.   Text is accepted. Column Group Properties Layout 6.1.2.1.1 Check the Fixed Height Check box under the Layout section. The Fixed height text box is populated with a 0. 6.1.2.1.1 Check the Fixed Height Check box under the Layout section.  Enter 10 into the Fixed Height text field.  Click the Preview link.  Set the drop down to px. The Preview Page will be displayed.  The column will be displayed as a short, 10 pixel high, and band.  To make the column more visible, type   into the color text field. 6.1.2.1.1 With a value entered in the Fixed Height text field, un checks the Fixed Height Check box.  The value inside of the text box should go away leaving the text box empty and grayed out.  The pixel drop down should also be grayed out. 6.1.2.1.1 Check the Fixed Height Check box under the Layout section.  Enter xxxx into the Fixed Height text field.  Place the focus outside of th Fixe Height text field. The Fixed Height text field is validated, the xxx is changed to a 0. 6.1.2.1.1 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Fixed Height text field.   Text is entered. 6.1.2.1.3 Enter a value of 25 into the Fixed Height text field.  Check the Scroll Bars on Overflow check box under the Layout section.  Click the Preview Link. The Preview page will display the current settings.  The column will not have functional scroll bars attached.  To get scroll bars attached, a free form item must be created. 6.1.2.1.3 Enter a value of 25 into the Fixed Height text field.  Check the Scroll Bars on Overflow check box under the Layout section.  Create a free form item with a large amount of text.  Click the Preview Link. The Preview page will display the current settings.  The column will have functional scroll bars attached.  6.1.2.1.3 Un checks the Scroll Bars on Overflow check box under the Layout section.  Click the Preview Link. The Preview page will display the current settings.  The column will not have functional scroll bars attached. Column Group Properties Background 6.1.3 Check the Color Check Box under the Background section.  Type in   into the Color text field.  Click the Preview link. The preview page displays the current settings.  The column background color is Red.  Be sure that the column has a Fixed Height. 6.1.3 Check the Color Check Box under the Background section.  Type in  $8E35EF  into the Color text field.  Click the Preview link. The preview page displays the current settings.  The column background color is Purple Be sure that the column has a Fixed Height. 6.1.3 Check the Color Check Box under the Background section.  Type in   into the Color text field.  Click the Preview link. The Preview page is displayed with the current settings.  The column is displayed with an error message inside a box. The error message reads  Validation Error click for info. 6.1.3 Un checks the Color Check Box under the Background section. The Color text field becomes empty. 6.1.3 Un Check the Color Check Box under the Background section.  Click the Preview link. The Preview page is displayed with the current settings.  The column is white, the default color. 6.1.3 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Color text field.   Text is entered. 6.1.3.3 Check the Images check box under the Background section.  Either enter a URL to a image or browse to an image.  Clicked the Preview Link. The Preview Page displays with the current settings.  The selected image appears in the background of the column.  The image may be cut off depending on the Fixed Height of the column.  The image may be repeated horizontally and vertically.  Be sure that a valid Fixed Height and Color is entered. 6.1.3.3 Check the Images check box under the Background section.  Leave the image text box empty.  Click the Preview Link. The Preview page is displayed with the current settings.  The column is displayed, but no image is displayed. 6.1.3.3 Check the Images check box under the background section.  Either an invalid URL into the Image Text Field.  Click the Preview Link The Preview Page is sis played with the current settings. The column is displayed correctly, but no image is displayed on the background. 6.1.3.3 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Image text field.   Text is entered. 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat selected from the Image Tilign drop down box.  Check the Horizontal Offset Check Box under the Layout section. The Horizontal Offset text field is set to 0. 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Layout section.  Enter -25 into the Horizontal Offset Text field.  Select px from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the column 25 pixels to the left of the left margin.  The image is cut off, no wrapping. 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 0 into the Horizontal Offset Text field.  Select px from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the column against the left hand margin. 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Layout section.  Enter 25 into the Horizontal Offset Text field.  Select px from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the column 25 pixels to the right. 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 750 into the Horizontal Offset Text field.  Select px from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the column 750 pixels to the right. Part of the image is off the column, ther is no wrapping.  The column width is 800 pixels. 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 850 into the Horizontal Offset Text field.  Select px from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image runs off the column.  There is no wrapping.  The column width is 800 pixels.   6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter -25 into the Horizontal Offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image displays on the column, 25% to the left.  The whole image is not displayed. 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 0 into the Horizontal Offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image displays on the column.  The image is all the way to the left, with all of the image being displayed. 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 50 into the Horizontal Offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the column.  The image is in the middle of the column. 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 100 into the Horizontal Offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the column.  The right hand side of the image is on the right hand margin. 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 150 into the Horizontal Offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is not displayed on the column. 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter xxx into the Horizontal Offset Text field.  Select % from the drop down.  Click the Preview Link.   When the focus is taken off the text field and placed in the drop dwon the xxx changes to zero.  The value si being validated before any actions can take place. 6.1.3.3.1 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Horizontal Offest text field.   Text is entered. 6.1.3.3.1 6.1.3.3.1 6.1.3.3.1 6.1.3.3.1 6.1.3.3.1 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Check the Vertical offset Check Box under the Layout section. The Vertical offset text field is set to 0. 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Vertical offset Check Box under the Background section.  Enter    -25 into the Vertical offset Text field.  Select px from the drop down.   The negative number is set to 0. 6.1.3.3.1 Have a valid large Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Vertical offset Check Box under the Background section.  Enter 0 into the Vertical offset Text field.  Select px from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the top fo the column.  The entire image is displayed. 6.1.3.3.1 Have a valid large Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 100 into the Horizontal Offset Text field.  Select px from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The top of the image is at the bottom of the column.  The image is not displayed, thet is no wrapping. 6.1.3.3.1 Have a valid large Fixed Height, Color, and Image inputted.  Have Don t repeat image selected from the Image Tiling drop down box.  Check the Vertical offset Check Box under the Background section.  Enter 150 into the Vertical offset Text field.  Select px from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The top of the image is below the column vertically.  The image is not sisplayed, there is no wrapping. 6.1.3.3.1 Have a valid large Fixed Height, Color, and Image inputted.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Vertical offset Check Box under the Layout section.  Enter -25 into the Vertical offset Text field.  Select % from the drop down.  Click the Preview Link.   The negative number is set to 0. 6.1.3.3.1 Have a valid large Fixed Height, Color, and Image inputted.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Vertical offset Check Box under the Layout section.  Enter 0 into the Vertical offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the top of the column. 6.1.3.3.1 Have a valid large Fixed Height, Color, and Image inputted.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Vertical offset Check Box under the Layout section.  Enter 50 into the Vertical offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed in the middle of the column vertically. 6.1.3.3.1 Have a valid Fixed Height, Color, and Image inputted.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Vertical offset Check Box under the Layout section.  Enter 100 into the Vertical offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed at the bottom of the column.  The bottom of the image is at the bottom of the column. 6.1.3.3.1 Have a valid large Fixed Height, Color, and Image inputted. Have Don t repeat image selected under the Image Tiling drop down box.  Check the Vertical offset Check Box under the Layout section.  Enter 150 into the Vertical offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is not displayed on the column. 6.1.3.3.1 Have a valid large Fixed Height, Color, and Image inputted. Have Don t repeat image selected under the Image Tiling drop down box.  Check the Vertical offset Check Box under the Layout section.  Enter 150 into the Vertical offset Text field.  Select % from the drop down.  Click the Preview Link.   When the focus is taken off the text field and placed in the drop dwon the xxx changes to zero.  The value si being validated before any actions can take place. 6.1.3.3.1 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Vertical offset text field.   Text is entered. 6.1.3.3.2 Have a valid large Fixed Height, Color, and Image inputted.  Set the Horizontal and Vertical offset to 0.  Select Repeat Images Horizontally and vertically from the Image Titling drop down under the Background section.  Click the Preview Link.   The Preview Page displays the current settings.  The image is displayed starting in the upper left hand corner and repeated both horizontally and vertically.  The last image is cut off, there is no wrapping.  6.1.3.3.2 Have a valid large Fixed Height, Color, and Image inputted.  Set the Horizontal and Vertical offset to 0.  Select Don t Repeat Images from the Image Titling drop down under the Background section.  Click the Preview Link.   The Preview Page displays the current settings.  The image is displayed only once. 6.1.3.3.2 Have a valid large Fixed Height, Color, and small Image inputted.  Set the Horizontal and Vertical offset to 0.  Select Repeat Images Horizontally Only from the Image Titling drop down under the Background section.  Click the Preview Link.   The Preview Page displays the current settings.  The image is repeated across the column.  The image will be continuing to through the end of the column, there will be no wrapping. 6.1.3.3.2 Have a valid large Fixed Height, Color, and small Image inputted.  Set the Horizontal and Vertical offset to 0.  Select Repeat Images vertically only from the Image Titling drop down under the Background section.  Click the Preview Link.   The Preview Page displays the current settings.  The image is displayed starting in the upper left hand corner and repeated vertically.  The last image is cut off, there is no wrapping.  6.1.4.2 Have a valid Fixed Height, Color, and Image inputted.   Click the Create New Column Item button under the Add an Item to this Column Group section. The column properties screen is displayed.  A new item is placed on the tree under the column group.  The title is Column: New Item, because it has not been named yet. Column Properties General 6.1.4.2 Check the Visible Check Box under the General Section All contents with in the column are visible.  The column color on the tree will be black. 6.1.4.2 Un Check the Visible Check Box under the General section. All contents with in the column are not visible.  The column color on the tree will be red. 6.1.4.2 Check the Visible Check Box under the General Section Enter a simple line of text into the Description text field.  Click outside fo the text field. The column title will be displayed as  column: name entered in description text field 6.1.4.2 Leave the Description text field blank.  Click outside of the text field. The column title will be displayed as  column: no title 6.1.4.2 Enter 255 characters with spaces into the Description text field. Click outside of the text field.  The column title will be displayed as  column: name entered in description text field  all on a single line with no text wrapping. 6.1.4.2 Enter special characters into the Description text field.  Click outside of the text field. The column title will be displayed as  column: name entered in description text field  all on a single line with no text wrapping. 6.1.4.2 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Description text field.   Text is accepted. Column Properties Layout Set the Color to something different then what is set on the Column Group color setting.  Enter 0 into the Width text field.  Set the drop down to px.  Click the Preview link.   The Preview Page displays the current settings.  The Column Group does not appear.  Set the Color to something different then what is set on the Column Group color setting..  Enter 10 into the Width text field.  Set the drop down to px.  Click the Preview link.   The Preview Page displays the current settings.  A new column item will appear on top of the Column Group.  This nee item will be 10 pixels wide. Set the Color to something different then what is set on the Column Group color setting.  .  Enter 900 into the Width text field.  Set the drop down to px.  Click the Preview link.   The Preview Page displays the current settings.  A new column item will appear with a scroll bar attached to the Column Group. Set the Color to something different then what is set on the Column Group color setting.  Enter xxx into the Width text field.  Click outside of the text field. The value within the Width text field is validated, and set to 0. Set the Color to something different than what is set on the Column Group color setting.  Enter 0 into the Width text field.  Set the drop down to %.  Click the Preview link.   The Preview Page displays the current settings.  The Column Group will appear.  No new column is displayed. Set the Color to something different then what is set on the Column Group color setting.  Enter 33 into the Width text field.  Set the drop down to %.  Click the Preview link.   The Preview Page displays the current settings.  A new column item will appear on top of the Column Group.  This nee item will be 33% wide. Set the Color to something different then what is set on the Column Group color setting.  Enter 100 into the Width text field.  Set the drop down to%.  Click the Preview link.   The Preview Page displays the current settings.  A new column item will appear with a scroll bar attached to the Column Group.  The new column item will be 25% longer than the Column Group item. Set the Color to something different then what is set on the Column Group color setting.  Enter 150 into the Width text field.  Set the drop down to%.  Click the Preview link.   The Preview Page displays the current settings.  A new column item will appear.  If the Scrollbars on Overflow is checked, then scrollbars will be attached to the column. Enter xxx into the Width text field.  Click outside fo the width text field. The value within the Width text field is validated, and set to 0. 6.1.3.3.1 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Width text field.   Text is accepted. 6.1.3.3.1 Set the Color to something different than what is set on the Column Group color setting.  Place a valid width into the Width text field.  Check the Fixed Height Check box under the layour section. The value within the text field si set to 0. 6.1.3.3.1 Set the Color to something different than what is set on the Column Group color setting.  Place a valid width into the Width text field.  Check the Fixed Height Check box. Under the Layout section.  Enter 0 into the Fixed Height text field.  Set the drop down to px.  Click the Preview Link. The Preview Page will be displayed.  The Column Group will appear.  The new Column Item appears with the correct width and a height value.  Even though there was not height value entered, one is used. 6.1.3.3.1 Set the Color to something different than what is set on the Column Group color setting.  Place a valid width into the Width text field.  Check the Fixed Height Check box under the Layout section.  Enter 10 (less than the Column Group Height) into the Fixed Height text field.  Set the drop down to px.  Click the Preview Link. The Preview Page will be displayed.  The Column Group will appear.  The new Column Item appears with in the column group. 6.1.3.3.1 Set the Color to something different than what is set on the Column Group color setting.  Place a valid width into the Width text field.  Check the Fixed Height Check box under the Layout section. Enter a value that is equal to the Column Group Height into the Fixed Height text field. Set the drop down to px.  Click the Preview Link. The Preview Page will be displayed.  The Column Group will appear.  The new Column Item will be displayed as the same height as the Column Group. 6.1.3.3.1 Set the Color to something different than what is set on the Column Group color setting.  Place a valid width into the Width text field.  Check the Fixed Height Check box. Enter a value that is greater than the Column Group Height into the Fixed Height text field.  Set the drop down to px. The Preview Page will be displayed.  The Column Group will appear.  The new Column Item is displayed. Scroll bars are attached to the Column Group. The Column Group is extended down to the meet the bottom of the new Colon Item.  6.1.3.3.1 Enter xxx into the Fixed Height text field.  Click outside of the text field. The value within the Width text field is validated, and set to 0. 6.1.3.3.1 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Fixed Height text field.   Text is accepted. 6.1.3.3.2 Set the Color to something different than what is set on the Column Group color setting.  Place a small valid width into the Width text field.  Check the Fixed Height Check box under the Layout Section. Enter a small Height value into the Fixed Height Text field.  Set the drop down to px.  Create and insert a Free Form item with multiple lines of text into the Column Item.  Leave the Scrollbars on overflow check box unchecked.  Click the Preview Link. The Preview Page is displayed with the current settings displayed.  The Column Group display.  The Column Item displays with the free form item with in it.  There are no scrollbars attached to the Free From item. 6.1.3.3.2 Set the Color to something different than what is set on the Column Group color setting.  Place a small valid width into the Width text field.  Check the Fixed Height Check box under the Layout Section. Enter a small Height value into the Fixed Height Text field.  Set the drop down to px.  Create and insert a Free Form item with multiple lines of text into the Column Item.  Check the Scrollbars on overflow check box.  Click the Preview Link. The Preview Page is displayed with the current settings displayed.  The Column Group display.  The Column Item displays with the free form item with in it.  There are scrollbars attached to the Free From item. 6.1.3.3.2 Set the Color to something different than what is set on the Column Group color setting.  Place a small valid width into the Width text field.  Check the Fixed Height Check box under the Layout Section. Enter a small Height value into the Fixed Height Text field.  Set the drop down to px.  Create and insert a Free Form item with multiple lines of text into the Column Item.  Un check the Scrollbars on overflow check box.  Click the Preview Link. The Preview Page is displayed with the current settings displayed.  The Column Group display.  The Column Item displays with the free form item with in it.  There are no scrollbars attached to the Free From item. Column Properties Background 6.1.3.1 Check the Color Check Box under the Background section.   The Color text field remains empty.  6.1.3.1 Set the Column Group Fixed Height to 25 and the color to White.  Set the Column Width to 50 px and the Height to 25 px. Check the Color Check Box under the Background section.  Type in   into the Color text field.  Click the Preview link. The preview page displays the current settings.  The Column Item background color is Red.  6.1.3.1 Set the Column Group Fixed Height to 25 and the color to White.  Set the Column Width to 50 px and the Height to 25 px. Check the Color Check Box under the Background section.  Type in  #8E35EF  into the Color text field.  Click the Preview link. The preview page displays the current settings.  The Column Item background color is Purple. 6.1.3.1 Un checks the Color Check Box under the Background section.  The Color. The Color text field becomes empty. 6.1.3.1 Un Check the Color Check Box under the Background section.  Click the Preview link. The Preview page is displayed with the current settings.  The Column Item is the default color. 6.1.3.1 Check the Color Check Box under the Background section.  Type in   into the Color text field.  Click the Preview Link. The Preview Page appears with the current settings ..The column is displayed with an error message inside a box. The error message reads  Validation Error click for info. 6.1.3.1 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Color text field.   Text is entered. 6.1.3.3 Check the Images check box under the Background section.   The Image text field is empty. 6.1.3.3 Set the Column Group Height to a large value, set the Column Height to a value just less than that.  Check the Images check box under the Background section.  Set the Image Tiling drop down to Don t repeat Image.  Either enter a URL to an image or browse to an image.  Click the Preview Link. The Preview Page displays with the current settings.  The selected image appears in the background of the Column Item.  The image may be cut off depending on the Fixed Height of the column.  6.1.3.3 With text listed in the Image text field, uncheck the Image check box under the Background section.  Click the Preview Link. The Preview page is displayed with the current settings.  No image appears on the Column Item. 6.1.3.3 Check the Images check box under the Background section.  Either an invalid URL into the Image Text Field.  Clicked the Preview Link The Preview Page is sis played with the current settings. The column is displayed correctly, but no image is displayed on the background. 6.1.3.3 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Image text field.   Text is entered. 61.3.3.1 Check the Horizontal Offset Check Box under the Background section. The Horizontal Offset text field is set to 0. 61.3.3.1 Have a valid Column Group and Column Fixed Height, Color, and Image inputted.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter -25 into the Horizontal Offset Text field.  Select px from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the column 25 pixels to the left of the left margin.  The image is cut off, no wrapping. 61.3.3.1 Have a valid Column Group and Column Fixed Height, Color, and Image inputted.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 0 into the Horizontal Offset Text field.  Select px from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the Column Item against the left hand margin. 61.3.3.1 Have a valid Column Group and Column Fixed Height, Color, and Image inputted.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Layout section.  Enter 25 into the Horizontal Offset Text field.  Select px from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the Column Item 25 pixels to the right. 61.3.3.1 Have a valid Column Group and Column Fixed Height, Color, and Image inputted. Have the Column Width set to 100 pixels.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 100 into the Horizontal Offset Text field.  Select px from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image runs off the Column Item.  There is no wrapping.  61.3.3.1 Have a valid Column Group and Column Fixed Height, Color, and Image inputted. Have the Column Width set to 100 pixels.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter -25 into the Horizontal Offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image displays on the column, 25% to the left.  The whole image is not displayed. 61.3.3.1 Have a valid Column Group and Column Fixed Height, Color, and Image inputted. Have the Column Width set to 100 pixels.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 0 into the Horizontal Offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displays on the Column.  The image is all the way to the left. 61.3.3.1 Have a valid Column Group and Column Fixed Height, Color, and Image inputted. Have the Column Width set to 100 pixels.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 50 into the Horizontal Offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the Column Item.  The image is in the middle of the Column Item. 61.3.3.1 Have a valid Column Group and Column Fixed Height, Color, and Image inputted. Have the Column Width set to 100 pixels.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 100 into the Horizontal Offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the Column Item.  The image is all the way to the right on the Column Item, completely displayed. 61.3.3.1 Have a valid Column Group and Column Fixed Height, Color, and Image inputted. Have the Column Width set to 100 pixels.  Have Don t repeat image selected under the Image Tiling drop down box.  Check the Horizontal Offset Check Box under the Background section.  Enter 125 into the Horizontal Offset Text field.  Select % from the drop down.  Click the Preview Link.   The Preview page is displayed with the current settings.  The image is displayed on the Column Item.  The image is not displayed on the Column Item. 61.3.3.1 Enter xxx into the Horizontal Offset Text field.  Select % from the drop down.  Click outside fo the text field. the xxx changes to zero.  The value si being validated before any actions can take place. 61.3.3.1 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Horizontal Offset text field.   Text is entered. 61.3.3.1 Set the following Column Group setting: Height = 300, Color = white, Image = no image and Image Tiling = Don t Repeat. Set the following Column settings: Width = 300 pixels, Height = 200 pixels, Image = a small image and Image tiling = Don t Repeat.  Set the Horizontal Offset to 0.  Check the Vertical Offset Check Box under the Background section.  Click the Preview Link.   The Vertical Offset is set to 0. 61.3.3.1 Set the following Column Group setting: Height = 300, Color = white, Image = no image and Image Tiling = Don t Repeat. Set the following Column settings: Width = 300 pixels, Height = 200 pixels, Image = a small image and Image tiling = Don t Repeat.  Set the Horizontal Offset to 0.  Check the Vertical Offset Check Box under the Background section.  Enter -25 in the Vertical Offset text field.  Select % from the drop down.  Click the Preview Link.   The Preview Page displays the current settings.  The image is displayed on the Column Item, with 25% above the top margin. 61.3.3.1 Set the following Column Group setting: Height = 300, Color = white, Image = no image and Image Tiling = Don t Repeat. Set the following Column settings: Width = 300 pixels, Height = 200 pixels, Image = a small image and Image tiling = Don t Repeat.  Set the Horizontal Offset to 0.  Check the Vertical Offset Check Box under the Background section.  Enter 0 in the Vertical Offset text field. Select % from the drop down. Click the Preview Link.   The Preview Page displays the current settings.  The image is displayed on the Column Item.  The top of the image is at the top of the margin. 61.3.3.1 Set the following Column Group setting: Height = 300, Color = white, Image = no image and Image Tiling = Don t Repeat. Set the following Column settings: Width = 300 pixels, Height = 200 pixels, Image = a small image and Image tiling = Don t Repeat.  Set the Horizontal Offset to 0.  Check the Vertical Offset Check Box under the Background section.  Enter 50 in the Vertical Offset text field.   Select % from the drop down. Click the Preview Link.   The Preview Page displays the current settings.  The image is displayed on the Column Item.  The image is positioned half way down the Column Item. 61.3.3.1 Set the following Column Group setting: Height = 300, Color = white, Image = no image and Image Tiling = Don t Repeat. Set the following Column settings: Width = 300 pixels, Height = 200 pixels, Image = a small image and Image tiling = Don t Repeat.  Set the Horizontal Offset to 0.  Check the Vertical Offset Check Box under the Background section.  Enter 100 in the Vertical Offset text field.   Select % from the drop down. Click the Preview Link.   The Preview Page displays the current settings.  The image is displayed on the Column Item.  The image is positioned at the bottom of the Column Item, completely visible. 61.3.3.1 Set the following Column Group setting: Height = 300, Color = white, Image = no image and Image Tiling = Don t Repeat. Set the following Column settings: Width = 300 pixels, Height = 200 pixels, Image = a small image and Image tiling = Don t Repeat.  Set the Horizontal Offset to 0.  Check the Vertical Offset Check Box under the Background section.  Enter 125 in the Vertical Offset text field.   Select % from the drop down. Click the Preview Link.   The Preview Page displays the current settings.  The image is displayed on the Column Item.  Part of the image is positioned below the Column Item bottom margin. 61.3.3.1 Enter xxx in the Vertical Offset text field.   Select % from the drop down. When the focus is taken out of the text field and placed else where, the xxx becomes a 0.  The text field is being validated. 61.3.3.1 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Vertical offset text field.   Text is entered. 6.1.3.3.2 Set the following Column Group setting: Height = 300, Color = white, Image = no image and Image Tiling = Don t Repeat. Set the following Column settings: Width = 300 pixels, Height = 200 pixels and Image = a small image.  Set the Horizontal and Vertical Offset to 0.  Select Repeat Images Horizontally and Vertically from the Image Tiling drop down box. Click the Preview Link.   The Preview Page displays with the current settings.  The image is repeated both horizontally and vertically through the Column Item.  There is no wrapping or scroll bars. 6.1.3.3.2 Set the following Column Group setting: Height = 300, Color = white, Image = no image and Image Tiling = Don t Repeat. Set the following Column settings: Width = 300 pixels, Height = 200 pixels and Image = a small image.  Set the Horizontal and Vertical Offset to 0.  Select Don t Repeat Images from the Image Tiling drop down box. Click the Preview Link.   The Preview Page displays with the current settings.  The image is not repeated.  There is only one image in the Column Item. 6.1.3.3.2 Set the following Column Group setting: Height = 300, Color = white, Image = no image and Image Tiling = Don t Repeat. Set the following Column settings: Width = 300 pixels, Height = 200 pixels and Image = a small image.  Set the Horizontal and Vertical Offset to 0.  Select Repeat Images Horizontally only from the Image Tiling drop down box. Click the Preview Link.   The Preview Page displays with the current settings.  The image is repeated horizontally only on the Column Item.  The image may be cut off at the end, there is no wrapping or scroll bars. 6.1.3.3.2 Set the following Column Group setting: Height = 300, Color = white, Image = no image and Image Tiling = Don t Repeat. Set the following Column settings: Width = 300 pixels, Height = 200 pixels and Image = a small image.  Set the Horizontal and Vertical Offset to 0.  Select Repeat Images Vertically only from the Image Tiling drop down box. Click the Preview Link.   The Preview Page displays with the current settings.  The image is repeated Vertically only on the Column Item.  The image may be cut off at the end, there is no wrapping or scroll bars. Column Group 61.4.1 Create New Column button Column Item 6.1.4.2 Create Newl Column Item button Create New Flash Item 6.1.4.3 6.2 Free Form Web Part Action Results Free Form Properties General The Visible check box is selected by default. The color on the tree is colored black. Un checks the Visible check box. The title on the tree is colored Red. 6.2.3.1 The default setting is On.  This places 10 pt padding around the web part. 10 pt padding is displayed around the web part. 6.2.3.1 Un checks the Remove Padding check box. The 10 pt padding is removed from the web part. Free Form Properties Header 6.2.3.2 By default the Header check box is selected. Enter a header text Un check the Header check box No header displays Free Form Properties Content 6.2.3.3 Enter text into the text field of the Free Form box Text is entered 6.2.3.3.1 Highlight text in the text area.  Click the drop down style list box, select a feature from the list The selected text changes to match that feature selected 6.2.3.3.1 t highlight any text with in the text field.  Click the drop down style list box, select a feature from the list No text is modified 6.2.3.3.1 Highlight a single word with in the text field.  Click the drop down style list box, select a feature from the list Only that one word is modified 6.2.3.3.1 Place the focus with in the text field of the free from text box, do a CTRL + A to select all text.  Click the drop down style list box, select a feature from the list All text is modified 6.2.3.3.1 Highlight text in the text area.  Click the drop down style list box, select a feature from the list Text is modified 6.2.3.3.3.1 Highlight the same text as above. Click the drop down style list box, select a feature from the list that matched the original feature.  Text is turned back to its original format. 6.2.3.3.2 Cu, Copy, Paste, Bold, Undo, Italics, Numbered List, Bulleted List.  Enter multiple lines of text into the free from text area and click thee buttons on various pieces of text. These button are very typically word processing items, test them by highlighting and clicking the buttons randomly. 6.2.3.3.2 Cu, Copy, Paste, Bold, Undo, Italics, Numbered List, Bulleted List.  Select one of the buttons, and then enter multiple lines of text. Be sure that the formatting carries over to each line of text selected. 6.2.3.3.2 Use the CTRL + V, right click Paste, and Edit menu Paste to paste text into the Free Form text field.   Text is entered. 6.2.3.3.3 Click the Data Table button.  Most of these characteristics are straightforward. The Summary is used for screen readers, and it is required (this doesn t have to be elaborate. It should simply describe what the table is displaying). The caption is the title bar for the data table.  Enter simple values into the various properties text fields and save the table. Table is created with characteristics defined by the properties. 6.2.3.3.3 Click on the Data Table button.  Enter zero for rows and columns.  Click OK. 6.2.3.3.3 Click on the Data Table button.  Enter values for the various properties.  Leave the Summary field bland.  Click OK 6.2.3.3.3 Click on the Data Table button.  Enter large values for the various properties.  Enter data into the Summary field. Edit tag properties: Border, Color, Image 6.2.33.3 Use the Cut, Copy, and Paste functions on the properties fields. Cut, Copy, and Pastern can used on the properties table. 6.2.33.3 Remove the Data Table Data Table removed 6.2.3.3.3 Click the Layout Table button.  Most of these characteristics are straightforward. The Summary is used for screen readers, and it is required (this doesn t have to be elaborate. It should simply describe what the table is displaying). Enter simple values into the various properties text fields and save the table. 6.2.33.3 Click on the Layout Table button.  Enter zero for rows and columns.  Click OK. 6.2.33.3 Click on the Data Table button.  Enter large values for the various properties.  Enter data into the Summary field. 6.2.33.3 Edit tag properties: Border, Color, Image 6.2.33.3 Use the Cut, Copy, and Paste functions on the properties fields. Cut, Copy, and Pastern can used on the properties table. 6.2.33.3 Remove the Layout Table Data Table removed 6.2.3.3.4 Click the Line button A line appears at the cursor location 6.2.3.3.4 Edit the Line Properties, change the color and width The line is modified 6.2.3.3.4 Edit the Line properties The line is modified 6.2.3.3.4 Remove the Line Line removed 6.2.3.3.5 Click the Image button.   The Image search dialog opens 6.2.3.3.5 Click the Image button, and select an image ot display.  Once selected, click the Display button. Image is displayed on the Free Form web part 6.2.3.3.5 Image properties The required attributes are is Alternate Text (the text that appears when the mouse hovers over the image. It is also the text that search engines use to search for images), Width and Height. When you select an image, this information is filled in automatically when you select an image. 6.2.3.3.5 Edit the Image Properties Properties modified 6.2.3.3.5 Remove the Image Image removed 6.2.3.3.6 Click the Link button. The link properties dialog opens. 6.2.3.3.6 Edit Links properties Link is modified 6.2.3.3.6 Remove Link Link removed 6.2.3.3.7 Click the XML viewer button The XML code window appears 6.2.3.3.7 Click the XML viewer button.  Edit the Xml code and save. XML code is validated 6.2.3.3.7 Click the XML viewer button.  Edit the Xml code, place an error in the code and save.  Click the Fix option. An error message appears You will then have 3 options: Fix, Edit or Discard. The Fix option will fix the errors for you, which means that you won t have to find the errors, but your changes may not take effect. The Edit option will allow you to back into the XML and fix the error yourself. The Discard option will discard the changes that you made.   Verify that the code was fixed. 6.2.3.3.7 Click the XML viewer button.  Edit the Xml code, place an error in the code and save.  Click the Edit option. An error message appears You will then have 3 options: Fix, Edit or Discard. The Fix option will fix the errors for you, which means that you won t have to find the errors, but your changes may not take effect. The Edit option will allow you to back into the XML and fix the error yourself. The Discard option will discard the changes that you made.   The XML code window is remained open for you fix the code. 6.2.3.3.7 Click the XML viewer button.  Edit the Xml code, place an error in the code and save.  Click the Discard option. An error message appears You will then have 3 options: Fix, Edit or Discard. The Fix option will fix the errors for you, which means that you won t have to find the errors, but your changes may not take effect. The Edit option will allow you to back into the XML and fix the error yourself. The Discard option will discard the changes that you made.   Verify that the changes have not been saved. 6.2.3.3.8 Click the Browser Preview button.   The web part is displayed in the preview screen.  Not all of the entire screen is displayed. 6.2.3.3.9 Click the Screen Reader Preview button.   The web part is displayed in the preview window.  Not all of the entire screen is displayed. 6.3 Flash Web Point Action Results Flash  6.3.2.1 gd#{3 gd#{3 gd#{3 gdy b gd#{3 gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdy b gdO!A gdO!A gdO!A gdO!A gdO!A gdO!A gdy b gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdH'] gdy b gdy b
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\docs\Xbox Catalog Referral Service Test Plan.doc ===
Microsoft Word Document MSWordDoc Word.Document.8Microsoft Corp. <<Spec Name>> Title _PID_HLINKS<<Spec Name>> ravim Template - Quick Spec t-eho Microsoft Word 10.0urn:schemas-microsoft-com:office:smarttags urn:schemas-microsoft-com:office:smarttags urn:schemas-microsoft-com:office:smarttags urn:schemas-microsoft-com:office:smarttags place Minute Month 7g./" kVf;\WfDZWfIDATX F t#yog2 ZNr~r~  >9Jy oMf7o gIDATh "`k<,r A'f>/ ?|>tvR nMVOwCatalog/Referral Service Test Plan Author: Eric Ho (t-eho) Table of Contents  TOC \o "1-1" \h \z   HYPERLINK \l "_Toc504380639"  Table of Contents  PAGEREF _Toc504380639 \h   HYPERLINK \l "_Toc504380641"  Modification History  PAGEREF _Toc504380641 \h   HYPERLINK \l "_Toc504380642"  Owners  PAGEREF _Toc504380642 \h   HYPERLINK \l "_Toc504380643"  Test Scenarios  HYPERLINK \l "_Toc504380644"  Spec Reviews  HYPERLINK \l "_Toc504380645"  Component Overview  HYPERLINK \l "_Toc504380646"  Open issues  HYPERLINK \l "_Toc504380646"  Tools Needed  HYPERLINK \l "_Toc504380646"  Hardware Needed  HYPERLINK \l "_Toc504380646"  Test Methods  HYPERLINK \l "_Toc504380646"  Test Complete Criteria  HYPERLINK \l "_Toc504380646"  Release Criteria  Revision History Version Author Comments 0.0.1 06/13/01 t-eho Draft #1 0.0.2 06/22/01 t-eho Draft #2 0.0.3 06/26/01 t-eho Draft #3 0.1.0 07/02/01 t-eho Draft #4 Owners HYPERLINK "mailto:t-eho@microsoft.com?subject=Xbox%20Notification%20Queue%20Test%20Plan" Eric Ho Development HYPERLINK "mailto:michion@microsoft.com?subject=Xbox%20Notification%20Queue%20Server%20Test%20Plan" Michio Nikaido Program Management HYPERLINK "mailto:bcurtis@microsoft.com?subject=Xbox%20Notification%20Queue%20Server%20Test%20Plan" Brent Curtis Operations Kelly Altom Test Scenarios The test cases for CatRef will fall into the following categories: Functional testing.  This is to make sure the CatRef code meets the specifications.  Performance testing. The CatRef server will be set to run for an extended period of time. Performance factors such as speed and memory consumption will be measured.  Stress testing. We need to make sure CatRef is scalable. The CatRef server will be set up to support a number of simulated clients simultaneously. We will measure how much load the CatRef server can handle.   Spec Reviews HYPERLINK "mailto:michion@microsoft.com?subject=Xbox%20Notification%20Queue%20Server%20Test%20Plan" Michio Nikaido  wrote the specification of the Xbox Catalog Referencing Service. This document is currently under development.  HYPERLINK "mailto:t-eho@microsoft.com?subject=Xbox%20Notification%20Queue%20Test%20Plan" Eric Ho  wrote a high level overview of CatRef, which can be found at xboxsd\xonline\private\test\docs or http://sts/xbox_online/Test/Forms/AllItems.htm. Component Overview General Overview Figure 1. Overview of the CatRef Component (Note: Link 2 represents the authentication server obtaining information about auto-updates and Xbox system updates from some source. How this information is stored, however, remains an open issue. The information may be stored in CatRef, the caches, the authentication server, or some other places). The Catalog Referencing Server (CatRef) provides a catalog service for new game updates, auto-updates, and Xbox system updates. When an Xbox connects online and is authenticated, the authentication server finds out if there are any game auto-updates or Xbox system updates for the current title version. (There has not been a concrete consensus on how to do this. The information could be stored in CatRef, some kind of cache, or inside the authentication server). If so, the authentication server will inform Xbox to retrieve auto-update information from CatRef. Afterwards, Xbox checks with the CatRef server about available updates for the game.  CatRef responds with primary information like package name, package description, creation date, content rating, etc. (The client code is responsible for filtering out matured content from Xboxes with parental control). Xbox can also ask CatRef to give detailed information about any particular update. If the update is not free, Xbox needs to communicate with the Xbox Online Billing Service to pay for the update. After the payment is completed, Xbox checks with CatRef again. Next, CatRef checks with the billing server to verify that the user has pay for the content. CatRef then sends a response message back to Xbox. The message contains a XRL and a decryption key. Xbox goes to the Content Server located at the XRL and download the package. The package is decrypted using the decryption key and the update is installed onto the Xbox. More details about the CatRef overview can be found at can be found at xboxsd\xonline\private\test\docs or http://sts/xbox_online/Test/Forms/AllItems.htm.  Functional Overview CatRef Requests There are five types of CatRef requests: Request Description Changes Allows the client to quickly determine if the catalog has been updated with new content as of a particular date. Enumerate Allows the client to submit a set of enumeration criteria and to retrieve descriptive information regarding download packages that matches the selection criteria Detail Allows the client to request more detailed information regarding a package that is not provided by the Enumerate function Package Referral Allows the client to request information required to locate, download, decrypt and install a specific download package Update Referral Allows the client to request information required to locate, download, decrypt and install an update package for a specified title. (This request is sent from the Authentication Server) Requests are submitted by the client in the form of HTTP requests. An example is: http://www.xbox.com/Catalog/XCatFront.dll?enumerate?TitleID=108?LangID=4 The five requests are related in the following way: Figure 2. Flowchart showing the relationship between different CatRef requests.  Responses  All CatRef responses contain a HTTP status code and a packet. The possible status codes are:  Success. One or more records have been found for the previous request.   No Content. No record matches the search criteria.  Partial Content. The results are too large to fit into the response packet; only partial content is returned. The client can continue to request subsequent enumerations by specifying a return index value equal to the record Index value of the last record returned in the previous enumeration. More details are discussed in section 6.2.4.  Bad Request. The request query is not properly formed.  Not Found. The package ID specified by the request does not exist in the database. The body of the packet contains the response. An example of an enumeration response is:     0                   1                   2                   3     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |                Response Size (128 = 8 + 72 + 48)              |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |         Record Count (2)      |             padding           |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |                      Record #1 Size (72)                      |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |        Record Index (1)       |        Field Count (4)        |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |      Field ID (PackageID)     |       Field #1 Size (8)       |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |                                                               |    +             PackageID (QWORD) = 0x0123456789ABCDEF            +    |                                                               |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |     Field ID (PackageSize)    |         Field #2 Size (4)     |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |              Package Size (DWORD) = 1,000,000                 |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |     Field ID (InstallSize)    |         Field #3 Size (4)     |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |              Install Size (DWORD) = 1,500,000                 |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |     Field ID (Description)    |         Field #4 Size (32)    |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |    Package Description (UNICODE) = L UT2 Patch 5423A          |    +                                                               +    |                                                               |    +                                                               +    |                                                               |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |                      Record #2 Size (48)                      |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |        Record Index (2)       |        Field Count (4)        |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |      Field ID (PackageID)     |       Field #1 Size (8)       |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |                                                               |    +             PackageID (QWORD) = 0x00AABBCCDDEEFF00            +    |                                                               |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |     Field ID (PackageSize)    |         Field #2 Size (4)     |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |              Package Size (DWORD) = 50,000                    |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |     Field ID (InstallSize)    |         Field #3 Size (4)     |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |              Install Size (DWORD) = 80,000                    |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |     Field ID (Description)    |         Field #4 Size (8)     |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    |          Package Description (UNICODE) = L                |    +                                                               +    |                                                               |    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ Change Request Input: Description Example TitleID integer Title ID Since Time mark used to search for new content (Example: December 31, 2001 at 4:34 AM GMT would be           represented using the string  200112310434Z Output: None. (The status code is enough to indicate whether there are new content or not). Enumeration Request Input: Description Example TitleID    Integer Title ID LangID Integer Language code After Time mark 200112310434Z RetIndex   Integer Index to retrieve partial content RetRecords  Integer        number of records to be returned RetBytes  Integer/Long The maximum number of bytes for the response (Example: If this value is set to 1024, only the first 1024 bytes of the response message will be returned) Output: Description Example Response Size DWORD Packet size Record Count Number of records Field Count Number of fields Padding Record Size Size of record (one for each record) Record Index    (one for each record) Field ID WORD              ID of each field (one per field) Field Size WORD  (one per field) Package ID QWORD 101005 Package Name All-Star package Package Description  BSTR    This package includes many new star players Package Size WORD                      1363454                                                   Install Size 20192 Creation Date 36892 (Note: DATE is represented as a long integer. The client API needs to convert it back to a human readable format). Content Rating Title Data Miscellaneous data Package Detail Request Input: Description Example Package ID Integer Package ID 101005 Output: Description Example Package ID QWORD 101005 Pricing Data Title Blob Anything else (e.g. bitmap snapshots) Package Referral Request Input: Description Example Package ID QWORD 101005 Output: Description rgbKey Byte Array decryption key iRank Rank for each XRL (one per record) cbXRL Length of the XRL szXRL The XRL Update Referral Request Input: Description Example Title ID integer Lang ID integer VERSION integer Output: Identical to the package referral request output. Test Environment The test environment consists of a CatRef server, a SQL server, a web server, and a client machine. The billing server, on the other hand, will be represented by a stub. The CatRef server, the SQL server, and the web server are located on the same machine, while the client is located at another machine. Communications between client and server are in the form of HTTP requests. In the lab environment, however, the SQL server is separated from the CatRef server. CatRef will be located in each of the Front Door (web) servers, while one single SQL server runs on an isolated machine. We will not test CatRef in the production environment setting until later stages when we do integration testing with the Front Door servers.  We assume that the SQL server and the web server operate correctly without errors. We also assume that all records in the SQL database have valid format. We do not care about how content is updated in the SQL database. Open Issues The following open issues exist. They will affect the test plan and the test tools. We assume all communications between Xbox and CatRef is synchronous. In the future, we might need to switch to asynchronous forms of communication using the Notification Queue. Details about how Title Developers update the information in the CatRef server have not been discussed yet. Details about how billing is done have not been discussed yet. How CatRef communicates with the Xbox Online Billing Service still remains in the gray area. All sever communication is currently performed using HTTP GET requests. We will switch to HTTP POST sometime later.  Tools Needed The following tools will be needed to test the CatRef server: SURGE   a stress tool for testing servers using HTTP communication. It also provides a basis for functional testing.  CATTEST   a basic verification tool for automated functional testing. It is a C++ program built on top of Surge. It performs the following functions: Reads test cases and answers from a file. Form HTTP requests for each test case; send the requests to CatRef. Collect responses from CatRef. Check packet format. Compare content of the CatRef response with the model answer.  Log test output in a separate file. CATSTRESS   a stress tool built on top of Surge. It is built in C++.  It sends multiple requests to the CatRef server and measures how long it took for the response to arrive. The following access patterns can be applied: Multiple requests of the same query. Multiple requests of different queries. Multiple requests of error cases. Simultaneous requests from different client machines. (Note: CATSTRESS will not check for correctness of output; it checks only the status code of the HTTP response. Checking output correctness slows down CATSTRESS and reduces the amount of load that CATSTRESS can simulate. One can check output correctness during high load by running CATTEST and CATSTRESS together). (Note: Normally, CATTEST and CATSTRESS emulate Xbox machines in communicating with the CatRef server.  An exception is the update referral request case in which CATTEST and CATSTRESS play the role of the Authentication Server instead). SQL Server Enterprise Edition   holding the catalog database.  holding web service. Prefix   static analysis tool for finding memory leaks, buffer overrun, etc. Icecap   a performance/code coverage tool used to analyze codepaths taken in the server code Perfmon   all server technologies need to implement performance counter, perfmon will allow test to view these counters during testing. The test tools above simulate the input and output connections to the CatRef server. This includes simulated Xbox machines and SQL databases. Many of the tools described above need to be developed by the test team. Hardware Needed The following hardware will be needed to test the CatRef server: 1 machine for CatRef server, SQL server, and web server. 1 machine for SURGE and CATTEST. For production environment testing: 1 or more machines for the Front Door server which will hold CatRef. 1 machine for the SQL server. 1 machine for the billing server (or the stub). Test Methods Instrumented or Scanned Code Static analysis tools such as Prefix will be used to scan for bugs including memory leaks and buffer overruns. Code Review CatRef code reviews/inspections will be conducted once the code is completed. The first review will be conducted by a combined team of developers and testers. Each subsequent review will be conducted by a dev peer and a tester responsible for that area. Debug Walkthrough Debug walkthroughs are helpful in tracking down bugs in a complicated server system. Manual Testing Manual testing will be done in areas where automated testing is not feasible. This includes: Integration Catastrophic Failure Maintenance Mode Functional Testing Overview CATTEST is used to automate all functional testing in CatRef. Functional testing is required to ensure that the CatRef code meets its specifications. The black box test cases that will be used in CATTEST include the following: Valid cases: Check if CatRef returns correct values when the inputs are valid. This includes error cases such as requesting a game update that does not exist. Boundary test cases will also be checked. Invalid cases: Check if CatRef returns correct error codes when the inputs are invalid. Example: null or empty variables; incorrect packet field sizes; negative or zero parameters; malformed packets; incorrect bitmap formats, etc. Other cases: Check if CatRef is able to operate correctly when there are multiple requests to the same value. Example: requesting price info for a game update while another simultaneous request attempts to change the price.  Detailed Functional Test Plan General test cases Missing parameters. Duplicate parameters. Input parameters at boundary value, boundary value -1, boundary value + 1, and extremely large value (e.g. integer 999999999999999999). SQL database parameter reaching limit size (e.g. a varchar 64 string which is exactly 64 characters long). Integer parameters negative/zero/empty/null/non-integer (e.g. abc, a9, 9a, etc).  Parameters not appearing in the same order as the spec. Change Request Test Cases Valid Cases: Requesting for a title that has new updates. Requesting for a title that does not have updates after the time mark. Requesting for a title that has no updates at all in the database. (Title does not exist). Requesting for a title that has one update whose creation date is equal to the supplied time mark. Requesting got a title that has both updates before and after the time mark. Invalid Cases: Title ID is a negative number, non-Integer, or a (>16)-bit integer. The time mark is not a valid UTC format. The request is malformed in other ways. (Malformed http requests). Check Output: The status code is valid. Enumeration Request Test Cases Valid Cases: Requesting for a title with many updates/ only 1 update / no update at all. Requesting for the same title but with different Lang ID. Case #1 but with different time mark. Using different combinations of RetBytes and RetRecords to retrieve partial content. Retrieve the rest of the response using the RetIndex provided by the previous response.  Invalid Cases: Invalid Title ID. (Negative number, non-integer, or more than 16-bit). Invalid Lang ID. Invalid time mark format.  RetIndex negative or bigger than/equal to response size.  RetRecords negative/zero/too large. RetBytes negative/zero/too large/smaller than first record received. Missing parameters. Check Output: Response Size = actual packet length. Same for record sizes and field sizes. Record count and field count is accurate. Record index is valid and in order. Field ID is correct. Package Size/Install size is nonnegative. Creation Date is nonnegative. The content of the response is correct. Detail Request Test Cases Valid Cases: Requesting for a package that exists. Requesting for a package that does not exist. Requesting for a package that exist but does not have any detail information.  Invalid Cases: Title ID that is negative, non-integer, zero, or has more than 16 bits. Check Output: The output package ID matches the input package ID. The pricing data is valid. The title blob is valid. Package Referral Request Test Cases Valid Cases: Requesting for a package that exists in the database. Invalid Cases: Requesting for a package that does not exist in the database. Check Output: The decryption key is valid. The iRanks belong to one of the valid values. The cbXRLs correctly identify the length of the XRL. The szXRLs are correct. Update Referral Request Test Cases Valid Cases: Requesting for a title which has many auto-updates available. Requesting for a title which has one auto-update available. Requesting for a title which has no auto-updates at all.  Requesting for a title which has auto-updates with different Lang ID. Requesting for a title which has auto-updates with larger/smaller version numbers than the one requested, but none with a matching version number. Invalid Cases: Invalid Title ID. (non-integer/negative/more than 16 bits). Invalid Lang ID. Invalid Version. Check Output: Same cases in package referral request can be applied here.  Performance Testing The PERFMON tool is extremely useful for monitoring system performance and resource usage.  The SURGE tool, on the other hand, is useful for measuring time performance. Time performance will be measured by the total time between sending a HTTP request and receiving a response from CatRef.  However, actual time performance might depend on other factors such as the performance of the Xbox Online Billing Service, which is excluded from our test environment. Currently the billing server is represented as a stub. During integration testing, however, we will incorporate the billing server into CatRef.  Stress/Scalability Testing Nightly stress runs will take place on test servers. Simulated load will be placed on the servers, and tools such as SURGE and PERFMON will be used to analyze the performance of the system. This information is useful in locating the breaking point of the system.  Integration Testing Integration testing is conducted by manually using the online service once CatRef integrates with the rest of the system. For example, client side testing of the platform API will help identify CatRef bugs and performance issues not discovered during stand-alone testing. Integration with the Xbox Online Billing Server will also help reveal time performance or security problems. Security Since we assume that all communications between CatRef and Xboxes are properly encrypted, the current test plan does not include security tests. However, since the CatRef server is in direct connection to the outside network, it is crucial to make sure that the CatRef server is not vulnerable to possible indirect attacks. In addition, the final design of CatRef might require it to communicate with the Xbox Online Billing Service. CatRef must be protected if the Online Billing Service needs to trust the CatRef server. Reviews of the CatRef architecture from security experts are desirable. Catastrophic Failure The server should be able to recover from the following catastrophic failures: Server crashes and restarts. Network connection goes down. Varying network loads, surged loading, and overload. Other components of the system (e.g. billing server) go down. The server is considered fully recovered only if it is functional and all unfinished requests before the crash has been cleaned up.  Also, integration testing in catastrophic failure modes is helpful to uncover hidden design weaknesses in the system. Maintenance Mode Maintenance operations such as system auto-restarts will be needed by the CatRef servers. Those operations must also be tested.  Test Complete Criteria The CatRef component is considered  test complete  when the component passes all test cases mentioned in the above scenario. Release Criteria The CatRef component has been considered  test complete  and all bugs have been fixed. In addition, the component has to pass a continuous stress testing without memory leaks. Microsoft Confidential Xbox Online CatRef Server Test Plan Page   PAGE   NUMPAGES  gd:KL rg^gGr ti`iIt gd>\Z gdExS gdExS gd>\Z gd>\Z gd#I3 gd#I3 gd#I3 gd7~o gd7~o gdgn3 gdgn3 gdgn3 gd+:H gdBD- gdBD-
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\docs\Xbox Notification Queue Test Plan.doc ===
Microsoft Word Document MSWordDoc Word.Document.8Microsoft Corp. XBox-Online Server Setup Title _PID_HLINKS _AdHocReviewCycleID _EmailSubject _AuthorEmail _AuthorEmailDisplayName _ReviewingToolsShownOnce Xbox Notification Queue Protocol Document markv@microsoft.com Mark VanAntwerpXBox-Online Server Setup Sean Wohlgemuth xbox.dot Sean Wohlgemuth Microsoft Word 10.0urn:schemas-microsoft-com:office:smarttags MonthXbox Notification Queue Test Plan Author: Sean Wohlgemuth Table of Contents  TOC \o "1-3" \h \z   HYPERLINK \l "_Toc514199950"  Table of Contents  PAGEREF _Toc514199950 \h   HYPERLINK \l "_Toc514199951"  Modification History  PAGEREF _Toc514199951 \h   HYPERLINK \l "_Toc514199952"  Owners  PAGEREF _Toc514199952 \h   HYPERLINK \l "_Toc514199953"  Test Scenarios  PAGEREF _Toc514199953 \h   HYPERLINK \l "_Toc514199954"  Spec Reviews  PAGEREF _Toc514199954 \h   HYPERLINK \l "_Toc514199955"  Component Overview  PAGEREF _Toc514199955 \h   HYPERLINK \l "_Toc514199956"  Build Environment  PAGEREF _Toc514199956 \h   HYPERLINK \l "_Toc514199957"  Tools Needed  PAGEREF _Toc514199957 \h   HYPERLINK \l "_Toc514199958"  Hardware Needed  PAGEREF _Toc514199958 \h   HYPERLINK \l "_Toc514199959"  Test Methods  PAGEREF _Toc514199959 \h   HYPERLINK \l "_Toc514199960"  Instrumented or Scanned Code  PAGEREF _Toc514199960 \h   HYPERLINK \l "_Toc514199961"  Code Review  PAGEREF _Toc514199961 \h   HYPERLINK \l "_Toc514199962"  Debug Walkthrough  PAGEREF _Toc514199962 \h   HYPERLINK \l "_Toc514199963"  Manual  PAGEREF _Toc514199963 \h   HYPERLINK \l "_Toc514199964"  Configuration  PAGEREF _Toc514199964 \h   HYPERLINK \l "_Toc514199965"  Functional  PAGEREF _Toc514199965 \h   HYPERLINK \l "_Toc514199966"  Performance  PAGEREF _Toc514199966 \h   HYPERLINK \l "_Toc514199967"  Stress/Scalability  PAGEREF _Toc514199967 \h   HYPERLINK \l "_Toc514199968"  Integration  PAGEREF _Toc514199968 \h   HYPERLINK \l "_Toc514199969"  10.10 Security  PAGEREF _Toc514199969 \h   HYPERLINK \l "_Toc514199970"  10.11 Catastrophic Failure  PAGEREF _Toc514199970 \h   HYPERLINK \l "_Toc514199971"  10.12 Maintenance Mode  PAGEREF _Toc514199971 \h   HYPERLINK \l "_Toc514199972"  Test Complete Criteria  PAGEREF _Toc514199972 \h   HYPERLINK \l "_Toc514199973"  Release Criteria  PAGEREF _Toc514199973 \h  Modification History Modification  HYPERLINK "mailto:seanwo@microsoft.com"  Sean Wohlgemuth 4/23/2001 Draft #1  HYPERLINK "mailto:seanwo@microsoft.com"  Sean Wohlgemuth 5/10/2001 Minor cleanup  HYPERLINK "mailto:seanwo@microsoft.com"  Sean Wohlgemuth 5/11/2001 Added feedback form test team review Owners HYPERLINK "mailto:seanwo@microsoft.com?subject=Xbox%20Notification%20Queue%20Test%20Plan" Sean Wohlgemuth Development  HYPERLINK "mailto:markv@microsoft.com?subject=Xbox%20Notification%20Queue%20Server%20Test%20Plan"  Mark VanAntwerp Program Management  HYPERLINK "mailto:pnewson@microsoft.com?subject=Xbox%20Notification%20Queue%20Server%20Test%20Plan"  Paul Newson Operations  HYPERLINK "mailto:kellyalt?subject=Xbox%20Notification%20Queue%20Server%20Test%20Plan"  Kelly Altom Test Scenarios The two main areas of focus for XNQ testing will be functional testing and scalability testing (which includes performance and stress testing).  Backend servers need to have both longevity/scalability and functionality.  Without functionality there will be no load (because there are no users) and with out longevity/scalability functionality does not matter (because the users we have can t use it).  Once functionality is stabilized,  mileage  will become very important.  The more stress, automation, and partner testing that we can get on server component will increase our probability of finding and correcting bugs before deployment. Leak testing will be critical to the successful stabilization of the server code to run for extended periods of time in the operations center and will be given high priority.  Memory and system resources will be monitored and analyzed thoroughly to ensure that we obtain our deployment goals.  There will be zero tolerance for memory or resource links in any service developed of the online platform. Spec Reviews  HYPERLINK "mailto:seanwo@microsoft.com"  Sean Wohlgemuth  wrote the Xbox Notification Queue Protocol (XNQP) document which can be located at SD: /private/test/online/server/docs/Xbox Notification Queue Protocol.doc This is the only spec to-date that discusses the functionality of the XNQ through the definition of the communications protocol that this server uses. This spec has been informally reviewed by development and is being used as the basis for reconciling functional disagreements. Component Overview The XNP server is a single point of failure for the online match and buddy list system.  The purpose of the XNP server is to store information destine for Xbox clients and trigger the notification of these clients when information is available for them.  Items are added to the XNQ server (eventually destine for Xbox clients) by the presence and match systems.  Information such as  your buddy is online here are your match query results  is stored in the XNQ.   Xbox clients retrieve this information via the front door systems which talk to the XNQ directly to obtain the queued items.  In summary, the inputs to the XNQ server are the front door, presence and match servers.  The output is an Xbox client (directly or via a connection server). Build Environment The server components will not have a release and debug build such as other applications.  We will have unified build throughout development, testing and deployment.  This build will have optimizations turned on and a determined level of symbolic debugging information.   The reason for this includes the following: Testing will gain more mileage on actual server bits Testing will be able to determine operation level of performance Development will adapt to debugging in this unified environment as preparation for solving issues on the live site after deployment. Test matrix is smaller Development can focus optimization on agreed unified build type. Tools Needed The following tools will need to be developed by the test team to test XNQ server: XNQ Basic Verification Tool (QTEST) XNQ Stress Tool (QSTRESS) Performance Monitor (PERFMON) Prefix Code Coverage Tactics All test tools must simulate the input and output connections to the server under test.   This means that these test tools will simulate input from the Presence, Matchmaking and Front Door servers and receive output destine for the Presence, Front Door and Xbox client (in the form of UDP tickles). The XNQ Basic Verification Tool (QTEST) will be used to provide Basic Verification Tests (BVTs) for the server under test.  QTEST will be implemented as an automation COM object that can be driven by JavaScript/VBScript for individual verification tests.  The combined suite of tests will be run by development before server checkins fulfilling the role of Development Verification Test (DVTs) cases.  Since these tests can be scripted, full development knowledge is not required to quickly construct an exact test case using the COM object. The XNQ Stress Tool (QSTRESS) will be used to provide real world (or beyond) conditions for testing scalability and performance.  QSTRESS will exercise the server with random operations (in accordance to realistic operation probability).  QSTRESS can also be used to stress isolated operation handling.  Performance will not be measured by QSTRESS but can be measured in conjunction with tests developed with QTEST/and or PERFMON with the load being provided by QSTRESS. Prefix is a preprocessing code tool that is used to find things such as un-initialized variables or buffer over runs in the code.  Prefix will integrated as part of the build environment. Code Coverage is a tool that is used to create an instrumented build of a product or server.  This build is then used to run all tests on.  After testing, Code Coverage will show you the code that has been executed and the code that has not.  This tool will help in making sure we have good  code coverage  in our test pass. Tactics is a test case management tool.  It will be used to store all manual test cases and hopefully be used for automated logging from scripted cases. Hardware Needed The following hardware will be needed to test the XNQ server: 1 XNQ server machines (no inter-server communication) 1 QTEST or QSTRESS client machine (one machine can simulate many input/output XNQ components) The exact hardware and configuration for running the servers under test will be provided in the online lab by the operations team.  This will ensure that the environmental conditions in the lab will closely match the operational deployment conditions. Test Methods Instrumented or Scanned Code Prefix will be used to pre-scan code looking for obvious memory leaks, buffer overruns, initialized variables, etc. Code Coverage will be used to build an instrumented server on which all our test cases for the server under test can be run against.  This profiling tool will help us find gaps in our test code coverage and fill those holes.  Initial goal for code coverage are 40% by Beta 1 and 70% by RTW. Code Review A full code review of any server component should be done at code complete by a combined team of developers and testers.  Then each fix checked in should be reviewed by a dev peer before checkin and then looked at by the tester responsible for that area. Debug Walkthrough Server systems are very complex and performing a debug walkthrough may not be feasible.  Debug walkthroughs can assist in tracking down complicated bugs in isolated components. Manual Most testing will be automated but some manual testing will be needed in the following areas:  HYPERLINK  \l "_Configuration"  Configuration  HYPERLINK  \l "_Integration"  Integration HYPERLINK  \l "_Catastrophic_Failure" Catastrophic Failure Maintenance Mode Configuration  Dynamic configuration and structure. Configuration testing will be manual.  All server configurations will be controlled through the use of configuration files.  The format for these files will be consistent across server components (meaning all in XLM form or all in TEXT form, etc.).  The use of configuration files over registry entries will facilitate easy distribution and archival. The server under test should respond to dynamic configuration update. Reasonable (most likely) update procedures will be tested. Functional The QTEST tool will be used to automate all functional testing.  The QTEST tool scripts themselves will server as the complete  functional  test outline.  Functional testing will focus on executing all server functionality through protocol stimulation.  Boundary cases in the protocol and in functionality will be covered. Functional test will be run in combination with stress testing to provide a full coverage test pass. Performance The use of PERFMON will be critical during performance testing.  Using a combination of the QSTRESS tool and PERFMON counters, a clear picture of performance will be created.  This requires the implementation of PERFMON counter support in the server code by the development team. The QTEST tool will also contain performance tests developed to run in combination with QSTRESS to measure client (or other server) command turnaround time. Stress/Scalability Eventually, a nightly stress run will commence on lab servers hosting the XNQ.  Performance metrics and memory analysis will be gathered nightly and analyzed.  Stress testing must generate at least 10X the maximum expected 1 year out load in production.  Simulated load will be based on probability assumptions for the percentages of operations performed on the server under test.  These assumptions will be refined as the system is deployed for partner use and actual usage is analyzed.  Hopefully, the stress tool will be able to take the server under test beyond realistic conditions to find the actual breaking point of the system and then the tool will be throttled back accordingly. Integration Integration testing will be performed through actual manual usage of the online service.  Client side testing will also help this effort since the client team will be executing server functionality through testing the platform APIs.  It is necessary to make sure that the server under test integrates properly with the client (or server) that connects to it.  Standalone server testing will flush out many issues but you need to ensure the real components work with properly.  Integration testing is not part of stress testing and can be considered part of manual verification and client API testing. Security The XNQ server is a backend server component that will be isolated via networking from direct attack.   Physical security of the server is not within the scope of this testing.  Test will keep a lookout for possible indirect attacks that could come through other server dependencies. Catastrophic Failure The server under test should be able to recover or idle in the face of certain catastrophic failures.  If the server under test loses outgoing persistent connections to required components it must auto-reconnect.  If it loses an incoming connection it must cleanup appropriately.  Both these disconnect cases will be tested.   Surged loading and overloading will be tested.  In the case where the queue gets more data then it is giving out it needs to keep around a reasonable amount of data and then drop old data or force client to re-establish connection.  It is possible a network route to the servers may go down and when that route is re-established clients will need that queued data.   The servers will need to handle that queue load and surge of requests upon re-establishment. Server restarts of dependant components will impact the server, especially, if the presence server dies.  The queue needs to flush data appropriately. Maintenance Mode  Maintenance operations. Certain maintenance operations will need to be performed on the servers under test.  Operations such as enabling/disabling backwards compatibility modes or system auto restarts are examples.  Test Complete Criteria All of the above scenarios must be covered for this component to be declared  test complete Release Criteria Test complete  criterion has been reached and all priority level 1 & 2 bugs have been fixed.  In addition to this the server must complete a continuous 72 hour stress pass with no memory leaks. Microsoft Confidential Page   PAGE   NUMPAGES  b^ZRZ gdyG\ gd@a] gd@a] gdyG\ gd@a] gdyG\
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\docs\Xbox Presence Server Overview.doc ===
Microsoft Word Document MSWordDoc Word.Document.8Microsoft Corporation When building a presence and notification system there are several routes that can be taken to achieve this functionality TitleWhen building a presence and notification system there are several routes that can be taken to achieve this functionality Sean Wohlgemuth Normal.dot Sean Wohlgemuth Microsoft Word 10.0urn:schemas-microsoft-com:office:smarttags Minute aS&f*S&bjbjw:w: Design Overview of Buddy, Presence and Invitation Specification By Sean Wohlgemuth Version 1.0.0 Stateless Connection Design Decision When building a presence and notification system there are several routes that can be taken to achieve necessary functionality. First, a presence system inherently implies that those clients who are actively subscribed and listening to receive notifications of state changes will receive that information in near or real-time.  One model to achieve this goal would be to hold a persistent connection open from the client to the Presence server.  The client could then push his own state changes and receive the state changes of others almost immediately.  One downside to this design is that valuable client and server system resources are used to maintain and process this persistent connection.  Another downside to this design is that we are forced to keep open a persistent connection for every client that is using the presence system.  In turn, we end up spending a lot of time developing a connection management system along with the presence system (we all ready needed to develop) and take on the extra burden of making sure that the connection management system meets performance and scalability goals independent from the presence system logic.  For a real-time system there maybe no other alternative to the one just presented.   IIS Front Doors Overview However, since we have stated that a near-time system is acceptable for our paradigm, there are ways to minimize the development/test costs while helping to ensure the scalability of the overall system.  One method would be to create a stateless connection management system.  This means that the client would connect to the server, post any information it has, retrieve any information that the server has for it and disconnect.  Given a regular or intelligent query interval, the number of connections the server is handling at any one time is lower which increases the scalability of the connection management part of the system. A Microsoft asset that is designed specifically for handling stateless connections is Microsoft Internet Information Server (IIS).  IIS is a time proven platform for deploying a stateless connection management system.  By leveraging IIS as our connection management system, we save the cost of developing and testing our own connection management system.  A cluster of IIS servers acting as our  Front door  (FD) system (or in other terms the only point of connection from clients to the server backend) can work as a redundant cluster of servers (given that any ISAP applications deployed on them refrain from caching client specific information).  Implications of this redundancy are important.  It means that if one FD server fails, the other FD servers in the cluster distribute the load of the failed system.  This redistribution of work to the existing FD servers happens rapidly since all FD connections are short lived and the FD cluster will employ a type of software or hardware load balancing.  The intelligent part of the FD servers, hence the part that actually does the work on behalf of the client after the connection is established, will be done through the use of ISAPI DLLs running on IIS.  The logical flow for a client pushing information to the backend system is as follows. The client establishes a short-live connection to an FD server which then forwards the client request to an ISAPI DLL on that FD server to process the information and then route it to the appropriate backend server. Presence Server Overview One such backend service would be the Presence server.  In the scenarios listed in the scenarios section of this document, several scenarios point out the need for a client s transient online state to be broadcast to other client s that are interested in that state.  This introduces the concept of a presence session.  The life span of this session is limited to the online session of the box.  This session is terminated when the client terminates the presence session or when the client is powered off; triggering an out of band notification to terminate the presence session. The Presence server is responsible for storing the state of any client and the subscription relationship between those clients.  The subscription relationship or  buddy list  will persist beyond the lifespan of the presence session whereas the client state will not.  The Presence server will rely on the Profile Store server to persist all subscription relationships between presence session lifetimes.  The Presence server is ultimately responsible for storing transient client state, setting up and tearing down transient subscriptions, creation and maintenance of persistent lists such as buddy lists and block lists, and delivering buddy state notification to clients.   Up until this point we have only established a forward channel from the client to a backend server through the FD severs via ISAPI DLLs that have an established communications path with backend services.  There is an obvious need to send information back to the client such as in the case when the Presence server needs to notify a client that one of his contacts has come online. Notification Queue Servers Overview One way to attack the problem of getting information back to the client would be to set that information in a queue and have the client poll at a given interval for new information.  This still conforms to the stateless IIS model we have designed but has some inherent scalability issues associated with it.  First, if all the clients using the system were to poll at an interval which is acceptable for delivering near-time information to the client back from the server, it is likely that 80% or more of those queries will result in no data returned because there is nothing in the queue for that client to retrieve.  Secondly, hitting the FD servers at a near-time polling interval, only to have ~20% of those queries result in successful information retrieval, puts undue load on the FD servers.  Hence, your are burning valuable server and network resources for failed queries resulting in an inefficient use of the system as a whole.  If there was some way to have the client only poll when information was available for retrieval then that would solve the efficiency issue. A way to accomplish this would be to develop a lightweight trigger mechanism that could be sent to a client when this queue has information waiting for them.  It is possible to develop, at the network stack layer within the client OS, a mechanism that listens for a lightweight UDP packets to trigger the client to go retrieve the queued information.  We do understand that a client s application layer may not be in a mode where information retrieval is desirable or even necessary until later.  Since the trigger or  tickle  happened at the OS layer, independent from the client application layer, the client can choose to check whether the trigger has been fired when it is desirable to retrieve the information.  So if the trigger happened while the client was not actively checking, it will be there when the client decides to start checking again.  Since a UDP packet sent to the client is not a guaranteed form of delivery via the network, it will be possible to re-trigger this  tickle  at a given interval while information is still in that client s queue.  An appropriate model for this  tickle  interval would be a  back off  model.  This means when data is first put in the queue,  tickles  go out more frequently but  back off  (increase in latency) as information is not immediately retrieved giving way to the realization that the client is not in an active queue retrieval mode. Invitations Overview Up until this point we have only covered the mechanism to deliver presence information to and from the client and server backend.  It is also of interest to discuss how clients would initiate game play with people that they have established subscriptions to.  One method of accomplishing this is to distribute the work out to the clients.  Hence, the host of the game would send invitations to each client that is invited to join the game.  Each client invited to join then connects to the host and game play is started.  One problem with this approach is that the clients you may be inviting might not be in a mode where they are actively listening for invitations (playing a game) or even online at the time the invitation goes out.  A reasonable example scenario is that you have used an out of band mechanism to establish the fact that you want to play a game with one of your friends at 8pm today.  You login to the network at 7:55pm and select the person you scheduled to play and send them an invitation.  The person you invited is not online yet but at 8:05pm comes online and accepts your game invitation.  This makes the client distribution method even more complex if it has to handle delayed invites based on presence.  So the ability to have a limited store and forward mechanism is useful in this case.  One other trade off that must be weighed about client side invitations is that the more intelligent you make the client the more chance bugs will exist that can not be fixed after that title ships.  With service based products, the ability to QFE the backend is more appealing than shipping out millions of new title CDs to correct a problem. It is wise to look at the Match Making system that is also being developed to see if the subscription invitation model can leverage that technology to achieve its goals.  The Match system has the concept of a game session advertisement.  Game sessions are objects that are created by client hosts and advertised on the Match system for other public clients to join.  The only difference in the subscription invitation case is that the game you are advertising is a private game and not available for match searching.  If we tweak the Match system to have the concept of both private and public games, we can leverage the game session management of the Match system and maybe even provide the concept of hybrid game sessions where three of your friends and two random users want to play a game. Back to the scenario of hosting a game with your friend, the host creates a game session and advertises it in the Match system marking it as a private game with one available user slot.  The host then sends an invitation that has a reference to that game session advertisement to the friend s Notification Queue.  When the friend comes online, he receives the invitation, retrieves the game session advertisement (which may automatically be done for him server side before he retrieves the invitation), and then connects to the game host directly.  The game host, after accepting the friend into the game is responsible for updating the available slots in the game session advertisement on the Match system to zero.  If this is a join in progress game, the game session advertisement may remain on the Match server until the host goes offline so that he can keep inviting friends to join as others leave or the session advertisement may just disappear, it is up to the client application layer. Client Lifetimes Presence information, game session advertisements, and game session invitations are only interesting for the lifetime of the client host.  The most common scenario for going offline is that the user will power off the client.  Through the use of the servers that will be used to solve the NAT problem (XRGs), those servers will then communicate client offline state to the Presence system, the Notification Queue and the Match Making system so that the client can be marked as offline, have outstanding queue information removed including sent invitations that still exist for other users, and have hosted game session advertisements deleted, respectfully.  The same is true for XRG failure as well.
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\docs\Xbox Notification Queue Protocol.doc ===
Microsoft Word Document MSWordDoc Word.Document.8Microsoft Corp. XBox-Online Server Setup Title _PID_HLINKS _AdHocReviewCycleID _EmailSubject _AuthorEmail _AuthorEmailDisplayName _ReviewingToolsShownOnce Xbox Notification Queue Protocol Document markv@microsoft.com Mark VanAntwerpXBox-Online Server Setup Sean Wohlgemuth xbox.dot Sean Wohlgemuth Microsoft Word 10.0urn:schemas-microsoft-com:office:smarttags urn:schemas-microsoft-com:office:smarttags place urn:schemas-microsoft-com:office:smarttags PlaceName urn:schemas-microsoft-com:office:smarttags PlaceType Month -2FFEXbox Notification Queue Protocol (XNQP) Author: Sean Wohlgemuth Table of Contents  TOC \o "1-3" \h \z   HYPERLINK \l "_Toc517829874"  Table of Contents  PAGEREF _Toc517829874 \h   HYPERLINK \l "_Toc517829875"  Modification History  PAGEREF _Toc517829875 \h   HYPERLINK \l "_Toc517829876"  Introduction  PAGEREF _Toc517829876 \h   HYPERLINK \l "_Toc517829877"  NQP Protocol Specification  PAGEREF _Toc517829877 \h   HYPERLINK \l "_Toc517829878"  Connection Type  PAGEREF _Toc517829878 \h   HYPERLINK \l "_Toc517829879"  Message  PAGEREF _Toc517829879 \h   HYPERLINK \l "_Toc517829880"  Message Header  PAGEREF _Toc517829880 \h   HYPERLINK \l "_Toc517829881"  4.3.1 Message Type  PAGEREF _Toc517829881 \h   HYPERLINK \l "_Toc517829882"  4.3.2 Length  PAGEREF _Toc517829882 \h   HYPERLINK \l "_Toc517829883"  4.3.3 Sequence Number  PAGEREF _Toc517829883 \h   HYPERLINK \l "_Toc517829884"  4.3.4 Session ID  PAGEREF _Toc517829884 \h   HYPERLINK \l "_Toc517829885"  Command Summary  PAGEREF _Toc517829885 \h   HYPERLINK \l "_Toc517829886"  Command Definitions  PAGEREF _Toc517829886 \h   HYPERLINK \l "_Toc517829887"  4.5.1 Protocol Versioning (HELLO)  PAGEREF _Toc517829887 \h   HYPERLINK \l "_Toc517829888"  4.5.2 User Information (USER INFO)  PAGEREF _Toc517829888 \h   HYPERLINK \l "_Toc517829889"  4.5.3 Enqueueing (ADD)  PAGEREF _Toc517829889 \h   HYPERLINK \l "_Toc517829890"  4.5.4 List Request (LIST)  PAGEREF _Toc517829890 \h   HYPERLINK \l "_Toc517829891"  4.5.5 List Response (LIST REPLY)  PAGEREF _Toc517829891 \h   HYPERLINK \l "_Toc517829892"  4.5.6 Dequeue (DELETE)  PAGEREF _Toc517829892 \h   HYPERLINK \l "_Toc517829893"  4.5.7 Delete by Matching (DELETE MATCH)  PAGEREF _Toc517829893 \h   HYPERLINK \l "_Toc517829894"  4.5.8 Xbox Offline (DEAD XIP)  PAGEREF _Toc517829894 \h   HYPERLINK \l "_Toc517829895"  4.5.9 Connection Server Failure (DEAD XRG)  PAGEREF _Toc517829895 \h   HYPERLINK \l "_Toc517829896"  4.5.10 Command Acknowledgement (ACK)  PAGEREF _Toc517829896 \h   HYPERLINK \l "_Toc517829897"  Xbox Tickle (TICKLE)  PAGEREF _Toc517829897 \h   HYPERLINK \l "_Toc517829898"  4.6.1 User ID  PAGEREF _Toc517829898 \h   HYPERLINK \l "_Toc517829899"  4.6.2 Queue Type  PAGEREF _Toc517829899 \h   HYPERLINK \l "_Toc517829900"  4.6.3 Queue Length  PAGEREF _Toc517829900 \h   HYPERLINK \l "_Toc517829901"  Protocol Flow  PAGEREF _Toc517829901 \h   HYPERLINK \l "_Toc517829902"  Scenario: Presence Server (PS) adds an item to Notification Queue (NQ) for receipt by XBOX client.  PAGEREF _Toc517829902 \h   HYPERLINK \l "_Toc517829903"  Scenario: Connection Server (CS) detects that XBOX has been turned off.  PAGEREF _Toc517829903 \h   HYPERLINK \l "_Toc517829904"  Scenario: TBD monitoring system (MS) detects that Connection Server (CS) has failed.  PAGEREF _Toc517829904 \h   HYPERLINK \l "_Toc517829905"  Scenario: XBOX game host cancels an invite-a-buddy request  PAGEREF _Toc517829905 \h  Modification History Modification  HYPERLINK "mailto:seanwo@microsoft.com"  Sean Wohlgemuth 4/10/2001 Draft #1  HYPERLINK "mailto:seanwo@microsoft.com"  Sean Wohlgemuth 4/11/2001 Added Mark s feedback and correct errors  HYPERLINK "mailto:seanwo@microsoft.com"  Sean Wohlgemuth 4/23/2001 Updated ACK command w/ user id  HYPERLINK "mailto:markv@microsoft.com"  Mark VanAntwerp 4/27/2001 Updated DELETE MATCH command to take list of user ids  HYPERLINK "mailto:seanwo@microsoft.com"  Sean Wohlgemuth 4/30/2001 Updated LIST REPLY with an HR value, fixed TickleIP length in USER INFO, and added message type codes.  HYPERLINK "mailto:seanwo@microsoft.com"  Sean Wohlgemuth 5/10/2001 Updated ADD and DELETE MATCHES regarding session id for multiple users.  Updated LIST to show LIST ITEMS format.  HYPERLINK "mailto:seanwo@microsoft.com"  Sean Wohlgemuth 6/22/2001 Added Protocol flow section scenarios Introduction The XNQP is designed to be as asynchronous as possible to facilitate stateless Xbox clients accessing the XNQ through a cluster of IIS servers.  The one exception to this rule is the <LIST> command which is used to retrieve items from the XNQ.  This command must be synchronous by nature. The XNQP is used by the IIS server s ISAPI programs that work on behalf of the Xbox client and by both the presence servers (PS) and match making servers (MM). The first command that must be sent to the XNQ upon connection establishment is a <HELLO> command in order to negotiate XNQP version.  If any other command is sent as the first command, the connected entity will be dropped. In order to enqueue or dequeue items from the XNQ, a <USER INFO> command must be sent for a particular Xbox user.  This command establishes queues for that user. If a <DEAD XIP> or <DEAD XRG> command is issued that relates to an Xbox user,  another <USER INFO> command is need to re-establish the Xbox user s queues before enqueueing and dequeueing can commence again.  This is because the <DEAD XIP> or <DEAD XRG> commands destroys the queues for affected Xbox users. NQP Protocol Specification Connection Type XNQP currently works over TCP/IP.  The XNQ accepts incoming connections on port 1000. Message An XNQP message contains a message header followed by a command.  The message form is binary. <message>:==<message header><command> Message Header All XNQP messages contain a common message header.  This header includes the message type, length, sequence number, session id.   All messages are required to fill in the message type and message length field with accurate information.   <message header> :== <message type><length><sequence number><session id> Message Type The message <type> is a 32-bit unsigned number that indicates an enumerated message type value which is unique across Xbox protocols. The following message types are defined: QMSG_HELLO = 0 QMSG_USER_INFO = 1 QMSG_ADD = 2 QMSG_DELETE = 3 QMSG_DELETE_MATCHES = 4 QMSG_DEAD_XIP = 5 QMSG_DEAD_XRG = 6 QMSG_LIST = 7 QMSG_MAX_REQ_TYPE = 7 QMSG_LIST_REPLY = 8 MSGTYPE_ACK = 0xffffffff Length The <message length> is a 32-bit unsigned number that indicates the amount of message data (the command) that follows the message header.  This length does not include the message header. Sequence Number The <sequence number> is an increasing 32-bit unsigned number that represents a client-assigned sequence number and is used to resolve asynchronous race conditions.   It is recommended that <sequence number> start at 0 and increase in increments of 1.  It is required that the client s <sequence number> recycle back to 0 with every change to <session id> in order to reduce the chance of wrap around (although this will occur in extreme circumstances.)  Commands that are not required to use <sequence number> can set <sequence number> to any value; the <sequence number> will be ignored during the processing of the message in these cases.  Where the <sequence number> is required, it will be noted in the command definition sections. Session ID The <session id> is a 32-bit unsigned number that indicates a Connection Server assigned session based ID and is used to resolve asynchronous race conditions.  A <session id> value of 0 is reserved and has special meaning.  If <session id> is set to reserved value 0 and <session id> is required for that command, then <session id> will not be used to reconcile queue items.  Session based ID s are assigned by the Connection Server each time an Xbox comes online.  The only thing that can be guaranteed is that the session based ID s coming from the Connection Server will be different from one Xbox connection instance to the next.  Session based ID s are not guaranteed to be different across all connection instances for a single Xbox, only for adjacent connection instances.  Commands that are not required to use <session id> are encouraged to include the Session based ID wherever possible or set the value to 0 if the Session based ID for the Xbox is not known.  Where the <session id> is required, it will be noted in the command definition sections. Command Summary Command Type Description HYPERLINK  \l "_Command_Acknowledgement_(ACK)_1" Acknowledgement that User Info command was received HYPERLINK  \l "_Enqueueing_(ADD)" PS, MM Adds item to a specific queue HYPERLINK  \l "_Xbox_Offline_(DEAD_XIP)" DEAD XIP Signifies that an Xbox is offline HYPERLINK  \l "_Connection_Server_Failure_(DEAD XRG" DEAD XRG [TBD] Signifies that CS is offline HYPERLINK  \l "_Dequeue_(DELETE)_1" DELETE FD, PS Delete item(s) from a specific queue HYPERLINK  \l "_Client_Offline_(DEAD_XIP)" DELETE ON MATCH Delete matching item(s) from a specific queue HYPERLINK  \l "_Protocol_Versioning_(HELLO)" HELLO PS,MM,FD Negotiate protocol version HYPERLINK  \l "_List_Request_(LIST)" Request to list item(s) in a specific queue HYPERLINK  \l "_Dequeue_(DELETE)" LIST REPLY Response to list request that contains items in a specific queue HYPERLINK  \l "_User_Information_(USER_INFO)" USER INFO Updates the NQ with notification information Command Definitions Protocol Versioning (HELLO) The <HELLO> command is used to negotiate XNQP version and to allow the connecting entity to identify himself to the XNQ.  If the version is not accepted, the connecting entity will be dropped. Message Header Sequence Number Ignored Session ID Ignored <HELLO>:==<version><description> Version <Version> is a 32-bit unsigned number.  The high 16-bits contain the major version and the low 16-bits contain the minor version. Description <Description> is an up to 80 ANSI character (including any null characters) free form description.  The description should typically be used to describe the entity connected to the XNQ.  For example, the PS may set the description field to  PS v1.2.4 build 0234 10/20/01 PS Partition ID: 1 .  The description does not have to be null terminated and all 80 characters may be used, however, it is recommended that the description be null terminated in the interest of good coding form. User Information (USER INFO) The <USER INFO> command is used to provide the XNQ with required minimal state information and Xbox contact information so that the XNQ can notify the Xbox when it has queued information waiting for retrieval.  Successful execution of the <USER INFO> command will result in an asynchronous ACK back to the entity that submitted the USER INFO command.  That ACK will contain the <sequence number> issued in the message header of the <USER INFO> command even though that number is ignored during parsing. If subsequent <USER INFO> commands are sent to the XNQ for the same <user id> and the <session id> or <XIP> or <XRG> field does not match the one on record stored from the last <USER INFO> command for that <user id>, the queues for that <user id> are purged. Message Header Sequence Number Ignored Session ID Required <USER INFO>:=<user id><XIP><XRG><tickle ip><tickle port> User ID <User id> is a 64-bit non-zero unsigned number.  The <user id> is used to uniquely identify a queue owner. <TBD> <TBD> Tickle IP <Tickle ip> is a 32-bit unsigned number that represents an IP Address.  This IP address is used by the XNQ to send a notification (or tickle) down to an Xbox.  <Tickle ip> is restricted to the range 0x00000001 thru 0xFFFFFFFE. Tickle Port <Tickle port> is an 8-bit unsigned number that represents a socket port.  <Tickle port> is used in combination with the <tickle ip> to send a notification (or tickle) to an Xbox. Enqueueing (ADD) The <ADD> command is used to enqueue an item into one or several queues. In cases where we are adding to a duplicate elimination queue type, if subsequent <ADD> commands with matching duplicate attributes in their item data are sent to the XNQ for the same <user id> and the <sequence number> for a particular item s <ADD> command is less than the <sequence number> that was previously used when adding the item to the queue, the command is ignored.  If subsequent <ADD> commands are sent to the XNQ for the same <user id> and the <session id> does not match the one on record stored from the last <USER INFO> command the, command is ignored. Message Header Sequence Number Required Session ID User count > 1; Ignored User count == 1; Required <ADD>:==<queue type><user count><user ids><item> Queue Type <Queue type> is a 32-bit unsigned number.  <Queue type> is used to specify which queue to perform the command against.  The range for <queue type> is 0 thru the max number of queues defined in the server configuration file. User Count <User count> is a non-zero 32-bit unsigned number.  <User count> specifies how many users  queues this item will be added to. User Ids <User ids> is an array (from 1 to N) of 64-bit non-zero unsigned numbers.  <User ids> is used to uniquely identify owner s of a queue.  The number of <user ids> is dictated and must match <user count>. <Item> is a queue element and is represented as an array of bytes.  The minimum and maximum size of <item> is defined in the server configuration file and is per queue type. List Request (LIST) The <LIST> command is used to retrieve the entire or partial list of items queued for a user id in a specific queue. If subsequent <LIST> commands are sent to the XNQ for the same <user id> and the <session id> does not match the one on record stored from the last <USER INFO> command the command is ignored. Each <LIST> command will be synchronously responded to with a <LIST REPLY> command. Message Header Sequence Number Ignored Session ID Required <LIST>:==<user id><queue type><cookie><start quid><max items><max data size> User ID <User id> is a 64-bit non-zero unsigned number.  The <user id> is used to uniquely identify a queue owner. Queue Type <Queue type> is a 32-bit unsigned number.  <Queue type> is used to specify which queue to perform the command against.  The range for <queue type> is 0 thru the max number of queues defined in the server configuration file. Cookie <Cookie> is a 64-bit unsigned number.  <Cookie> is a client-side assigned value that allows the client to pair up queued results with the commands that initiated the generation of those queued results. Start QUID <Start quid> is a 64-bit unsigned number.  <Start quid> is used to specify which QUID (or ID) to start with when retrieving items.  In most cases, <start quid> will be set to 0 which allows the user to start at the head of the queue for retrieval.  However, in the case where the queue is too big to retrieve in one request or where a client needs to be specific about what QUID to start with, a non-zero <start quid>is used. Max Items <Max items> is a 32-bit unsigned number.  <Max items> is used to specify how many items to return in the <LIST REPLY> command. Max Data Size <Max data size> is a 32-bit unsigned number.  <Max data size> is used to limit the sum of the data sizes of the list items returned in the <LIST REPLY> command. List Response (LIST REPLY) The <LIST REPLY> command is used to return queued items to the Xbox and is sent as a response to a <LIST> command request. Message Header Sequence Number Copied from <LIST> command Session ID Copied from <LIST> command <LIST REPLY>:==<user id><queue type><hr><cookie><next quid><queue left><num items><total data size><list item>* User ID <User id> is a 64-bit non-zero unsigned number.  The <user id> is used to uniquely identify a queue owner. Queue Type <Queue type> is a 32-bit unsigned number.  <Queue type> is used to specify which queue to the <LIST REPLY> command is sending items back for. HRESULT <Hr> is a 32-bit unsigned number that is a standard COM error definition mechanism that is used to return levels of success or failure of the originating command processing.  Cookie <Cookie> is a 64-bit unsigned number.  <Cookie> is the client-side assigned value that was assigned to the initial <LIST> command request. Next QUID <Next quid> is a 64-bit unsigned number.  <Next quid> specifies the next QUID in the queue that was not returned in the current <LIST REPLY> command.  If all items were returned <next quid> is set to 0. Queue Left <Queue left> is a 32-bit unsigned number.  <Queue left> specifies the number of items in the queue past the set returned in the current <LIST REPLY> command.  If all items were returned <queue left> is set to 0. Num Items <Num items> is a 32-bit unsigned number.  <Num items> specifies the number of items contained in the current <LIST REPLY> command. Total Data Size <Total data size> is a 32-bit unsigned number.  <Total data size> specifies the sum of the items (in bytes) returned in the current <LIST REPLY> command. List Items <List item>* is a list of 0 or more items that are in the queue requested and meet the <num items> and <total data size> parameters.  Each list item is defined as follows: <List item>:==<quid><item size><data> <Quid> is a 64-bit unsigned number.  <Quid> is used to specify which QUID is associated with this list item. Item Size <Item size> is a 32-bit unsigned number.  <Item size> is used to specify the number of bytes that are contained in this list item. <Data> is an array of bytes of size <item size>.  <Data> is application and queue type specific data that is not interpreted by the XNQ. Dequeue (DELETE) The <DELETE> command is used to dequeue all items or a subset range of items from a specific queue. If subsequent <DELETE> commands are sent to the XNQ for the same <user id> and the <session id> does not match the one on record stored from the last <USER INFO> command the command is ignored. Message Header Sequence Number Ignored Session ID Required <DELETE>:==<user id><queue type><first quid><last quid> User ID <User id> is a 64-bit non-zero unsigned number.  The <user id> is used to uniquely identify a queue owner. Queue Type <Queue type> is a 32-bit unsigned number.  <Queue type> is used to specify which queue to perform the command against.  The range for <queue type> is 0 thru the max number of queues defined in the server configuration file. First QUID <First quid> is a 64-bit unsigned number.  <First quid> is used to specify which QUID (or ID) to start with when deleting items, inclusively.  <First quid> can be set to 0 (special case) which allows the client to start deleting at the head of the queue.  <First quid> must be less than or equal to <last quid>. Last QUID <Last quid> is a 64-bit unsigned number.  <Last quid> is used to specify which QUID (or ID) to end with when deleting items, inclusively.  To delete only 1 item set the <first quid> and <last quid> values to match.  <Last quid> must be greater than or equal to <first quid>. Delete by Matching (DELETE MATCH) The <DELETE MATCH> command is used to dequeue a specified set of items from the XNQ based on a queue type s configured match attribute. If subsequent <DELETE MATCH> commands are sent to the XNQ for the same <user id> and the <session id> does not match the one on record stored from the last <USER INFO> command the command is ignored. The <DELETE MATCH> command does not have meaning for queues other than those with configured delete match attributes and will be ignored in other cases. Message Header Sequence Number Ignored Session ID User count > 1; Ignored User count == 1; Required <DELETE MATCH>:==<queue type><attribute id><user count><user ids><attribute> Queue Type <Queue type> is a 32-bit unsigned number.  <Queue type> is used to specify which queue to perform the command against.  The range for <queue type> is 0 thru the max number of queues defined in the server configuration file. User Count <User count> is a non-zero 32-bit unsigned number.  <User count> specifies how many users  queues this delete by matching operation will be performed on. User Ids <User ids> is an array (from 1 to N) of 64-bit non-zero unsigned numbers.  <User ids> is used to uniquely identify owner s of a queue.  The number of <user ids> is dictated and must match <user count>. Attribute ID <Attribute id> is a 32-bit unsigned number. <Attribute id> is used to identify which attribute to match on.  Currently this must be 0. Attribute <Attribute> is an array of bytes.  <Attribute> contains the array of bytes to match against the item to determine if it should be deleted.  The size of <Attribute> is determined by the queue s match attribute configuration, and is always a fixed size for any given queue. Xbox Offline (DEAD XIP) The <DEAD XIP> command is used to signal the offline state of an Xbox resulting in the purge of all queues associated with that XIP. Message Header Sequence Number Ignored Session ID Ignored <DEAD XIP>:==<XIP> <TBD> Connection Server Failure (DEAD XRG) The <DEAD XRG> command is used to signal the failure of a connection server resulting in the purge of all queues associated with that connection server. Message Header Sequence Number Ignored Session ID Ignored <DEAD XRG>:==<XRG> <TBD> Command Acknowledgement (ACK) The <ACK> message is used to acknowledge the receipt of an XNQP command.  The <ACK> message is delivered asynchronously to the command, meaning that the command does not have to wait for an <ACK> message response after submitting a command that generates an <ACK> message.  The only XNQP command that currently generates an <ACK> message is the <USER INFO> command. Message Header Sequence Number Session ID Copied from original command <ACK>:==<message type><ack sequence number><user id><hr> Message Type <Message type> is a 32-bit unsigned number that indicates is an enumerated message type value which is unique across Xbox protocols.  The <message type> indicates which command type this acknowledgement is for. ACK Sequence Number <Ack sequence number> is an increasing 32-bit unsigned number that represents an Xbox-assigned sequence number and is used to resolve asynchronous race conditions.  <Ack sequence number> is copied from the message that generated this acknowledgement. User ID <User id> is a 64-bit non-zero unsigned number.  The <user id> is used to uniquely identify a queue owner.  This is the user id of the client sent the originating command. HRESULT <Hr> is a 32-bit unsigned number that is a standard COM error definition mechanism that is used to return levels of success or failure of the originating command processing.  Xbox Tickle (TICKLE) The <TICKLE> message is used to notify an Xbox that there are items waiting for retrieval.  The tickle is implemented as a single UDP packet that is sent to the Xbox via the information given in the <USER INFO> command.  Since an Xbox can have more than one user, the <user id> is included in the tickle for distinction. The <TICKLE> message is an exception in that it does not contain the usual message header structure described in section 4.3. <TICKLE>:=<user id><queue type><queue length> User ID <User id> is a 64-bit non-zero unsigned number.  The <user id> is used to uniquely identify a queue owner. Queue Type <Queue type> is a 32-bit unsigned number.  <Queue type> is used to specify which queue to perform the command against.  The range for <queue type> is 0 thru the max number of queues defined in the server configuration file. Queue Length <Queue length> is a 32-bit unsigned number.  <Queue length> is used to specify the current number of items in the queue represented by <queue type>. Protocol Flow Scenario: Presence Server (PS) adds an item to Notification Queue (NQ) for receipt by XBOX client. PS connects to NQ PS -> NQ: HELLO (only on first connection: connection should persist between PS and NQ) PS -> NQ: USER_INFO NQ -> PS: ACK PS -> NQ: ADD {Tickle sent from NQ to XBOX via CS} XBOX talks to NQ through Front Door (FD) IIS server FD -> NQ: HELLO (only on first connection; connection should persist between FD and NQ) XBOX via FD -> NQ: LIST (only synchronous FD transaction; waiting for LIST REPLY) NQ -> XBOX via FD: LIST REPLY XBOX via FD -> NQ: DELETE Scenario: Connection Server (CS) detects that XBOX has been turned off. CS connects to NQ CS -> NQ: HELLO (only on first connection; connection should persist between CS and NQ) CS->NQ: DEADXIP Scenario: TBD monitoring system (MS) detects that Connection Server (CS) has failed. MS connects to NQ MS -> NQ: HELLO MS -> NQ: DEADXRG MS disconnects from NQ Scenario: XBOX game host cancels an invite-a-buddy request PS is already connected to NQ PS->NQ: DELETE ON MATCH Microsoft Confidential Page   PAGE   NUMPAGES  |m|\m|m gdxV! gdxV! gdxV! gdxV! gdxAj gdxAj gdxAj gdxAj gdxAj
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\StoresListInvalidXml.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
  <mktpl>
    <tax>
      <taxID>FULL_VID_MKTPL</taxID>
      <storeList>
        <storeItem>
          <storeID>GAME_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_GAMES</deptID>
            <deptID>NEW_ARRIVALS_GAMES</deptID>
            <deptID>ARCADE</deptID>
            <deptID>DEMOS</deptID>
            <deptID>ORIGINALS</deptID>
            <deptID>COM_GAMES</deptID>
            <deptID>ADD_ONS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>THEMES_PICS</deptID>
          </deptList>
        </storeItem>
        <storeItem>
          <storeID>VIDEO_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_VIDEOS</deptID>
            <deptID>NEW_ARRIVALS_VIDEOS</deptID>
            <deptID>MOVIES_VIDEOS</deptID>
            <deptID>TV_SHOWS_VIDEOS</deptID>
            <deptID>MUSIC_VIDEOS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>INDY_VIDEOS</deptID>
            <deptID>NETFLIX</deptID>
          </deptList>
        </storeItem>
      </storeList>
    </tax>
    <tax>
      <taxID>MOVIES_VID_MKTPL</taxID>
      <storeList>
        <storeItem>
          <storeID>GAME_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_GAMES</deptID>
            <deptID>NEW_ARRIVALS_GAMES</deptID>
            <deptID>ARCADE</deptID>
            <deptID>DEMOS</deptID>
            <deptID>ORIGINALS</deptID>
            <deptID>COM_GAMES</deptID>
            <deptID>ADD_ONS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>THEMES_PICS</deptID>
          </deptList>
        </storeItem>
        <storeItem>
          <storeID>VIDEO_STORE_L2</storeID>
          <deptList>
            <deptID>MOVIES_VIDEOS</deptID>
            <deptID>MUSIC_VID_MORE</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>INDY_VIDEOS</deptID>
          </deptList>
        </storeItem>
      </storeList>
    </tax>
    <tax>
      <taxID>NO_VID_MKTPL</taxID>
      <storeList>
        <storeItem>
          <storeID>GAME_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_VIDEOS</deptID>
            <deptID>NEW_ARRIVALS_VIDEOS</deptID>
            <deptID>ARCADE</deptID>
            <deptID>DEMOS</deptID>
            <deptID>ORIGINALS</deptID>
            <deptID>COM_GAMES</deptID>
            <deptID>ADD_ONS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>THEMES_PICS</deptID>
          </deptList>
        </storeItem>
        <storeItem>
          <storeID>VIDEO_STORE_L3</storeID>
          <deptList>
            <deptID>MOVIES_SHORT_FILMS</deptID>
            <deptID>MUSIC_VID_MORE</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>INDY_VIDEOS</deptID>
          </deptList>
        </storeItem>
      </storeList>
    </tax>
  </mktpl>

  <stores>
    <store>
      <id>GAME_STORE</id>
      <storeInfo>
        <storeStrID>GAME_STORE_STR</storeStrID>
        <nameStrID>GAME_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>gamestore.xml</param2>
      </storeInfo>
    </store>
    <store>
      <id>VIDEO_STORE</id>
      <storeInfo>
        <storeStrID>VID_STORE_STR</storeStrID>
        <nameStrID>VID_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>videostore.xml</param2>
      </storeInfo>
    </store>
    <store>
      <id>VIDEO_STORE_L2</id>
      <storeInfo>
        <storeStrID>VID_STORE_STR</storeStrID>
        <nameStrID>VID_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>videostoreL2.xml</param2>
      </storeInfo>
    </store>
    <store>
      <id>VIDEO_STORE_L3</id>
      <storeInfo>
        <storeStrID>VID_STORE_STR</storeStrID>
        <nameStrID>VID_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>videostoreL3.xml</param2>
      </storeInfo>
    </store>
  </stores>

  <depts>
    <dept>
      <id>MOST_POPULAR_GAMES</id>
      <deptInfo>
        <nameStrID>MOST_POPULAR_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>GamesPopularDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>NEW_ARRIVALS_GAMES</id>
      <deptInfo>
        <nameStrID>NEW_ARRIVALS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>GamesNewDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>ARCADE</id>
      <deptInfo>
        <nameStrID>ARCADE_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>arcadedept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>DEMOS</id>
      <deptInfo>
        <nameStrID>DEMOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>demosdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>ORIGINALS</id>
      <deptInfo>
        <nameStrID>ORIGINALS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>xboxoriginalsdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>COM_GAMES</id>
      <deptInfo>
        <nameStrID>COM_GAMES_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>xnadept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>ADD_ONS</id>
      <deptInfo>
        <nameStrID>ADD_ONS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>addonsdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>GAME_VIDEOS</id>
      <deptInfo>
        <nameStrID>GAME_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>gamevideosdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>THEMES_PICS</id>
      <deptInfo>
        <nameStrID>THEMES_PICS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>themesandgamerpicsdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MOST_POPULAR_VIDEOS</id>
      <deptInfo>
        <nameStrID>MOST_POPULAR_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>VideosPopularDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>NEW_ARRIVALS_VIDEOS</id>
      <deptInfo>
        <nameStrID>NEW_ARRIVALS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>VideoNewDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MOVIES_VIDEOS</id>
      <deptInfo>
        <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>moviesdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>TV_SHOWS_VIDEOS</id>
      <deptInfo>
        <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>tvdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MUSIC_VIDEOS</id>
      <deptInfo>
        <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>musicvideosdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>INDY_VIDEOS</id>
      <deptInfo>
        <nameStrID>INDY_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>IndyVideosDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MUSIC_VIDEOS_MORE</id>
      <deptInfo>
        <nameStrID>MUSIC_VIDEOS_MORE_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>MusicMoreDept.xml</param2>
      </deptInfo>
    </dept>

    <dept>
      <id>NETFLIX</id>
      <deptInfo>
        <nameStrID>NETFLIX_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>LaunchMarketplaceContent</param>
        <Param2>0</Param2>
        <Param3>0</Param3>
        <Param4>0</Param4>
      </deptInfo>
    </dept>
  </depts>

  <taxMap>
    <taxonomy>
      <id>FULL_VID_MKTPL</id>
      <taxCountries>
        <cID>103_UNITED_STATES</cID>
      </taxCountries>
    </taxonomy>
    <taxonomy>
      <id>MOVIES_VID_MKTPL</id>
      <taxCountries>
        <cID>16_CANADA</cID>
        <cID>24_GERMANY</cID>
        <cID>31_SPAIN</cID>
        <cID>34_FRANCE</cID>
        <cID>35_GREAT_BRITAIN</cID>
        <cID>44_IRELAND</cID>
        <cID>50_ITALY</cID>
      </taxCountries>
    </taxonomy>
    <taxonomy>
      <id>NO_VID_MKTPL</id>
      <taxCountries>
        <cID>5_AUSTRIA</cID>
        <cID>6_AUSTRALIA</cID>
        <cID>8_BELGIUM</cID>
        <cID>18_SWITZERLAND</cID>
        <cID>20_CHINA</cID>
        <cID>25_DENMARK</cID>
        <cID>32_FINLAND</cID>
        <cID>39_HONG_KONG</cID>
        <cID>46_INDIA</cID>
        <cID>53_JAPAN</cID>
        <cID>56_KOREA</cID>
        <cID>71_MEXICO</cID>
        <cID>74_NETHERLANDS</cID>
        <cID>75_NORWAY</cID>
        <cID>76_NEW_ZEALAND</cID>
        <cID>84_PORTUGAL</cID>
        <cID>90_SWEDEN</cID>
        <cID>91_SINGAPORE</cID>
        <cID>101_TAIWAN</cID>
      </taxCountries>
    </taxonomy>
  </taxMap>
  <stringTable>
    <string>
      <id>GAME_STORE_STR</id>
      <Countries>
        <ENG_1>Game Marketplace</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Game Marketplace</GER_3>
        <FRE_4>Game Marketplace</FRE_4>
        <SPA_5>Game Marketplace</SPA_5>
        <ITA_6>Game Marketplace</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Game Marketplace</POR_9>
        <SWE_10>Game Marketplace</SWE_10>
        <NOR_11>Game Marketplace</NOR_11>
        <DAN_12>Game Marketplace</DAN_12>
        <DUT_13>Game Marketplace</DUT_13>
        <FIN_14>Game Marketplace</FIN_14>
      </Countries>
    </string>
    <string>
      <id>GAME_HOME_STR</id>
      <Countries>
        <ENG_1>Game Marketplace Home</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Game Marketplace Home</GER_3>
        <FRE_4>Game Marketplace Home </FRE_4>
        <SPA_5>Game Marketplace Home </SPA_5>
        <ITA_6>Game Marketplace Home </ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Game Marketplace Home </POR_9>
        <SWE_10>Game Marketplace Home </SWE_10>
        <NOR_11>Game Marketplace Home </NOR_11>
        <DAN_12>Game Marketplace Home </DAN_12>
        <DUT_13>Game Marketplace Home </DUT_13>
        <FIN_14>Game Marketplace Home </FIN_14>
      </Countries>
    </string>
    <string>
      <id>VID_STORE_STR</id>
      <Countries>
        <ENG_1>Video Marketplace</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Video Marketplace</GER_3>
        <FRE_4>Video Marketplace</FRE_4>
        <SPA_5>Video Marketplace</SPA_5>
        <ITA_6>Video Marketplace</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Video Marketplace</POR_9>
        <SWE_10>Video Marketplace</SWE_10>
        <NOR_11>Video Marketplace</NOR_11>
        <DAN_12>Video Marketplace</DAN_12>
        <DUT_13>Video Marketplace</DUT_13>
        <FIN_14>Video Marketplace</FIN_14>
      </Countries>
    </string>
    <string>
      <id>VID_HOME_STR</id>
      <Countries>
        <ENG_1>Video Marketplace Home</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Video Marketplace Home</GER_3>
        <FRE_4>Video Marketplace Home</FRE_4>
        <SPA_5>Video Marketplace Home</SPA_5>
        <ITA_6>Video Marketplace Home</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Video Marketplace Home</POR_9>
        <SWE_10>Video Marketplace Home</SWE_10>
        <NOR_11>Video Marketplace Home</NOR_11>
        <DAN_12>Video Marketplace Home</DAN_12>
        <DUT_13>Video Marketplace Home</DUT_13>
        <FIN_14>Video Marketplace Home</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MOST_POPULAR_STR</id>
      <Countries>
        <ENG_1>Most Popular</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Most Popular</GER_3>
        <FRE_4>Most Popular</FRE_4>
        <SPA_5>Most Popular</SPA_5>
        <ITA_6>Most Popular</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Most Popular</POR_9>
        <SWE_10>Most Popular</SWE_10>
        <NOR_11>Most Popular</NOR_11>
        <DAN_12>Most Popular</DAN_12>
        <DUT_13>Most Popular</DUT_13>
        <FIN_14>Most Popular</FIN_14>
      </Countries>
    </string>
    <string>
      <id>NEW_ARRIVALS_STR</id>
      <Countries>
        <ENG_1>New Arrivals</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>New Arrivals</GER_3>
        <FRE_4>New Arrivals</FRE_4>
        <SPA_5>New Arrivals</SPA_5>
        <ITA_6>New Arrivals</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>New Arrivals</POR_9>
        <SWE_10>New Arrivals</SWE_10>
        <NOR_11>New Arrivals</NOR_11>
        <DAN_12>New Arrivals</DAN_12>
        <DUT_13>New Arrivals</DUT_13>
        <FIN_14>New Arrivals</FIN_14>
      </Countries>
    </string>
    <string>
      <id>ARCADE_STR</id>
      <Countries>
        <ENG_1>Arcade</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Arcade</GER_3>
        <FRE_4>Arcade</FRE_4>
        <SPA_5>Arcade</SPA_5>
        <ITA_6>Arcade</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Arcade</POR_9>
        <SWE_10>Arcade</SWE_10>
        <NOR_11>Arcade</NOR_11>
        <DAN_12>Arcade</DAN_12>
        <DUT_13>Arcade</DUT_13>
        <FIN_14>Arcade</FIN_14>
      </Countries>
    </string>
    <string>
      <id>DEMOS_STR</id>
      <Countries>
        <ENG_1>Demos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Demos </GER_3>
        <FRE_4> Demos </FRE_4>
        <SPA_5> Demos </SPA_5>
        <ITA_6> Demos </ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Demos </POR_9>
        <SWE_10> Demos </SWE_10>
        <NOR_11> Demos </NOR_11>
        <DAN_12> Demos </DAN_12>
        <DUT_13> Demos </DUT_13>
        <FIN_14> Demos </FIN_14>
      </Countries>
    </string>
    <string>
      <id>ORIGINALS_STR</id>
      <Countries>
        <ENG_1>Originals</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Originals </GER_3>
        <FRE_4> Originals </FRE_4>
        <SPA_5> Originals </SPA_5>
        <ITA_6> Originals</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Originals </POR_9>
        <SWE_10> Originals </SWE_10>
        <NOR_11> Originals </NOR_11>
        <DAN_12> Originals </DAN_12>
        <DUT_13> Originals </DUT_13>
        <FIN_14> Originals </FIN_14>
      </Countries>
    </string>
    <string>
      <id>COM_GAMES_STR</id>
      <Countries>
        <ENG_1>Community Games</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Community Games </GER_3>
        <FRE_4> Community Games </FRE_4>
        <SPA_5> Community Games </SPA_5>
        <ITA_6> Community Games</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Community Games </POR_9>
        <SWE_10> Community Games </SWE_10>
        <NOR_11> Community Games </NOR_11>
        <DAN_12> Community Games </DAN_12>
        <DUT_13> Community Games </DUT_13>
        <FIN_14> Community Games </FIN_14>
      </Countries>
    </string>
    <string>
      <id>ADD_ONS_STR</id>
      <Countries>
        <ENG_1>Add-Ons</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Add-Ons </GER_3>
        <FRE_4> Add-Ons </FRE_4>
        <SPA_5> Add-Ons </SPA_5>
        <ITA_6> Add-Ons</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Add-Ons </POR_9>
        <SWE_10> Add-Ons </SWE_10>
        <NOR_11> Add-Ons </NOR_11>
        <DAN_12> Add-Ons </DAN_12>
        <DUT_13> Add-Ons </DUT_13>
        <FIN_14> Add-Ons </FIN_14>
      </Countries>
    </string>
    <string>
      <id>GAME_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Game Videos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Game Videos </GER_3>
        <FRE_4> Game Videos </FRE_4>
        <SPA_5> Game Videos </SPA_5>
        <ITA_6> Game Videos</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Game Videos </POR_9>
        <SWE_10> Game Videos </SWE_10>
        <NOR_11> Game Videos </NOR_11>
        <DAN_12> Game Videos </DAN_12>
        <DUT_13> Game Videos </DUT_13>
        <FIN_14> Game Videos </FIN_14>
      </Countries>
    </string>
    <string>
      <id>THEMES_PICS_STR</id>
      <Countries>
        <ENG_1>Themes and Gamer Pictures</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Themes and Gamer Pictures</GER_3>
        <FRE_4>Themes and Gamer Pictures</FRE_4>
        <SPA_5>Themes and Gamer Pictures</SPA_5>
        <ITA_6>Themes and Gamer Pictures</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Themes and Gamer Pictures</POR_9>
        <SWE_10>Themes and Gamer Pictures</SWE_10>
        <NOR_11>Themes and Gamer Pictures</NOR_11>
        <DAN_12>Themes and Gamer Pictures</DAN_12>
        <DUT_13>Themes and Gamer Pictures</DUT_13>
        <FIN_14>Themes and Gamer Pictures</FIN_14>
      </Countries>
    </string>
    <string>
      <ID>TV_SHOWS_VIDEOS_STR</ID>
      <Countries>
        <ENG_1>TV Shows</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>TV Shows</GER_3>
        <FRE_4>TV Shows</FRE_4>
        <SPA_5>TV Shows</SPA_5>
        <ITA_6>TV Shows</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>TV Shows</POR_9>
        <SWE_10>TV Shows</SWE_10>
        <NOR_11>TV Shows</NOR_11>
        <DAN_12>TV Shows</DAN_12>
        <DUT_13>TV Shows</DUT_13>
        <FIN_14>TV Shows</FIN_14>
      </Countries>
    </string>
    <string>
      <id>INDY_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Independent Videos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Independent Videos</GER_3>
        <FRE_4>Independent Videos</FRE_4>
        <SPA_5>Independent Videos</SPA_5>
        <ITA_6>Independent Videos</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Independent Videos</POR_9>
        <SWE_10>Independent Videos</SWE_10>
        <NOR_11>Independent Videos</NOR_11>
        <DAN_12>Independent Videos</DAN_12>
        <DUT_13>Independent Videos</DUT_13>
        <FIN_14>Independent Videos</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MOVIES_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Movies</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Movies</GER_3>
        <FRE_4>Movies</FRE_4>
        <SPA_5>Movies</SPA_5>
        <ITA_6>Movies</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Movies</POR_9>
        <SWE_10>Movies</SWE_10>
        <NOR_11>Movies</NOR_11>
        <DAN_12>Movies</DAN_12>
        <DUT_13>Movies</DUT_13>
        <FIN_14>Movies</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MUSIC_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Music Videos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Music Videos</GER_3>
        <FRE_4>Music Videos</FRE_4>
        <SPA_5>Music Videos</SPA_5>
        <ITA_6>Music Videos</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Music Videos</POR_9>
        <SWE_10>Music Videos</SWE_10>
        <NOR_11>Music Videos</NOR_11>
        <DAN_12>Music Videos</DAN_12>
        <DUT_13>Music Videos</DUT_13>
        <FIN_14>Music Videos</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MUSIC_VIDEOS_MORE_STR</id>
      <Countries>
        <ENG_1>Music, Videos, and More</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Music, Videos, and More</GER_3>
        <FRE_4>Music, Videos, and More</FRE_4>
        <SPA_5>Music, Videos, and More</SPA_5>
        <ITA_6>Music, Videos, and More</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Music, Videos, and More</POR_9>
        <SWE_10>Music, Videos, and More</SWE_10>
        <NOR_11>Music, Videos, and More</NOR_11>
        <DAN_12>Music, Videos, and More</DAN_12>
        <DUT_13>Music, Videos, and More</DUT_13>
        <FIN_14>Music, Videos, and More</FIN_14>
      </Countries>
    </string>
    <string>
      <id>NETFLIX_STR</id>
      <Countries>
        <ENG_1>Netflix</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Netflix</GER_3>
        <FRE_4>Netflix</FRE_4>
        <SPA_5>Netflix</SPA_5>
        <ITA_6>Netflix</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Netflix</POR_9>
        <SWE_10>Netflix</SWE_10>
        <NOR_11>Netflix</NOR_11>
        <DAN_12>Netflix</DAN_12>
        <DUT_13>Netflix</DUT_13>
        <FIN_14>Netflix</FIN_14>
      </Countries>
    </string>    
  </stringTable>
</RootNode>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\StoresListGood.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
 <mktpl>
  <tax>
   <taxID>FULL_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
      <deptID>ARCADE</deptID>
      <deptID>ADD_ONS</deptID>
      <deptID>ORIGINALS</deptID>
      <deptID>THEMES_PICS</deptID>
      <deptID>COM_GAMES</deptID>
      <deptID>DEMOS</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_GAMES</deptID>
      <deptID>NEW_ARRIVALS_GAMES</deptID>
      <deptID>ALL_GAMES</deptID> 
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_SHOWS_VIDEOS</deptID>
      <deptID>NETFLIX</deptID>
      <deptID>MUSIC_VIDEOS</deptID>
      <deptID>INDY_VIDEOS</deptID>
      <deptID>GAME_VIDEOS</deptID>            
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>MOVIES_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>COM_GAMES</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L3</storeID>
     <deptList>
      <deptID>MOVIES_SHORT_FILMS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_COM_GAMES</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
 </mktpl>

 <stores>
  <store>
   <id>GAME_STORE</id>
   <storeInfo>
    <storeStrID>GAME_STORE_STR</storeStrID>
    <nameStrID>GAME_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamestore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L2</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L3</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
 </stores>

 <depts>
  <dept>
   <id>MOST_POPULAR_GAMES</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_GAMES</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ARCADE</id>
   <deptInfo>
    <nameStrID>ARCADE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>arcadedept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>DEMOS</id>
   <deptInfo>
    <nameStrID>DEMOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>demosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ORIGINALS</id>
   <deptInfo>
    <nameStrID>ORIGINALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xboxoriginalsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>COM_GAMES</id>
   <deptInfo>
    <nameStrID>COM_GAMES_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xnadept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ADD_ONS</id>
   <deptInfo>
    <nameStrID>ADD_ONS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>addonsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>GAME_VIDEOS</id>
   <deptInfo>
    <nameStrID>GAME_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamevideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>THEMES_PICS</id>
   <deptInfo>
    <nameStrID>THEMES_PICS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>themesandgamerpicsdept.xml</param2>
   </deptInfo>
  </dept>
   <dept>
     <id>ALL_GAMES</id>
     <deptInfo>
       <nameStrID>ALL_GAMES_STR</nameStrID>
       <cmd>EcNavMarketplaceScriptAction</cmd>
       <param>BrowseUI</param>
       <param2>Browse_GameStore</param2>
     </deptInfo>
   </dept>   
  <dept>
   <id>MOST_POPULAR_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_VIDEOS</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>moviesdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_SHOWS_VIDEOS</id>
   <deptInfo>
    <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>tvdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MUSIC_VIDEOS</id>
   <deptInfo>
    <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>musicvideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>INDY_VIDEOS</id>
   <deptInfo>
    <nameStrID>INDY_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>IndyVideosDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_MUSIC_VIDEOS_MORE</id>
   <deptInfo>
    <nameStrID>TV_MUSIC_VIDEOS_MORE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>TVMusicMoreDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_SHORT_FILMS</id>
   <deptInfo>
    <nameStrID>MOVIES_SHORT_FILMS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>MoviesShortFilmsDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NETFLIX</id>
   <deptInfo>
    <nameStrID>NETFLIX_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>LaunchMarketplaceContent</param>
    <param2>00000003-0000-4000-8000-0000584807D5</param2>
    <param3>60</param3>
    <param4>8778403792F0046981C05EB13B715E8CFBCF31D458</param4>
   </deptInfo>
  </dept>
 </depts>
 <taxMap>
  <taxonomy>
   <id>FULL_VID_MKTPL</id>
   <taxCountries>
    <cID>103_UNITED_STATES</cID>
   </taxCountries>
  </taxonomy>
  <taxonomy>
   <id>MOVIES_VID_MKTPL</id>
   <taxCountries>
    <cID>16_CANADA</cID>
    <cID>31_SPAIN</cID>
    <cID>34_FRANCE</cID>
    <cID>35_GREAT_BRITAIN</cID>
    <cID>50_ITALY</cID>
   </taxCountries>
  </taxonomy>
   <taxonomy>
     <id>NO_COM_GAMES</id>
     <taxCountries>
       <cID>24_GERMANY</cID>
       <cID>44_IRELAND</cID>       
     </taxCountries>
   </taxonomy>
   <taxonomy>
   <id>NO_VID_MKTPL</id>
   <taxCountries>
    <cID>5_AUSTRIA</cID>
    <cID>6_AUSTRALIA</cID>
    <cID>8_BELGIUM</cID>
    <cID>18_SWITZERLAND</cID>
    <cID>20_CHINA</cID>
    <cID>25_DENMARK</cID>
    <cID>32_FINLAND</cID>
    <cID>39_HONG_KONG</cID>
    <cID>46_INDIA</cID>
    <cID>53_JAPAN</cID>
    <cID>56_KOREA</cID>
    <cID>71_MEXICO</cID>
    <cID>74_NETHERLANDS</cID>
    <cID>75_NORWAY</cID>
    <cID>76_NEW_ZEALAND</cID>
    <cID>84_PORTUGAL</cID>
    <cID>90_SWEDEN</cID>
    <cID>91_SINGAPORE</cID>
    <cID>101_TAIWAN</cID>
   </taxCountries>
  </taxonomy>
 </taxMap>
 <stringTable>
  <language>
   <id>ENG_1</id>
   <strings>
    <string>
     <id>GAME_STORE_STR</id>
     <val>Games</val>
    </string>
    <string>
     <id>GAME_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>VID_STORE_STR</id>
     <val>Video</val>
    </string>
    <string>
     <id>VID_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>MOST_POPULAR_STR</id>
     <val>Most Popular</val>
    </string>
    <string>
     <id>NEW_ARRIVALS_STR</id>
     <val>New Arrivals</val>
    </string>
    <string>
     <id>ARCADE_STR</id>
     <val>Arcade</val>
    </string>
    <string>
     <id>DEMOS_STR</id>
     <val>Game Demos</val>
    </string>
    <string>
     <id>ORIGINALS_STR</id>
     <val>Xbox Originals</val>
    </string>
    <string>
     <id>COM_GAMES_STR</id>
     <val>Community Games</val>
    </string>
    <string>
     <id>ADD_ONS_STR</id>
     <val>Game Add-ons</val>
    </string>
    <string>
     <id>GAME_VIDEOS_STR</id>
     <val>Game Videos</val>
    </string>
    <string>
     <id>THEMES_PICS_STR</id>
     <val>Themes &amp; Gamer Pictures</val>
    </string>
    <string>
     <id>TV_SHOWS_VIDEOS_STR</id>
     <val>TV Shows</val>
    </string>
    <string>
     <id>INDY_VIDEOS_STR</id>
     <val>Independent Videos</val>
    </string>
    <string>
     <id>MOVIES_VIDEOS_STR</id>
     <val>Movies</val>
    </string>
    <string>
     <id>MUSIC_VIDEOS_STR</id>
     <val>Music Videos</val>
    </string>
    <string>
     <id>TV_MUSIC_VIDEOS_MORE_STR</id>
     <val>TV, Music Videos, &amp; More</val>
    </string>
    <string>
     <id>MOVIES_SHORT_FILMS_STR</id>
     <val>Movies &amp; Short Films</val>
    </string>
    <string>
     <id>NETFLIX_STR</id>
     <val>Netflix</val>
    </string>
     <string>
       <id>ALL_GAMES_STR</id>
       <val>All Games</val>
     </string>
   </strings>
  </language>
      <language>
     <id>JPN_2</id>
        <strings>
          <string>
            <id>GAME_STORE_STR</id>
            <val>ã²ã¼ã </val>
          </string>
          <string>
            <id>GAME_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>VID_STORE_STR</id>
            <val>ãããª</val>
          </string>
          <string>
            <id>VID_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>MOST_POPULAR_STR</id>
            <val>äººæ°ã®ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>NEW_ARRIVALS_STR</id>
            <val>æ°ç</val>
          </string>
          <string>
            <id>ARCADE_STR</id>
            <val>ã¢ã¼ã±ã¼ã</val>
          </string>
          <string>
            <id>DEMOS_STR</id>
            <val>ã²ã¼ã ã®ãã¢</val>
          </string>
          <string>
            <id>ORIGINALS_STR</id>
            <val>Xbox ã¯ã©ã·ãã¯ã¹</val>
          </string>
          <string>
            <id>COM_GAMES_STR</id>
            <val>ã³ãã¥ããã£ã¼ ã²ã¼ã </val>
          </string>
          <string>
            <id>ADD_ONS_STR</id>
            <val>ã²ã¼ã è¿½å ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>GAME_VIDEOS_STR</id>
            <val>ã²ã¼ã ã®æ å</val>
          </string>
          <string>
            <id>THEMES_PICS_STR</id>
            <val>ãã¼ã &amp; ã²ã¼ãã¼ ã¢ã¤ã³ã³</val>
          </string>
          <string>
            <id>TV_SHOWS_VIDEOS_STR</id>
            <val>ãã¬ãçªçµ</val>
          </string>
          <string>
            <id>INDY_VIDEOS_STR</id>
            <val>ã²ã¼ã  ã³ãã¥ããã£ã¼ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_VIDEOS_STR</id>
            <val>æ ç»</val>
          </string>
          <string>
            <id>MUSIC_VIDEOS_STR</id>
            <val>ãã¥ã¼ã¸ãã¯ ãããª</val>
          </string>
          <string>
            <id>TV_MUSIC_VIDEOS_MORE_STR</id>
            <val>ãã®ä»ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_SHORT_FILMS_STR</id>
            <val>æ ç» &amp; ç­ç·¨ãããª</val>
          </string>
          <string>
            <id>NETFLIX_STR</id>
            <val>Netflix</val>
          </string>
          <string>
            <id>ALL_GAMES_STR</id>
            <val>ãã¹ã¦ã®ã²ã¼ã </val>
          </string>
        </strings>
   </language>
   <language>
     <id>DEU_3</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Spiele</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Die Beliebtesten</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Neu eingetroffen</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Spieldemos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Community-Spiele</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Spiel-Add-ons</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Spielvideos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Themen &amp; Spielerbilder</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Fernsehshows</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>UnabhÃ¤ngige Videos</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filme</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Musikvideos</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, Musikvideos &amp;  mehr</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filme &amp; Kurzfilme</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Alle Spiele</val>
       </string>
     </strings>
   </language>
   <language>
     <id>FRA_4</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jeux</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VidÃ©o</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Les plus tÃ©lÃ©chargÃ©es</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>NouveautÃ©s</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>DÃ©mos de jeux</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Jeux de la 1re Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jeux de la communautÃ©</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Extensions de jeux</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VidÃ©os de jeux</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ThÃ¨mes et images de joueur</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmes de tÃ©lÃ©vision</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VidÃ©os indÃ©pendantes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Films</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VidÃ©os musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, vidÃ©os musicales et autres</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Films et courts mÃ©trages</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tous les jeux</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ESP_5</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Juegos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Los mÃ¡s populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuevas llegadas</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de juegos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Originales Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Juegos de la comunidad</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de juego</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de juegos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e imÃ¡genes de jugador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos independientes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>PelÃ­culas</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TelevisiÃ³n, vÃ­deos musicales y mucho mÃ¡s</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>PelÃ­culas y cortometrajes</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos los juegos</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ITA_6</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Giochi</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>I piÃ¹ popolari</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuovi arrivi</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demo dei giochi</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Original</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Giochi dalla Community</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Add-on dei giochi</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Video dei giochi</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temi e immagini del giocatore</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmi TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Video indipendenti</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Film</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Video musicali</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, video musicali e altro</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Film e cortometraggi</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tutti i giochi</val>
       </string>
     </strings>
   </language>
   <language>
     <id>KOR_7</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ê²ì</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ë¹ëì¤</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>ì¸ê¸° í­ëª©</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ì ì</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ê²ì ë°ëª¨</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox 1</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ì»¤ë®¤ëí° ê²ì</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ê²ì ì¶ê° ì½íì¸ </val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ê²ì ë¹ëì¤</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>íë§ ë° ê²ì´ë¨¸ ì¬ì§</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>TV íë¡ê·¸ë¨</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ê°ì¸ ì ì ë¹ëì¤</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>ìí</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ë®¤ì§ ë¹ëì¤</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV ë®¤ì§ ë¹ëì¤ ë° ê¸°í ë±ë±</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>ìí ë° ë¨í¸ ìí</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ëª¨ë  ê²ì</val>
       </string>
     </strings>
   </language>
   <language>
     <id>TWN_8</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>éæ²</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>å½±ç</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>æåæ­¡è¿</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>æ°é®®è²¨</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>éæ²ç¤ºç¯</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox ç¬¬ä¸ä»£éæ²</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ç¤¾ç¾¤éæ²</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>éæ²éå åè½</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>éæ²å½±ç</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ä¸»é¡åç©å®¶åç¤º</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>é»è¦ç¯ç®</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ç¨ç«è£½ç</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>é»å½±</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>é³æ¨å½±ç</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>é»è¦ç¯ç®ãé³æ¨å½±çåæ´å¤å§å®¹</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>é»å½±åç­ç</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ææéæ²</val>
       </string>
     </strings>
   </language>
   <language>
     <id>PTB_9</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jogos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Mais Populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>LanÃ§amentos</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de Jogos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originais</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jogos da Comunidade</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de Jogos</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de Jogos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e Imagens do Jogador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos Independentes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmes</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos de MÃºsicas</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, VÃ­deos de MÃºsicas e Muito Mais</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmes e Curtas-metragens</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos os Jogos</val>
       </string>
     </strings>
   </language>
      <language>
     <id>POL_11</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Gry</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Wideo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Najpopularniejsze</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nowe propozycje</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Wersje demonstracyjne gier</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Gry na konsolÄ Xbox 1. generacji</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Gry spoÅecznoÅciowe</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Dodatki do gier</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Wideo z gier</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Kompozycje i obrazki gracza</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Seriale</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Filmy niezaleÅ¼ne</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmy</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Teledyski</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, teledyski i inne</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmy zwykÅe i krÃ³tkometraÅ¼owe</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Wszystkie gry</val>
       </string>
     </strings>
   </language>
   <language>
     <id>RUS_12</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ÐÐ³ÑÑ</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Ð¡Ð°Ð¼ÑÐµ Ð¿Ð¾Ð¿ÑÐ»ÑÑÐ½ÑÐµ</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ÐÐ¾Ð²ÑÐµ Ð¿Ð¾ÑÑÑÐ¿Ð»ÐµÐ½Ð¸Ñ</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>ÐÑÐºÐ°Ð´Ð½Ð°Ñ Ð¸Ð³ÑÐ°</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ÐÐµÐ¼Ð¾-Ð²ÐµÑÑÐ¸Ð¸ Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ÐÐ³ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÑÑÐ²Ð°</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÑ Ðº Ð¸Ð³ÑÐ°Ð¼</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾ Ð¸Ð· Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Ð¢ÐµÐ¼Ñ Ð¸ ÐºÐ°ÑÑÐ¸Ð½ÐºÐ¸ Ð¸Ð³ÑÐ¾ÐºÐ¾Ð²</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼ÑÐµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ÐÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸, Ð¼ÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ðµ Ð´ÑÑÐ³Ð¾Ðµ</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ Ð¸ ÐºÐ¾ÑÐ¾ÑÐºÐ¾Ð¼ÐµÑÑÐ°Ð¶Ð½ÑÐµ ÑÐ¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ÐÑÐµ Ð¸Ð³ÑÑ</val>
       </string>
     </strings>
   </language>
 </stringTable>
 </RootNode>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\StoresListLarge.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
  <mktpl>
    <tax>
      <taxID>FULL_VID_MKTPL</taxID>
      <storeList>
        <storeItem>
          <storeID>GAME_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_GAMES</deptID>
            <deptID>NEW_ARRIVALS_GAMES</deptID>
            <deptID>ARCADE</deptID>
            <deptID>DEMOS</deptID>
            <deptID>ORIGINALS</deptID>
            <deptID>COM_GAMES</deptID>
            <deptID>ADD_ONS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>THEMES_PICS</deptID>
          </deptList>
        </storeItem>
        <storeItem>
          <storeID>VIDEO_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_VIDEOS</deptID>
            <deptID>NEW_ARRIVALS_VIDEOS</deptID>
            <deptID>MOVIES_VIDEOS</deptID>
            <deptID>TV_SHOWS_VIDEOS</deptID>
            <deptID>MUSIC_VIDEOS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>INDY_VIDEOS</deptID>
            <deptID>NETFLIX</deptID>
          </deptList>
        </storeItem>
      </storeList>
    </tax>
    <tax>
      <taxID>MOVIES_VID_MKTPL</taxID>
      <storeList>
        <storeItem>
          <storeID>GAME_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_GAMES</deptID>
            <deptID>NEW_ARRIVALS_GAMES</deptID>
            <deptID>ARCADE</deptID>
            <deptID>DEMOS</deptID>
            <deptID>ORIGINALS</deptID>
            <deptID>COM_GAMES</deptID>
            <deptID>ADD_ONS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>THEMES_PICS</deptID>
          </deptList>
        </storeItem>
        <storeItem>
          <storeID>VIDEO_STORE_L2</storeID>
          <deptList>
            <deptID>MOVIES_VIDEOS</deptID>
            <deptID>MUSIC_VID_MORE</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>INDY_VIDEOS</deptID>
          </deptList>
        </storeItem>
      </storeList>
    </tax>
    <tax>
      <taxID>NO_VID_MKTPL</taxID>
      <storeList>
        <storeItem>
          <storeID>GAME_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_VIDEOS</deptID>
            <deptID>NEW_ARRIVALS_VIDEOS</deptID>
            <deptID>ARCADE</deptID>
            <deptID>DEMOS</deptID>
            <deptID>ORIGINALS</deptID>
            <deptID>COM_GAMES</deptID>
            <deptID>ADD_ONS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>THEMES_PICS</deptID>
          </deptList>
        </storeItem>
        <storeItem>
          <storeID>VIDEO_STORE_L3</storeID>
          <deptList>
            <deptID>MOVIES_SHORT_FILMS</deptID>
            <deptID>MUSIC_VID_MORE</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>INDY_VIDEOS</deptID>
          </deptList>
        </storeItem>
      </storeList>
    </tax>
  </mktpl>

  <stores>
    <store>
      <id>GAME_STORE</id>
      <storeInfo>
        <storeStrID>GAME_STORE_STR</storeStrID>
        <nameStrID>GAME_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>gamestore.xml</param2>
      </storeInfo>
    </store>
    <store>
      <id>VIDEO_STORE</id>
      <storeInfo>
        <storeStrID>VID_STORE_STR</storeStrID>
        <nameStrID>VID_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>videostore.xml</param2>
      </storeInfo>
    </store>
    <store>
      <id>VIDEO_STORE_L2</id>
      <storeInfo>
        <storeStrID>VID_STORE_STR</storeStrID>
        <nameStrID>VID_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>videostoreL2.xml</param2>
      </storeInfo>
    </store>
    <store>
      <id>VIDEO_STORE_L3</id>
      <storeInfo>
        <storeStrID>VID_STORE_STR</storeStrID>
        <nameStrID>VID_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>videostoreL3.xml</param2>
      </storeInfo>
    </store>
  </stores>

  <depts>
    <dept>
      <id>MOST_POPULAR_GAMES</id>
      <deptInfo>
        <nameStrID>MOST_POPULAR_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>GamesPopularDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>NEW_ARRIVALS_GAMES</id>
      <deptInfo>
        <nameStrID>NEW_ARRIVALS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>GamesNewDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>ARCADE</id>
      <deptInfo>
        <nameStrID>ARCADE_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>arcadedept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>DEMOS</id>
      <deptInfo>
        <nameStrID>DEMOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>demosdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>ORIGINALS</id>
      <deptInfo>
        <nameStrID>ORIGINALS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>xboxoriginalsdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>COM_GAMES</id>
      <deptInfo>
        <nameStrID>COM_GAMES_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>xnadept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>ADD_ONS</id>
      <deptInfo>
        <nameStrID>ADD_ONS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>addonsdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>GAME_VIDEOS</id>
      <deptInfo>
        <nameStrID>GAME_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>gamevideosdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>THEMES_PICS</id>
      <deptInfo>
        <nameStrID>THEMES_PICS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>themesandgamerpicsdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MOST_POPULAR_VIDEOS</id>
      <deptInfo>
        <nameStrID>MOST_POPULAR_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>VideosPopularDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>NEW_ARRIVALS_VIDEOS</id>
      <deptInfo>
        <nameStrID>NEW_ARRIVALS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>VideoNewDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MOVIES_VIDEOS</id>
      <deptInfo>
        <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>moviesdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>TV_SHOWS_VIDEOS</id>
      <deptInfo>
        <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>tvdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MUSIC_VIDEOS</id>
      <deptInfo>
        <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>musicvideosdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>INDY_VIDEOS</id>
      <deptInfo>
        <nameStrID>INDY_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>IndyVideosDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MUSIC_VIDEOS_MORE</id>
      <deptInfo>
        <nameStrID>MUSIC_VIDEOS_MORE_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>MusicMoreDept.xml</param2>
      </deptInfo>
    </dept>

    <dept>
      <id>NETFLIX</id>
      <deptInfo>
        <nameStrID>NETFLIX_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>LaunchMarketplaceContent</param>
        <Param2>0</Param2>
        <Param3>0</Param3>
        <Param4>0</Param4>
      </deptInfo>
    </dept>
  </depts>

  <taxMap>
    <taxonomy>
      <id>FULL_VID_MKTPL</id>
      <taxCountries>
        <cID>103_UNITED_STATES</cID>
      </taxCountries>
    </taxonomy>
    <taxonomy>
      <id>MOVIES_VID_MKTPL</id>
      <taxCountries>
        <cID>16_CANADA</cID>
        <cID>24_GERMANY</cID>
        <cID>31_SPAIN</cID>
        <cID>34_FRANCE</cID>
        <cID>35_GREAT_BRITAIN</cID>
        <cID>44_IRELAND</cID>
        <cID>50_ITALY</cID>
      </taxCountries>
    </taxonomy>
    <taxonomy>
      <id>NO_VID_MKTPL</id>
      <taxCountries>
        <cID>5_AUSTRIA</cID>
        <cID>6_AUSTRALIA</cID>
        <cID>8_BELGIUM</cID>
        <cID>18_SWITZERLAND</cID>
        <cID>20_CHINA</cID>
        <cID>25_DENMARK</cID>
        <cID>32_FINLAND</cID>
        <cID>39_HONG_KONG</cID>
        <cID>46_INDIA</cID>
        <cID>53_JAPAN</cID>
        <cID>56_KOREA</cID>
        <cID>71_MEXICO</cID>
        <cID>74_NETHERLANDS</cID>
        <cID>75_NORWAY</cID>
        <cID>76_NEW_ZEALAND</cID>
        <cID>84_PORTUGAL</cID>
        <cID>90_SWEDEN</cID>
        <cID>91_SINGAPORE</cID>
        <cID>101_TAIWAN</cID>
      </taxCountries>
    </taxonomy>
  </taxMap>
  <stringTable>
    <string>
      <id>GAME_STORE_STR</id>
      <Countries>
        <ENG_1>Game Marketplace</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Game Marketplace</GER_3>
        <FRE_4>Game Marketplace</FRE_4>
        <SPA_5>Game Marketplace</SPA_5>
        <ITA_6>Game Marketplace</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Game Marketplace</POR_9>
        <SWE_10>Game Marketplace</SWE_10>
        <NOR_11>Game Marketplace</NOR_11>
        <DAN_12>Game Marketplace</DAN_12>
        <DUT_13>Game Marketplace</DUT_13>
        <FIN_14>Game Marketplace</FIN_14>
      </Countries>
    </string>
    <string>
      <id>GAME_HOME_STR</id>
      <Countries>
        <ENG_1>Game Marketplace Home</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Game Marketplace Home</GER_3>
        <FRE_4>Game Marketplace Home </FRE_4>
        <SPA_5>Game Marketplace Home </SPA_5>
        <ITA_6>Game Marketplace Home </ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Game Marketplace Home </POR_9>
        <SWE_10>Game Marketplace Home </SWE_10>
        <NOR_11>Game Marketplace Home </NOR_11>
        <DAN_12>Game Marketplace Home </DAN_12>
        <DUT_13>Game Marketplace Home </DUT_13>
        <FIN_14>Game Marketplace Home </FIN_14>
      </Countries>
    </string>
    <string>
      <id>VID_STORE_STR</id>
      <Countries>
        <ENG_1>Video Marketplace</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Video Marketplace</GER_3>
        <FRE_4>Video Marketplace</FRE_4>
        <SPA_5>Video Marketplace</SPA_5>
        <ITA_6>Video Marketplace</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Video Marketplace</POR_9>
        <SWE_10>Video Marketplace</SWE_10>
        <NOR_11>Video Marketplace</NOR_11>
        <DAN_12>Video Marketplace</DAN_12>
        <DUT_13>Video Marketplace</DUT_13>
        <FIN_14>Video Marketplace</FIN_14>
      </Countries>
    </string>
    <string>
      <id>VID_HOME_STR</id>
      <Countries>
        <ENG_1>Video Marketplace Home</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Video Marketplace Home</GER_3>
        <FRE_4>Video Marketplace Home</FRE_4>
        <SPA_5>Video Marketplace Home</SPA_5>
        <ITA_6>Video Marketplace Home</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Video Marketplace Home</POR_9>
        <SWE_10>Video Marketplace Home</SWE_10>
        <NOR_11>Video Marketplace Home</NOR_11>
        <DAN_12>Video Marketplace Home</DAN_12>
        <DUT_13>Video Marketplace Home</DUT_13>
        <FIN_14>Video Marketplace Home</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MOST_POPULAR_STR</id>
      <Countries>
        <ENG_1>Most Popular</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Most Popular</GER_3>
        <FRE_4>Most Popular</FRE_4>
        <SPA_5>Most Popular</SPA_5>
        <ITA_6>Most Popular</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Most Popular</POR_9>
        <SWE_10>Most Popular</SWE_10>
        <NOR_11>Most Popular</NOR_11>
        <DAN_12>Most Popular</DAN_12>
        <DUT_13>Most Popular</DUT_13>
        <FIN_14>Most Popular</FIN_14>
      </Countries>
    </string>
    <string>
      <id>NEW_ARRIVALS_STR</id>
      <Countries>
        <ENG_1>New Arrivals</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>New Arrivals</GER_3>
        <FRE_4>New Arrivals</FRE_4>
        <SPA_5>New Arrivals</SPA_5>
        <ITA_6>New Arrivals</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>New Arrivals</POR_9>
        <SWE_10>New Arrivals</SWE_10>
        <NOR_11>New Arrivals</NOR_11>
        <DAN_12>New Arrivals</DAN_12>
        <DUT_13>New Arrivals</DUT_13>
        <FIN_14>New Arrivals</FIN_14>
      </Countries>
    </string>
    <string>
      <id>ARCADE_STR</id>
      <Countries>
        <ENG_1>Arcade</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Arcade</GER_3>
        <FRE_4>Arcade</FRE_4>
        <SPA_5>Arcade</SPA_5>
        <ITA_6>Arcade</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Arcade</POR_9>
        <SWE_10>Arcade</SWE_10>
        <NOR_11>Arcade</NOR_11>
        <DAN_12>Arcade</DAN_12>
        <DUT_13>Arcade</DUT_13>
        <FIN_14>Arcade</FIN_14>
      </Countries>
    </string>
    <string>
      <id>DEMOS_STR</id>
      <Countries>
        <ENG_1>Demos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Demos </GER_3>
        <FRE_4> Demos </FRE_4>
        <SPA_5> Demos </SPA_5>
        <ITA_6> Demos </ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Demos </POR_9>
        <SWE_10> Demos </SWE_10>
        <NOR_11> Demos </NOR_11>
        <DAN_12> Demos </DAN_12>
        <DUT_13> Demos </DUT_13>
        <FIN_14> Demos </FIN_14>
      </Countries>
    </string>
    <string>
      <id>ORIGINALS_STR</id>
      <Countries>
        <ENG_1>Originals</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Originals </GER_3>
        <FRE_4> Originals </FRE_4>
        <SPA_5> Originals </SPA_5>
        <ITA_6> Originals</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Originals </POR_9>
        <SWE_10> Originals </SWE_10>
        <NOR_11> Originals </NOR_11>
        <DAN_12> Originals </DAN_12>
        <DUT_13> Originals </DUT_13>
        <FIN_14> Originals </FIN_14>
      </Countries>
    </string>
    <string>
      <id>COM_GAMES_STR</id>
      <Countries>
        <ENG_1>Community Games</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Community Games </GER_3>
        <FRE_4> Community Games </FRE_4>
        <SPA_5> Community Games </SPA_5>
        <ITA_6> Community Games</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Community Games </POR_9>
        <SWE_10> Community Games </SWE_10>
        <NOR_11> Community Games </NOR_11>
        <DAN_12> Community Games </DAN_12>
        <DUT_13> Community Games </DUT_13>
        <FIN_14> Community Games </FIN_14>
      </Countries>
    </string>
    <string>
      <id>ADD_ONS_STR</id>
      <Countries>
        <ENG_1>Add-Ons</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Add-Ons </GER_3>
        <FRE_4> Add-Ons </FRE_4>
        <SPA_5> Add-Ons </SPA_5>
        <ITA_6> Add-Ons</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Add-Ons </POR_9>
        <SWE_10> Add-Ons </SWE_10>
        <NOR_11> Add-Ons </NOR_11>
        <DAN_12> Add-Ons </DAN_12>
        <DUT_13> Add-Ons </DUT_13>
        <FIN_14> Add-Ons </FIN_14>
      </Countries>
    </string>
    <string>
      <id>GAME_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Game Videos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Game Videos </GER_3>
        <FRE_4> Game Videos </FRE_4>
        <SPA_5> Game Videos </SPA_5>
        <ITA_6> Game Videos</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Game Videos </POR_9>
        <SWE_10> Game Videos </SWE_10>
        <NOR_11> Game Videos </NOR_11>
        <DAN_12> Game Videos </DAN_12>
        <DUT_13> Game Videos </DUT_13>
        <FIN_14> Game Videos </FIN_14>
      </Countries>
    </string>
    <string>
      <id>THEMES_PICS_STR</id>
      <Countries>
        <ENG_1>Themes and Gamer Pictures</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Themes and Gamer Pictures</GER_3>
        <FRE_4>Themes and Gamer Pictures</FRE_4>
        <SPA_5>Themes and Gamer Pictures</SPA_5>
        <ITA_6>Themes and Gamer Pictures</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Themes and Gamer Pictures</POR_9>
        <SWE_10>Themes and Gamer Pictures</SWE_10>
        <NOR_11>Themes and Gamer Pictures</NOR_11>
        <DAN_12>Themes and Gamer Pictures</DAN_12>
        <DUT_13>Themes and Gamer Pictures</DUT_13>
        <FIN_14>Themes and Gamer Pictures</FIN_14>
      </Countries>
    </string>
    <string>
      <ID>TV_SHOWS_VIDEOS_STR</ID>
      <Countries>
        <ENG_1>TV Shows</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>TV Shows</GER_3>
        <FRE_4>TV Shows</FRE_4>
        <SPA_5>TV Shows</SPA_5>
        <ITA_6>TV Shows</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>TV Shows</POR_9>
        <SWE_10>TV Shows</SWE_10>
        <NOR_11>TV Shows</NOR_11>
        <DAN_12>TV Shows</DAN_12>
        <DUT_13>TV Shows</DUT_13>
        <FIN_14>TV Shows</FIN_14>
      </Countries>
    </string>
    <string>
      <id>INDY_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Independent Videos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Independent Videos</GER_3>
        <FRE_4>Independent Videos</FRE_4>
        <SPA_5>Independent Videos</SPA_5>
        <ITA_6>Independent Videos</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Independent Videos</POR_9>
        <SWE_10>Independent Videos</SWE_10>
        <NOR_11>Independent Videos</NOR_11>
        <DAN_12>Independent Videos</DAN_12>
        <DUT_13>Independent Videos</DUT_13>
        <FIN_14>Independent Videos</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MOVIES_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Movies</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Movies</GER_3>
        <FRE_4>Movies</FRE_4>
        <SPA_5>Movies</SPA_5>
        <ITA_6>Movies</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Movies</POR_9>
        <SWE_10>Movies</SWE_10>
        <NOR_11>Movies</NOR_11>
        <DAN_12>Movies</DAN_12>
        <DUT_13>Movies</DUT_13>
        <FIN_14>Movies</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MUSIC_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Music Videos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Music Videos</GER_3>
        <FRE_4>Music Videos</FRE_4>
        <SPA_5>Music Videos</SPA_5>
        <ITA_6>Music Videos</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Music Videos</POR_9>
        <SWE_10>Music Videos</SWE_10>
        <NOR_11>Music Videos</NOR_11>
        <DAN_12>Music Videos</DAN_12>
        <DUT_13>Music Videos</DUT_13>
        <FIN_14>Music Videos</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MUSIC_VIDEOS_MORE_STR</id>
      <Countries>
        <ENG_1>Music, Videos, and More</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Music, Videos, and More</GER_3>
        <FRE_4>Music, Videos, and More</FRE_4>
        <SPA_5>Music, Videos, and More</SPA_5>
        <ITA_6>Music, Videos, and More</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Music, Videos, and More</POR_9>
        <SWE_10>Music, Videos, and More</SWE_10>
        <NOR_11>Music, Videos, and More</NOR_11>
        <DAN_12>Music, Videos, and More</DAN_12>
        <DUT_13>Music, Videos, and More</DUT_13>
        <FIN_14>Music, Videos, and More</FIN_14>
      </Countries>
    </string>
    <string>
      <id>NETFLIX_STR</id>
      <Countries>
        <ENG_1>Netflix</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Netflix</GER_3>
        <FRE_4>Netflix</FRE_4>
        <SPA_5>Netflix</SPA_5>
        <ITA_6>Netflix</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Netflix</POR_9>
        <SWE_10>Netflix</SWE_10>
        <NOR_11>Netflix</NOR_11>
        <DAN_12>Netflix</DAN_12>
        <DUT_13>Netflix</DUT_13>
        <FIN_14>Netflix</FIN_14>
      </Countries>
    </string>    
  </stringTable>
</RootNode>
<RootNode>
  <mktpl>
    <tax>
      <taxID>FULL_VID_MKTPL</taxID>
      <storeList>
        <storeItem>
          <storeID>GAME_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_GAMES</deptID>
            <deptID>NEW_ARRIVALS_GAMES</deptID>
            <deptID>ARCADE</deptID>
            <deptID>DEMOS</deptID>
            <deptID>ORIGINALS</deptID>
            <deptID>COM_GAMES</deptID>
            <deptID>ADD_ONS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>THEMES_PICS</deptID>
          </deptList>
        </storeItem>
        <storeItem>
          <storeID>VIDEO_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_VIDEOS</deptID>
            <deptID>NEW_ARRIVALS_VIDEOS</deptID>
            <deptID>MOVIES_VIDEOS</deptID>
            <deptID>TV_SHOWS_VIDEOS</deptID>
            <deptID>MUSIC_VIDEOS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>INDY_VIDEOS</deptID>
            <deptID>NETFLIX</deptID>
          </deptList>
        </storeItem>
      </storeList>
    </tax>
    <tax>
      <taxID>MOVIES_VID_MKTPL</taxID>
      <storeList>
        <storeItem>
          <storeID>GAME_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_GAMES</deptID>
            <deptID>NEW_ARRIVALS_GAMES</deptID>
            <deptID>ARCADE</deptID>
            <deptID>DEMOS</deptID>
            <deptID>ORIGINALS</deptID>
            <deptID>COM_GAMES</deptID>
            <deptID>ADD_ONS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>THEMES_PICS</deptID>
          </deptList>
        </storeItem>
        <storeItem>
          <storeID>VIDEO_STORE_L2</storeID>
          <deptList>
            <deptID>MOVIES_VIDEOS</deptID>
            <deptID>MUSIC_VID_MORE</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>INDY_VIDEOS</deptID>
          </deptList>
        </storeItem>
      </storeList>
    </tax>
    <tax>
      <taxID>NO_VID_MKTPL</taxID>
      <storeList>
        <storeItem>
          <storeID>GAME_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_VIDEOS</deptID>
            <deptID>NEW_ARRIVALS_VIDEOS</deptID>
            <deptID>ARCADE</deptID>
            <deptID>DEMOS</deptID>
            <deptID>ORIGINALS</deptID>
            <deptID>COM_GAMES</deptID>
            <deptID>ADD_ONS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>THEMES_PICS</deptID>
          </deptList>
        </storeItem>
        <storeItem>
          <storeID>VIDEO_STORE_L3</storeID>
          <deptList>
            <deptID>MOVIES_SHORT_FILMS</deptID>
            <deptID>MUSIC_VID_MORE</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>INDY_VIDEOS</deptID>
          </deptList>
        </storeItem>
      </storeList>
    </tax>
  </mktpl>

  <stores>
    <store>
      <id>GAME_STORE</id>
      <storeInfo>
        <storeStrID>GAME_STORE_STR</storeStrID>
        <nameStrID>GAME_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>gamestore.xml</param2>
      </storeInfo>
    </store>
    <store>
      <id>VIDEO_STORE</id>
      <storeInfo>
        <storeStrID>VID_STORE_STR</storeStrID>
        <nameStrID>VID_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>videostore.xml</param2>
      </storeInfo>
    </store>
    <store>
      <id>VIDEO_STORE_L2</id>
      <storeInfo>
        <storeStrID>VID_STORE_STR</storeStrID>
        <nameStrID>VID_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>videostoreL2.xml</param2>
      </storeInfo>
    </store>
    <store>
      <id>VIDEO_STORE_L3</id>
      <storeInfo>
        <storeStrID>VID_STORE_STR</storeStrID>
        <nameStrID>VID_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>videostoreL3.xml</param2>
      </storeInfo>
    </store>
  </stores>

  <depts>
    <dept>
      <id>MOST_POPULAR_GAMES</id>
      <deptInfo>
        <nameStrID>MOST_POPULAR_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>GamesPopularDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>NEW_ARRIVALS_GAMES</id>
      <deptInfo>
        <nameStrID>NEW_ARRIVALS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>GamesNewDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>ARCADE</id>
      <deptInfo>
        <nameStrID>ARCADE_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>arcadedept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>DEMOS</id>
      <deptInfo>
        <nameStrID>DEMOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>demosdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>ORIGINALS</id>
      <deptInfo>
        <nameStrID>ORIGINALS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>xboxoriginalsdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>COM_GAMES</id>
      <deptInfo>
        <nameStrID>COM_GAMES_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>xnadept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>ADD_ONS</id>
      <deptInfo>
        <nameStrID>ADD_ONS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>addonsdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>GAME_VIDEOS</id>
      <deptInfo>
        <nameStrID>GAME_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>gamevideosdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>THEMES_PICS</id>
      <deptInfo>
        <nameStrID>THEMES_PICS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>themesandgamerpicsdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MOST_POPULAR_VIDEOS</id>
      <deptInfo>
        <nameStrID>MOST_POPULAR_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>VideosPopularDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>NEW_ARRIVALS_VIDEOS</id>
      <deptInfo>
        <nameStrID>NEW_ARRIVALS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>VideoNewDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MOVIES_VIDEOS</id>
      <deptInfo>
        <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>moviesdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>TV_SHOWS_VIDEOS</id>
      <deptInfo>
        <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>tvdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MUSIC_VIDEOS</id>
      <deptInfo>
        <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>musicvideosdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>INDY_VIDEOS</id>
      <deptInfo>
        <nameStrID>INDY_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>IndyVideosDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MUSIC_VIDEOS_MORE</id>
      <deptInfo>
        <nameStrID>MUSIC_VIDEOS_MORE_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>MusicMoreDept.xml</param2>
      </deptInfo>
    </dept>

    <dept>
      <id>NETFLIX</id>
      <deptInfo>
        <nameStrID>NETFLIX_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>LaunchMarketplaceContent</param>
        <Param2>0</Param2>
        <Param3>0</Param3>
        <Param4>0</Param4>
      </deptInfo>
    </dept>
  </depts>

  <taxMap>
    <taxonomy>
      <id>FULL_VID_MKTPL</id>
      <taxCountries>
        <cID>103_UNITED_STATES</cID>
      </taxCountries>
    </taxonomy>
    <taxonomy>
      <id>MOVIES_VID_MKTPL</id>
      <taxCountries>
        <cID>16_CANADA</cID>
        <cID>24_GERMANY</cID>
        <cID>31_SPAIN</cID>
        <cID>34_FRANCE</cID>
        <cID>35_GREAT_BRITAIN</cID>
        <cID>44_IRELAND</cID>
        <cID>50_ITALY</cID>
      </taxCountries>
    </taxonomy>
    <taxonomy>
      <id>NO_VID_MKTPL</id>
      <taxCountries>
        <cID>5_AUSTRIA</cID>
        <cID>6_AUSTRALIA</cID>
        <cID>8_BELGIUM</cID>
        <cID>18_SWITZERLAND</cID>
        <cID>20_CHINA</cID>
        <cID>25_DENMARK</cID>
        <cID>32_FINLAND</cID>
        <cID>39_HONG_KONG</cID>
        <cID>46_INDIA</cID>
        <cID>53_JAPAN</cID>
        <cID>56_KOREA</cID>
        <cID>71_MEXICO</cID>
        <cID>74_NETHERLANDS</cID>
        <cID>75_NORWAY</cID>
        <cID>76_NEW_ZEALAND</cID>
        <cID>84_PORTUGAL</cID>
        <cID>90_SWEDEN</cID>
        <cID>91_SINGAPORE</cID>
        <cID>101_TAIWAN</cID>
      </taxCountries>
    </taxonomy>
  </taxMap>
  <stringTable>
    <string>
      <id>GAME_STORE_STR</id>
      <Countries>
        <ENG_1>Game Marketplace</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Game Marketplace</GER_3>
        <FRE_4>Game Marketplace</FRE_4>
        <SPA_5>Game Marketplace</SPA_5>
        <ITA_6>Game Marketplace</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Game Marketplace</POR_9>
        <SWE_10>Game Marketplace</SWE_10>
        <NOR_11>Game Marketplace</NOR_11>
        <DAN_12>Game Marketplace</DAN_12>
        <DUT_13>Game Marketplace</DUT_13>
        <FIN_14>Game Marketplace</FIN_14>
      </Countries>
    </string>
    <string>
      <id>GAME_HOME_STR</id>
      <Countries>
        <ENG_1>Game Marketplace Home</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Game Marketplace Home</GER_3>
        <FRE_4>Game Marketplace Home </FRE_4>
        <SPA_5>Game Marketplace Home </SPA_5>
        <ITA_6>Game Marketplace Home </ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Game Marketplace Home </POR_9>
        <SWE_10>Game Marketplace Home </SWE_10>
        <NOR_11>Game Marketplace Home </NOR_11>
        <DAN_12>Game Marketplace Home </DAN_12>
        <DUT_13>Game Marketplace Home </DUT_13>
        <FIN_14>Game Marketplace Home </FIN_14>
      </Countries>
    </string>
    <string>
      <id>VID_STORE_STR</id>
      <Countries>
        <ENG_1>Video Marketplace</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Video Marketplace</GER_3>
        <FRE_4>Video Marketplace</FRE_4>
        <SPA_5>Video Marketplace</SPA_5>
        <ITA_6>Video Marketplace</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Video Marketplace</POR_9>
        <SWE_10>Video Marketplace</SWE_10>
        <NOR_11>Video Marketplace</NOR_11>
        <DAN_12>Video Marketplace</DAN_12>
        <DUT_13>Video Marketplace</DUT_13>
        <FIN_14>Video Marketplace</FIN_14>
      </Countries>
    </string>
    <string>
      <id>VID_HOME_STR</id>
      <Countries>
        <ENG_1>Video Marketplace Home</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Video Marketplace Home</GER_3>
        <FRE_4>Video Marketplace Home</FRE_4>
        <SPA_5>Video Marketplace Home</SPA_5>
        <ITA_6>Video Marketplace Home</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Video Marketplace Home</POR_9>
        <SWE_10>Video Marketplace Home</SWE_10>
        <NOR_11>Video Marketplace Home</NOR_11>
        <DAN_12>Video Marketplace Home</DAN_12>
        <DUT_13>Video Marketplace Home</DUT_13>
        <FIN_14>Video Marketplace Home</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MOST_POPULAR_STR</id>
      <Countries>
        <ENG_1>Most Popular</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Most Popular</GER_3>
        <FRE_4>Most Popular</FRE_4>
        <SPA_5>Most Popular</SPA_5>
        <ITA_6>Most Popular</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Most Popular</POR_9>
        <SWE_10>Most Popular</SWE_10>
        <NOR_11>Most Popular</NOR_11>
        <DAN_12>Most Popular</DAN_12>
        <DUT_13>Most Popular</DUT_13>
        <FIN_14>Most Popular</FIN_14>
      </Countries>
    </string>
    <string>
      <id>NEW_ARRIVALS_STR</id>
      <Countries>
        <ENG_1>New Arrivals</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>New Arrivals</GER_3>
        <FRE_4>New Arrivals</FRE_4>
        <SPA_5>New Arrivals</SPA_5>
        <ITA_6>New Arrivals</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>New Arrivals</POR_9>
        <SWE_10>New Arrivals</SWE_10>
        <NOR_11>New Arrivals</NOR_11>
        <DAN_12>New Arrivals</DAN_12>
        <DUT_13>New Arrivals</DUT_13>
        <FIN_14>New Arrivals</FIN_14>
      </Countries>
    </string>
    <string>
      <id>ARCADE_STR</id>
      <Countries>
        <ENG_1>Arcade</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Arcade</GER_3>
        <FRE_4>Arcade</FRE_4>
        <SPA_5>Arcade</SPA_5>
        <ITA_6>Arcade</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Arcade</POR_9>
        <SWE_10>Arcade</SWE_10>
        <NOR_11>Arcade</NOR_11>
        <DAN_12>Arcade</DAN_12>
        <DUT_13>Arcade</DUT_13>
        <FIN_14>Arcade</FIN_14>
      </Countries>
    </string>
    <string>
      <id>DEMOS_STR</id>
      <Countries>
        <ENG_1>Demos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Demos </GER_3>
        <FRE_4> Demos </FRE_4>
        <SPA_5> Demos </SPA_5>
        <ITA_6> Demos </ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Demos </POR_9>
        <SWE_10> Demos </SWE_10>
        <NOR_11> Demos </NOR_11>
        <DAN_12> Demos </DAN_12>
        <DUT_13> Demos </DUT_13>
        <FIN_14> Demos </FIN_14>
      </Countries>
    </string>
    <string>
      <id>ORIGINALS_STR</id>
      <Countries>
        <ENG_1>Originals</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Originals </GER_3>
        <FRE_4> Originals </FRE_4>
        <SPA_5> Originals </SPA_5>
        <ITA_6> Originals</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Originals </POR_9>
        <SWE_10> Originals </SWE_10>
        <NOR_11> Originals </NOR_11>
        <DAN_12> Originals </DAN_12>
        <DUT_13> Originals </DUT_13>
        <FIN_14> Originals </FIN_14>
      </Countries>
    </string>
    <string>
      <id>COM_GAMES_STR</id>
      <Countries>
        <ENG_1>Community Games</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Community Games </GER_3>
        <FRE_4> Community Games </FRE_4>
        <SPA_5> Community Games </SPA_5>
        <ITA_6> Community Games</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Community Games </POR_9>
        <SWE_10> Community Games </SWE_10>
        <NOR_11> Community Games </NOR_11>
        <DAN_12> Community Games </DAN_12>
        <DUT_13> Community Games </DUT_13>
        <FIN_14> Community Games </FIN_14>
      </Countries>
    </string>
    <string>
      <id>ADD_ONS_STR</id>
      <Countries>
        <ENG_1>Add-Ons</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Add-Ons </GER_3>
        <FRE_4> Add-Ons </FRE_4>
        <SPA_5> Add-Ons </SPA_5>
        <ITA_6> Add-Ons</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Add-Ons </POR_9>
        <SWE_10> Add-Ons </SWE_10>
        <NOR_11> Add-Ons </NOR_11>
        <DAN_12> Add-Ons </DAN_12>
        <DUT_13> Add-Ons </DUT_13>
        <FIN_14> Add-Ons </FIN_14>
      </Countries>
    </string>
    <string>
      <id>GAME_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Game Videos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Game Videos </GER_3>
        <FRE_4> Game Videos </FRE_4>
        <SPA_5> Game Videos </SPA_5>
        <ITA_6> Game Videos</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Game Videos </POR_9>
        <SWE_10> Game Videos </SWE_10>
        <NOR_11> Game Videos </NOR_11>
        <DAN_12> Game Videos </DAN_12>
        <DUT_13> Game Videos </DUT_13>
        <FIN_14> Game Videos </FIN_14>
      </Countries>
    </string>
    <string>
      <id>THEMES_PICS_STR</id>
      <Countries>
        <ENG_1>Themes and Gamer Pictures</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Themes and Gamer Pictures</GER_3>
        <FRE_4>Themes and Gamer Pictures</FRE_4>
        <SPA_5>Themes and Gamer Pictures</SPA_5>
        <ITA_6>Themes and Gamer Pictures</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Themes and Gamer Pictures</POR_9>
        <SWE_10>Themes and Gamer Pictures</SWE_10>
        <NOR_11>Themes and Gamer Pictures</NOR_11>
        <DAN_12>Themes and Gamer Pictures</DAN_12>
        <DUT_13>Themes and Gamer Pictures</DUT_13>
        <FIN_14>Themes and Gamer Pictures</FIN_14>
      </Countries>
    </string>
    <string>
      <ID>TV_SHOWS_VIDEOS_STR</ID>
      <Countries>
        <ENG_1>TV Shows</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>TV Shows</GER_3>
        <FRE_4>TV Shows</FRE_4>
        <SPA_5>TV Shows</SPA_5>
        <ITA_6>TV Shows</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>TV Shows</POR_9>
        <SWE_10>TV Shows</SWE_10>
        <NOR_11>TV Shows</NOR_11>
        <DAN_12>TV Shows</DAN_12>
        <DUT_13>TV Shows</DUT_13>
        <FIN_14>TV Shows</FIN_14>
      </Countries>
    </string>
    <string>
      <id>INDY_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Independent Videos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Independent Videos</GER_3>
        <FRE_4>Independent Videos</FRE_4>
        <SPA_5>Independent Videos</SPA_5>
        <ITA_6>Independent Videos</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Independent Videos</POR_9>
        <SWE_10>Independent Videos</SWE_10>
        <NOR_11>Independent Videos</NOR_11>
        <DAN_12>Independent Videos</DAN_12>
        <DUT_13>Independent Videos</DUT_13>
        <FIN_14>Independent Videos</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MOVIES_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Movies</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Movies</GER_3>
        <FRE_4>Movies</FRE_4>
        <SPA_5>Movies</SPA_5>
        <ITA_6>Movies</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Movies</POR_9>
        <SWE_10>Movies</SWE_10>
        <NOR_11>Movies</NOR_11>
        <DAN_12>Movies</DAN_12>
        <DUT_13>Movies</DUT_13>
        <FIN_14>Movies</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MUSIC_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Music Videos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Music Videos</GER_3>
        <FRE_4>Music Videos</FRE_4>
        <SPA_5>Music Videos</SPA_5>
        <ITA_6>Music Videos</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Music Videos</POR_9>
        <SWE_10>Music Videos</SWE_10>
        <NOR_11>Music Videos</NOR_11>
        <DAN_12>Music Videos</DAN_12>
        <DUT_13>Music Videos</DUT_13>
        <FIN_14>Music Videos</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MUSIC_VIDEOS_MORE_STR</id>
      <Countries>
        <ENG_1>Music, Videos, and More</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Music, Videos, and More</GER_3>
        <FRE_4>Music, Videos, and More</FRE_4>
        <SPA_5>Music, Videos, and More</SPA_5>
        <ITA_6>Music, Videos, and More</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Music, Videos, and More</POR_9>
        <SWE_10>Music, Videos, and More</SWE_10>
        <NOR_11>Music, Videos, and More</NOR_11>
        <DAN_12>Music, Videos, and More</DAN_12>
        <DUT_13>Music, Videos, and More</DUT_13>
        <FIN_14>Music, Videos, and More</FIN_14>
      </Countries>
    </string>
    <string>
      <id>NETFLIX_STR</id>
      <Countries>
        <ENG_1>Netflix</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Netflix</GER_3>
        <FRE_4>Netflix</FRE_4>
        <SPA_5>Netflix</SPA_5>
        <ITA_6>Netflix</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Netflix</POR_9>
        <SWE_10>Netflix</SWE_10>
        <NOR_11>Netflix</NOR_11>
        <DAN_12>Netflix</DAN_12>
        <DUT_13>Netflix</DUT_13>
        <FIN_14>Netflix</FIN_14>
      </Countries>
    </string>    
  </stringTable>
</RootNode>
<RootNode>
  <mktpl>
    <tax>
      <taxID>FULL_VID_MKTPL</taxID>
      <storeList>
        <storeItem>
          <storeID>GAME_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_GAMES</deptID>
            <deptID>NEW_ARRIVALS_GAMES</deptID>
            <deptID>ARCADE</deptID>
            <deptID>DEMOS</deptID>
            <deptID>ORIGINALS</deptID>
            <deptID>COM_GAMES</deptID>
            <deptID>ADD_ONS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>THEMES_PICS</deptID>
          </deptList>
        </storeItem>
        <storeItem>
          <storeID>VIDEO_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_VIDEOS</deptID>
            <deptID>NEW_ARRIVALS_VIDEOS</deptID>
            <deptID>MOVIES_VIDEOS</deptID>
            <deptID>TV_SHOWS_VIDEOS</deptID>
            <deptID>MUSIC_VIDEOS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>INDY_VIDEOS</deptID>
            <deptID>NETFLIX</deptID>
          </deptList>
        </storeItem>
      </storeList>
    </tax>
    <tax>
      <taxID>MOVIES_VID_MKTPL</taxID>
      <storeList>
        <storeItem>
          <storeID>GAME_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_GAMES</deptID>
            <deptID>NEW_ARRIVALS_GAMES</deptID>
            <deptID>ARCADE</deptID>
            <deptID>DEMOS</deptID>
            <deptID>ORIGINALS</deptID>
            <deptID>COM_GAMES</deptID>
            <deptID>ADD_ONS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>THEMES_PICS</deptID>
          </deptList>
        </storeItem>
        <storeItem>
          <storeID>VIDEO_STORE_L2</storeID>
          <deptList>
            <deptID>MOVIES_VIDEOS</deptID>
            <deptID>MUSIC_VID_MORE</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>INDY_VIDEOS</deptID>
          </deptList>
        </storeItem>
      </storeList>
    </tax>
    <tax>
      <taxID>NO_VID_MKTPL</taxID>
      <storeList>
        <storeItem>
          <storeID>GAME_STORE</storeID>
          <deptList>
            <deptID>MOST_POPULAR_VIDEOS</deptID>
            <deptID>NEW_ARRIVALS_VIDEOS</deptID>
            <deptID>ARCADE</deptID>
            <deptID>DEMOS</deptID>
            <deptID>ORIGINALS</deptID>
            <deptID>COM_GAMES</deptID>
            <deptID>ADD_ONS</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>THEMES_PICS</deptID>
          </deptList>
        </storeItem>
        <storeItem>
          <storeID>VIDEO_STORE_L3</storeID>
          <deptList>
            <deptID>MOVIES_SHORT_FILMS</deptID>
            <deptID>MUSIC_VID_MORE</deptID>
            <deptID>GAME_VIDEOS</deptID>
            <deptID>INDY_VIDEOS</deptID>
          </deptList>
        </storeItem>
      </storeList>
    </tax>
  </mktpl>

  <stores>
    <store>
      <id>GAME_STORE</id>
      <storeInfo>
        <storeStrID>GAME_STORE_STR</storeStrID>
        <nameStrID>GAME_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>gamestore.xml</param2>
      </storeInfo>
    </store>
    <store>
      <id>VIDEO_STORE</id>
      <storeInfo>
        <storeStrID>VID_STORE_STR</storeStrID>
        <nameStrID>VID_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>videostore.xml</param2>
      </storeInfo>
    </store>
    <store>
      <id>VIDEO_STORE_L2</id>
      <storeInfo>
        <storeStrID>VID_STORE_STR</storeStrID>
        <nameStrID>VID_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>videostoreL2.xml</param2>
      </storeInfo>
    </store>
    <store>
      <id>VIDEO_STORE_L3</id>
      <storeInfo>
        <storeStrID>VID_STORE_STR</storeStrID>
        <nameStrID>VID_HOME_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>videostoreL3.xml</param2>
      </storeInfo>
    </store>
  </stores>

  <depts>
    <dept>
      <id>MOST_POPULAR_GAMES</id>
      <deptInfo>
        <nameStrID>MOST_POPULAR_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>GamesPopularDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>NEW_ARRIVALS_GAMES</id>
      <deptInfo>
        <nameStrID>NEW_ARRIVALS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>GamesNewDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>ARCADE</id>
      <deptInfo>
        <nameStrID>ARCADE_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>arcadedept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>DEMOS</id>
      <deptInfo>
        <nameStrID>DEMOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>demosdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>ORIGINALS</id>
      <deptInfo>
        <nameStrID>ORIGINALS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>xboxoriginalsdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>COM_GAMES</id>
      <deptInfo>
        <nameStrID>COM_GAMES_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>xnadept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>ADD_ONS</id>
      <deptInfo>
        <nameStrID>ADD_ONS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>addonsdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>GAME_VIDEOS</id>
      <deptInfo>
        <nameStrID>GAME_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>gamevideosdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>THEMES_PICS</id>
      <deptInfo>
        <nameStrID>THEMES_PICS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>themesandgamerpicsdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MOST_POPULAR_VIDEOS</id>
      <deptInfo>
        <nameStrID>MOST_POPULAR_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>VideosPopularDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>NEW_ARRIVALS_VIDEOS</id>
      <deptInfo>
        <nameStrID>NEW_ARRIVALS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>VideoNewDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MOVIES_VIDEOS</id>
      <deptInfo>
        <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>moviesdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>TV_SHOWS_VIDEOS</id>
      <deptInfo>
        <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>tvdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MUSIC_VIDEOS</id>
      <deptInfo>
        <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>musicvideosdept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>INDY_VIDEOS</id>
      <deptInfo>
        <nameStrID>INDY_VIDEOS_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>IndyVideosDept.xml</param2>
      </deptInfo>
    </dept>
    <dept>
      <id>MUSIC_VIDEOS_MORE</id>
      <deptInfo>
        <nameStrID>MUSIC_VIDEOS_MORE_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>NavigateToChannel</param>
        <param2>MusicMoreDept.xml</param2>
      </deptInfo>
    </dept>

    <dept>
      <id>NETFLIX</id>
      <deptInfo>
        <nameStrID>NETFLIX_STR</nameStrID>
        <cmd>EcNavMarketplaceScriptAction</cmd>
        <param>LaunchMarketplaceContent</param>
        <Param2>0</Param2>
        <Param3>0</Param3>
        <Param4>0</Param4>
      </deptInfo>
    </dept>
  </depts>

  <taxMap>
    <taxonomy>
      <id>FULL_VID_MKTPL</id>
      <taxCountries>
        <cID>103_UNITED_STATES</cID>
      </taxCountries>
    </taxonomy>
    <taxonomy>
      <id>MOVIES_VID_MKTPL</id>
      <taxCountries>
        <cID>16_CANADA</cID>
        <cID>24_GERMANY</cID>
        <cID>31_SPAIN</cID>
        <cID>34_FRANCE</cID>
        <cID>35_GREAT_BRITAIN</cID>
        <cID>44_IRELAND</cID>
        <cID>50_ITALY</cID>
      </taxCountries>
    </taxonomy>
    <taxonomy>
      <id>NO_VID_MKTPL</id>
      <taxCountries>
        <cID>5_AUSTRIA</cID>
        <cID>6_AUSTRALIA</cID>
        <cID>8_BELGIUM</cID>
        <cID>18_SWITZERLAND</cID>
        <cID>20_CHINA</cID>
        <cID>25_DENMARK</cID>
        <cID>32_FINLAND</cID>
        <cID>39_HONG_KONG</cID>
        <cID>46_INDIA</cID>
        <cID>53_JAPAN</cID>
        <cID>56_KOREA</cID>
        <cID>71_MEXICO</cID>
        <cID>74_NETHERLANDS</cID>
        <cID>75_NORWAY</cID>
        <cID>76_NEW_ZEALAND</cID>
        <cID>84_PORTUGAL</cID>
        <cID>90_SWEDEN</cID>
        <cID>91_SINGAPORE</cID>
        <cID>101_TAIWAN</cID>
      </taxCountries>
    </taxonomy>
  </taxMap>
  <stringTable>
    <string>
      <id>GAME_STORE_STR</id>
      <Countries>
        <ENG_1>Game Marketplace</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Game Marketplace</GER_3>
        <FRE_4>Game Marketplace</FRE_4>
        <SPA_5>Game Marketplace</SPA_5>
        <ITA_6>Game Marketplace</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Game Marketplace</POR_9>
        <SWE_10>Game Marketplace</SWE_10>
        <NOR_11>Game Marketplace</NOR_11>
        <DAN_12>Game Marketplace</DAN_12>
        <DUT_13>Game Marketplace</DUT_13>
        <FIN_14>Game Marketplace</FIN_14>
      </Countries>
    </string>
    <string>
      <id>GAME_HOME_STR</id>
      <Countries>
        <ENG_1>Game Marketplace Home</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Game Marketplace Home</GER_3>
        <FRE_4>Game Marketplace Home </FRE_4>
        <SPA_5>Game Marketplace Home </SPA_5>
        <ITA_6>Game Marketplace Home </ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Game Marketplace Home </POR_9>
        <SWE_10>Game Marketplace Home </SWE_10>
        <NOR_11>Game Marketplace Home </NOR_11>
        <DAN_12>Game Marketplace Home </DAN_12>
        <DUT_13>Game Marketplace Home </DUT_13>
        <FIN_14>Game Marketplace Home </FIN_14>
      </Countries>
    </string>
    <string>
      <id>VID_STORE_STR</id>
      <Countries>
        <ENG_1>Video Marketplace</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Video Marketplace</GER_3>
        <FRE_4>Video Marketplace</FRE_4>
        <SPA_5>Video Marketplace</SPA_5>
        <ITA_6>Video Marketplace</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Video Marketplace</POR_9>
        <SWE_10>Video Marketplace</SWE_10>
        <NOR_11>Video Marketplace</NOR_11>
        <DAN_12>Video Marketplace</DAN_12>
        <DUT_13>Video Marketplace</DUT_13>
        <FIN_14>Video Marketplace</FIN_14>
      </Countries>
    </string>
    <string>
      <id>VID_HOME_STR</id>
      <Countries>
        <ENG_1>Video Marketplace Home</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Video Marketplace Home</GER_3>
        <FRE_4>Video Marketplace Home</FRE_4>
        <SPA_5>Video Marketplace Home</SPA_5>
        <ITA_6>Video Marketplace Home</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Video Marketplace Home</POR_9>
        <SWE_10>Video Marketplace Home</SWE_10>
        <NOR_11>Video Marketplace Home</NOR_11>
        <DAN_12>Video Marketplace Home</DAN_12>
        <DUT_13>Video Marketplace Home</DUT_13>
        <FIN_14>Video Marketplace Home</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MOST_POPULAR_STR</id>
      <Countries>
        <ENG_1>Most Popular</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Most Popular</GER_3>
        <FRE_4>Most Popular</FRE_4>
        <SPA_5>Most Popular</SPA_5>
        <ITA_6>Most Popular</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Most Popular</POR_9>
        <SWE_10>Most Popular</SWE_10>
        <NOR_11>Most Popular</NOR_11>
        <DAN_12>Most Popular</DAN_12>
        <DUT_13>Most Popular</DUT_13>
        <FIN_14>Most Popular</FIN_14>
      </Countries>
    </string>
    <string>
      <id>NEW_ARRIVALS_STR</id>
      <Countries>
        <ENG_1>New Arrivals</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>New Arrivals</GER_3>
        <FRE_4>New Arrivals</FRE_4>
        <SPA_5>New Arrivals</SPA_5>
        <ITA_6>New Arrivals</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>New Arrivals</POR_9>
        <SWE_10>New Arrivals</SWE_10>
        <NOR_11>New Arrivals</NOR_11>
        <DAN_12>New Arrivals</DAN_12>
        <DUT_13>New Arrivals</DUT_13>
        <FIN_14>New Arrivals</FIN_14>
      </Countries>
    </string>
    <string>
      <id>ARCADE_STR</id>
      <Countries>
        <ENG_1>Arcade</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Arcade</GER_3>
        <FRE_4>Arcade</FRE_4>
        <SPA_5>Arcade</SPA_5>
        <ITA_6>Arcade</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Arcade</POR_9>
        <SWE_10>Arcade</SWE_10>
        <NOR_11>Arcade</NOR_11>
        <DAN_12>Arcade</DAN_12>
        <DUT_13>Arcade</DUT_13>
        <FIN_14>Arcade</FIN_14>
      </Countries>
    </string>
    <string>
      <id>DEMOS_STR</id>
      <Countries>
        <ENG_1>Demos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Demos </GER_3>
        <FRE_4> Demos </FRE_4>
        <SPA_5> Demos </SPA_5>
        <ITA_6> Demos </ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Demos </POR_9>
        <SWE_10> Demos </SWE_10>
        <NOR_11> Demos </NOR_11>
        <DAN_12> Demos </DAN_12>
        <DUT_13> Demos </DUT_13>
        <FIN_14> Demos </FIN_14>
      </Countries>
    </string>
    <string>
      <id>ORIGINALS_STR</id>
      <Countries>
        <ENG_1>Originals</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Originals </GER_3>
        <FRE_4> Originals </FRE_4>
        <SPA_5> Originals </SPA_5>
        <ITA_6> Originals</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Originals </POR_9>
        <SWE_10> Originals </SWE_10>
        <NOR_11> Originals </NOR_11>
        <DAN_12> Originals </DAN_12>
        <DUT_13> Originals </DUT_13>
        <FIN_14> Originals </FIN_14>
      </Countries>
    </string>
    <string>
      <id>COM_GAMES_STR</id>
      <Countries>
        <ENG_1>Community Games</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Community Games </GER_3>
        <FRE_4> Community Games </FRE_4>
        <SPA_5> Community Games </SPA_5>
        <ITA_6> Community Games</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Community Games </POR_9>
        <SWE_10> Community Games </SWE_10>
        <NOR_11> Community Games </NOR_11>
        <DAN_12> Community Games </DAN_12>
        <DUT_13> Community Games </DUT_13>
        <FIN_14> Community Games </FIN_14>
      </Countries>
    </string>
    <string>
      <id>ADD_ONS_STR</id>
      <Countries>
        <ENG_1>Add-Ons</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Add-Ons </GER_3>
        <FRE_4> Add-Ons </FRE_4>
        <SPA_5> Add-Ons </SPA_5>
        <ITA_6> Add-Ons</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Add-Ons </POR_9>
        <SWE_10> Add-Ons </SWE_10>
        <NOR_11> Add-Ons </NOR_11>
        <DAN_12> Add-Ons </DAN_12>
        <DUT_13> Add-Ons </DUT_13>
        <FIN_14> Add-Ons </FIN_14>
      </Countries>
    </string>
    <string>
      <id>GAME_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Game Videos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3> Game Videos </GER_3>
        <FRE_4> Game Videos </FRE_4>
        <SPA_5> Game Videos </SPA_5>
        <ITA_6> Game Videos</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9> Game Videos </POR_9>
        <SWE_10> Game Videos </SWE_10>
        <NOR_11> Game Videos </NOR_11>
        <DAN_12> Game Videos </DAN_12>
        <DUT_13> Game Videos </DUT_13>
        <FIN_14> Game Videos </FIN_14>
      </Countries>
    </string>
    <string>
      <id>THEMES_PICS_STR</id>
      <Countries>
        <ENG_1>Themes and Gamer Pictures</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Themes and Gamer Pictures</GER_3>
        <FRE_4>Themes and Gamer Pictures</FRE_4>
        <SPA_5>Themes and Gamer Pictures</SPA_5>
        <ITA_6>Themes and Gamer Pictures</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Themes and Gamer Pictures</POR_9>
        <SWE_10>Themes and Gamer Pictures</SWE_10>
        <NOR_11>Themes and Gamer Pictures</NOR_11>
        <DAN_12>Themes and Gamer Pictures</DAN_12>
        <DUT_13>Themes and Gamer Pictures</DUT_13>
        <FIN_14>Themes and Gamer Pictures</FIN_14>
      </Countries>
    </string>
    <string>
      <ID>TV_SHOWS_VIDEOS_STR</ID>
      <Countries>
        <ENG_1>TV Shows</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>TV Shows</GER_3>
        <FRE_4>TV Shows</FRE_4>
        <SPA_5>TV Shows</SPA_5>
        <ITA_6>TV Shows</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>TV Shows</POR_9>
        <SWE_10>TV Shows</SWE_10>
        <NOR_11>TV Shows</NOR_11>
        <DAN_12>TV Shows</DAN_12>
        <DUT_13>TV Shows</DUT_13>
        <FIN_14>TV Shows</FIN_14>
      </Countries>
    </string>
    <string>
      <id>INDY_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Independent Videos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Independent Videos</GER_3>
        <FRE_4>Independent Videos</FRE_4>
        <SPA_5>Independent Videos</SPA_5>
        <ITA_6>Independent Videos</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Independent Videos</POR_9>
        <SWE_10>Independent Videos</SWE_10>
        <NOR_11>Independent Videos</NOR_11>
        <DAN_12>Independent Videos</DAN_12>
        <DUT_13>Independent Videos</DUT_13>
        <FIN_14>Independent Videos</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MOVIES_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Movies</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Movies</GER_3>
        <FRE_4>Movies</FRE_4>
        <SPA_5>Movies</SPA_5>
        <ITA_6>Movies</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Movies</POR_9>
        <SWE_10>Movies</SWE_10>
        <NOR_11>Movies</NOR_11>
        <DAN_12>Movies</DAN_12>
        <DUT_13>Movies</DUT_13>
        <FIN_14>Movies</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MUSIC_VIDEOS_STR</id>
      <Countries>
        <ENG_1>Music Videos</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Music Videos</GER_3>
        <FRE_4>Music Videos</FRE_4>
        <SPA_5>Music Videos</SPA_5>
        <ITA_6>Music Videos</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Music Videos</POR_9>
        <SWE_10>Music Videos</SWE_10>
        <NOR_11>Music Videos</NOR_11>
        <DAN_12>Music Videos</DAN_12>
        <DUT_13>Music Videos</DUT_13>
        <FIN_14>Music Videos</FIN_14>
      </Countries>
    </string>
    <string>
      <id>MUSIC_VIDEOS_MORE_STR</id>
      <Countries>
        <ENG_1>Music, Videos, and More</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Music, Videos, and More</GER_3>
        <FRE_4>Music, Videos, and More</FRE_4>
        <SPA_5>Music, Videos, and More</SPA_5>
        <ITA_6>Music, Videos, and More</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Music, Videos, and More</POR_9>
        <SWE_10>Music, Videos, and More</SWE_10>
        <NOR_11>Music, Videos, and More</NOR_11>
        <DAN_12>Music, Videos, and More</DAN_12>
        <DUT_13>Music, Videos, and More</DUT_13>
        <FIN_14>Music, Videos, and More</FIN_14>
      </Countries>
    </string>
    <string>
      <id>NETFLIX_STR</id>
      <Countries>
        <ENG_1>Netflix</ENG_1>
        <JAP_2>?????</JAP_2>
        <GER_3>Netflix</GER_3>
        <FRE_4>Netflix</FRE_4>
        <SPA_5>Netflix</SPA_5>
        <ITA_6>Netflix</ITA_6>
        <KOR_7>????</KOR_7>
        <TCH_8>??</TCH_8>
        <POR_9>Netflix</POR_9>
        <SWE_10>Netflix</SWE_10>
        <NOR_11>Netflix</NOR_11>
        <DAN_12>Netflix</DAN_12>
        <DUT_13>Netflix</DUT_13>
        <FIN_14>Netflix</FIN_14>
      </Countries>
    </string>    
  </stringTable>
</RootNode>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\StoresListUnicode.xml ===
 < ? x m l   v e r s i o n = " 1 . 0 "   e n c o d i n g = " U T F - 1 6 "   s t a n d a l o n e = " n o " ? > 
 
 < R o o t N o d e > 
 
     < m k t p l > 
 
         < t a x > 
 
             < t a x I D > F U L L _ V I D _ M K T P L < / t a x I D > 
 
             < s t o r e L i s t > 
 
                 < s t o r e I t e m > 
 
                     < s t o r e I D > G A M E _ S T O R E < / s t o r e I D > 
 
                     < d e p t L i s t > 
 
                         < d e p t I D > M O S T _ P O P U L A R _ G A M E S < / d e p t I D > 
 
                         < d e p t I D > N E W _ A R R I V A L S _ G A M E S < / d e p t I D > 
 
                         < d e p t I D > A R C A D E < / d e p t I D > 
 
                         < d e p t I D > D E M O S < / d e p t I D > 
 
                         < d e p t I D > O R I G I N A L S < / d e p t I D > 
 
                         < d e p t I D > C O M _ G A M E S < / d e p t I D > 
 
                         < d e p t I D > A D D _ O N S < / d e p t I D > 
 
                         < d e p t I D > G A M E _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > T H E M E S _ P I C S < / d e p t I D > 
 
                     < / d e p t L i s t > 
 
                 < / s t o r e I t e m > 
 
                 < s t o r e I t e m > 
 
                     < s t o r e I D > V I D E O _ S T O R E < / s t o r e I D > 
 
                     < d e p t L i s t > 
 
                         < d e p t I D > M O S T _ P O P U L A R _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > N E W _ A R R I V A L S _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > M O V I E S _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > T V _ S H O W S _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > M U S I C _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > G A M E _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > I N D Y _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > N E T F L I X < / d e p t I D > 
 
                     < / d e p t L i s t > 
 
                 < / s t o r e I t e m > 
 
             < / s t o r e L i s t > 
 
         < / t a x > 
 
         < t a x > 
 
             < t a x I D > M O V I E S _ V I D _ M K T P L < / t a x I D > 
 
             < s t o r e L i s t > 
 
                 < s t o r e I t e m > 
 
                     < s t o r e I D > G A M E _ S T O R E < / s t o r e I D > 
 
                     < d e p t L i s t > 
 
                         < d e p t I D > M O S T _ P O P U L A R _ G A M E S < / d e p t I D > 
 
                         < d e p t I D > N E W _ A R R I V A L S _ G A M E S < / d e p t I D > 
 
                         < d e p t I D > A R C A D E < / d e p t I D > 
 
                         < d e p t I D > D E M O S < / d e p t I D > 
 
                         < d e p t I D > O R I G I N A L S < / d e p t I D > 
 
                         < d e p t I D > C O M _ G A M E S < / d e p t I D > 
 
                         < d e p t I D > A D D _ O N S < / d e p t I D > 
 
                         < d e p t I D > G A M E _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > T H E M E S _ P I C S < / d e p t I D > 
 
                     < / d e p t L i s t > 
 
                 < / s t o r e I t e m > 
 
                 < s t o r e I t e m > 
 
                     < s t o r e I D > V I D E O _ S T O R E _ L 2 < / s t o r e I D > 
 
                     < d e p t L i s t > 
 
                         < d e p t I D > M O V I E S _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > M U S I C _ V I D _ M O R E < / d e p t I D > 
 
                         < d e p t I D > G A M E _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > I N D Y _ V I D E O S < / d e p t I D > 
 
                     < / d e p t L i s t > 
 
                 < / s t o r e I t e m > 
 
             < / s t o r e L i s t > 
 
         < / t a x > 
 
         < t a x > 
 
             < t a x I D > N O _ V I D _ M K T P L < / t a x I D > 
 
             < s t o r e L i s t > 
 
                 < s t o r e I t e m > 
 
                     < s t o r e I D > G A M E _ S T O R E < / s t o r e I D > 
 
                     < d e p t L i s t > 
 
                         < d e p t I D > M O S T _ P O P U L A R _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > N E W _ A R R I V A L S _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > A R C A D E < / d e p t I D > 
 
                         < d e p t I D > D E M O S < / d e p t I D > 
 
                         < d e p t I D > O R I G I N A L S < / d e p t I D > 
 
                         < d e p t I D > C O M _ G A M E S < / d e p t I D > 
 
                         < d e p t I D > A D D _ O N S < / d e p t I D > 
 
                         < d e p t I D > G A M E _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > T H E M E S _ P I C S < / d e p t I D > 
 
                     < / d e p t L i s t > 
 
                 < / s t o r e I t e m > 
 
                 < s t o r e I t e m > 
 
                     < s t o r e I D > V I D E O _ S T O R E _ L 3 < / s t o r e I D > 
 
                     < d e p t L i s t > 
 
                         < d e p t I D > M O V I E S _ S H O R T _ F I L M S < / d e p t I D > 
 
                         < d e p t I D > M U S I C _ V I D _ M O R E < / d e p t I D > 
 
                         < d e p t I D > G A M E _ V I D E O S < / d e p t I D > 
 
                         < d e p t I D > I N D Y _ V I D E O S < / d e p t I D > 
 
                     < / d e p t L i s t > 
 
                 < / s t o r e I t e m > 
 
             < / s t o r e L i s t > 
 
         < / t a x > 
 
     < / m k t p l > 
 
 
 
     < s t o r e s > 
 
         < s t o r e > 
 
             < i d > G A M E _ S T O R E < / i d > 
 
             < s t o r e I n f o > 
 
                 < s t o r e S t r I D > G A M E _ S T O R E _ S T R < / s t o r e S t r I D > 
 
                 < n a m e S t r I D > G A M E _ H O M E _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > g a m e s t o r e . x m l < / p a r a m 2 > 
 
             < / s t o r e I n f o > 
 
         < / s t o r e > 
 
         < s t o r e > 
 
             < i d > V I D E O _ S T O R E < / i d > 
 
             < s t o r e I n f o > 
 
                 < s t o r e S t r I D > V I D _ S T O R E _ S T R < / s t o r e S t r I D > 
 
                 < n a m e S t r I D > V I D _ H O M E _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > v i d e o s t o r e . x m l < / p a r a m 2 > 
 
             < / s t o r e I n f o > 
 
         < / s t o r e > 
 
         < s t o r e > 
 
             < i d > V I D E O _ S T O R E _ L 2 < / i d > 
 
             < s t o r e I n f o > 
 
                 < s t o r e S t r I D > V I D _ S T O R E _ S T R < / s t o r e S t r I D > 
 
                 < n a m e S t r I D > V I D _ H O M E _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > v i d e o s t o r e L 2 . x m l < / p a r a m 2 > 
 
             < / s t o r e I n f o > 
 
         < / s t o r e > 
 
         < s t o r e > 
 
             < i d > V I D E O _ S T O R E _ L 3 < / i d > 
 
             < s t o r e I n f o > 
 
                 < s t o r e S t r I D > V I D _ S T O R E _ S T R < / s t o r e S t r I D > 
 
                 < n a m e S t r I D > V I D _ H O M E _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > v i d e o s t o r e L 3 . x m l < / p a r a m 2 > 
 
             < / s t o r e I n f o > 
 
         < / s t o r e > 
 
     < / s t o r e s > 
 
 
 
     < d e p t s > 
 
         < d e p t > 
 
             < i d > M O S T _ P O P U L A R _ G A M E S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > M O S T _ P O P U L A R _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > G a m e s P o p u l a r D e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > N E W _ A R R I V A L S _ G A M E S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > N E W _ A R R I V A L S _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > G a m e s N e w D e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > A R C A D E < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > A R C A D E _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > a r c a d e d e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > D E M O S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > D E M O S _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > d e m o s d e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > O R I G I N A L S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > O R I G I N A L S _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > x b o x o r i g i n a l s d e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > C O M _ G A M E S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > C O M _ G A M E S _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > x n a d e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > A D D _ O N S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > A D D _ O N S _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > a d d o n s d e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > G A M E _ V I D E O S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > G A M E _ V I D E O S _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > g a m e v i d e o s d e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > T H E M E S _ P I C S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > T H E M E S _ P I C S _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > t h e m e s a n d g a m e r p i c s d e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > M O S T _ P O P U L A R _ V I D E O S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > M O S T _ P O P U L A R _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > V i d e o s P o p u l a r D e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > N E W _ A R R I V A L S _ V I D E O S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > N E W _ A R R I V A L S _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > V i d e o N e w D e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > M O V I E S _ V I D E O S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > M O V I E S _ V I D E O S _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > m o v i e s d e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > T V _ S H O W S _ V I D E O S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > T V _ S H O W S _ V I D E O S _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > t v d e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > M U S I C _ V I D E O S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > M U S I C _ V I D E O S _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > m u s i c v i d e o s d e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > I N D Y _ V I D E O S < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > I N D Y _ V I D E O S _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > I n d y V i d e o s D e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
         < d e p t > 
 
             < i d > M U S I C _ V I D E O S _ M O R E < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > M U S I C _ V I D E O S _ M O R E _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > N a v i g a t e T o C h a n n e l < / p a r a m > 
 
                 < p a r a m 2 > M u s i c M o r e D e p t . x m l < / p a r a m 2 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
 
 
         < d e p t > 
 
             < i d > N E T F L I X < / i d > 
 
             < d e p t I n f o > 
 
                 < n a m e S t r I D > N E T F L I X _ S T R < / n a m e S t r I D > 
 
                 < c m d > E c N a v M a r k e t p l a c e S c r i p t A c t i o n < / c m d > 
 
                 < p a r a m > L a u n c h M a r k e t p l a c e C o n t e n t < / p a r a m > 
 
                 < P a r a m 2 > 0 < / P a r a m 2 > 
 
                 < P a r a m 3 > 0 < / P a r a m 3 > 
 
                 < P a r a m 4 > 0 < / P a r a m 4 > 
 
             < / d e p t I n f o > 
 
         < / d e p t > 
 
     < / d e p t s > 
 
 
 
     < t a x M a p > 
 
         < t a x o n o m y > 
 
             < i d > F U L L _ V I D _ M K T P L < / i d > 
 
             < t a x C o u n t r i e s > 
 
                 < c I D > 1 0 3 _ U N I T E D _ S T A T E S < / c I D > 
 
             < / t a x C o u n t r i e s > 
 
         < / t a x o n o m y > 
 
         < t a x o n o m y > 
 
             < i d > M O V I E S _ V I D _ M K T P L < / i d > 
 
             < t a x C o u n t r i e s > 
 
                 < c I D > 1 6 _ C A N A D A < / c I D > 
 
                 < c I D > 2 4 _ G E R M A N Y < / c I D > 
 
                 < c I D > 3 1 _ S P A I N < / c I D > 
 
                 < c I D > 3 4 _ F R A N C E < / c I D > 
 
                 < c I D > 3 5 _ G R E A T _ B R I T A I N < / c I D > 
 
                 < c I D > 4 4 _ I R E L A N D < / c I D > 
 
                 < c I D > 5 0 _ I T A L Y < / c I D > 
 
             < / t a x C o u n t r i e s > 
 
         < / t a x o n o m y > 
 
         < t a x o n o m y > 
 
             < i d > N O _ V I D _ M K T P L < / i d > 
 
             < t a x C o u n t r i e s > 
 
                 < c I D > 5 _ A U S T R I A < / c I D > 
 
                 < c I D > 6 _ A U S T R A L I A < / c I D > 
 
                 < c I D > 8 _ B E L G I U M < / c I D > 
 
                 < c I D > 1 8 _ S W I T Z E R L A N D < / c I D > 
 
                 < c I D > 2 0 _ C H I N A < / c I D > 
 
                 < c I D > 2 5 _ D E N M A R K < / c I D > 
 
                 < c I D > 3 2 _ F I N L A N D < / c I D > 
 
                 < c I D > 3 9 _ H O N G _ K O N G < / c I D > 
 
                 < c I D > 4 6 _ I N D I A < / c I D > 
 
                 < c I D > 5 3 _ J A P A N < / c I D > 
 
                 < c I D > 5 6 _ K O R E A < / c I D > 
 
                 < c I D > 7 1 _ M E X I C O < / c I D > 
 
                 < c I D > 7 4 _ N E T H E R L A N D S < / c I D > 
 
                 < c I D > 7 5 _ N O R W A Y < / c I D > 
 
                 < c I D > 7 6 _ N E W _ Z E A L A N D < / c I D > 
 
                 < c I D > 8 4 _ P O R T U G A L < / c I D > 
 
                 < c I D > 9 0 _ S W E D E N < / c I D > 
 
                 < c I D > 9 1 _ S I N G A P O R E < / c I D > 
 
                 < c I D > 1 0 1 _ T A I W A N < / c I D > 
 
             < / t a x C o u n t r i e s > 
 
         < / t a x o n o m y > 
 
     < / t a x M a p > 
 
     < s t r i n g T a b l e > 
 
         < s t r i n g > 
 
             < i d > G A M E _ S T O R E _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > G a m e   M a r k e t p l a c e < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > G a m e   M a r k e t p l a c e < / G E R _ 3 > 
 
                 < F R E _ 4 > G a m e   M a r k e t p l a c e < / F R E _ 4 > 
 
                 < S P A _ 5 > G a m e   M a r k e t p l a c e < / S P A _ 5 > 
 
                 < I T A _ 6 > G a m e   M a r k e t p l a c e < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > G a m e   M a r k e t p l a c e < / P O R _ 9 > 
 
                 < S W E _ 1 0 > G a m e   M a r k e t p l a c e < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > G a m e   M a r k e t p l a c e < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > G a m e   M a r k e t p l a c e < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > G a m e   M a r k e t p l a c e < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > G a m e   M a r k e t p l a c e < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > G A M E _ H O M E _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > G a m e   M a r k e t p l a c e   H o m e < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > G a m e   M a r k e t p l a c e   H o m e < / G E R _ 3 > 
 
                 < F R E _ 4 > G a m e   M a r k e t p l a c e   H o m e   < / F R E _ 4 > 
 
                 < S P A _ 5 > G a m e   M a r k e t p l a c e   H o m e   < / S P A _ 5 > 
 
                 < I T A _ 6 > G a m e   M a r k e t p l a c e   H o m e   < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > G a m e   M a r k e t p l a c e   H o m e   < / P O R _ 9 > 
 
                 < S W E _ 1 0 > G a m e   M a r k e t p l a c e   H o m e   < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > G a m e   M a r k e t p l a c e   H o m e   < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > G a m e   M a r k e t p l a c e   H o m e   < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > G a m e   M a r k e t p l a c e   H o m e   < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > G a m e   M a r k e t p l a c e   H o m e   < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > V I D _ S T O R E _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > V i d e o   M a r k e t p l a c e < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > V i d e o   M a r k e t p l a c e < / G E R _ 3 > 
 
                 < F R E _ 4 > V i d e o   M a r k e t p l a c e < / F R E _ 4 > 
 
                 < S P A _ 5 > V i d e o   M a r k e t p l a c e < / S P A _ 5 > 
 
                 < I T A _ 6 > V i d e o   M a r k e t p l a c e < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > V i d e o   M a r k e t p l a c e < / P O R _ 9 > 
 
                 < S W E _ 1 0 > V i d e o   M a r k e t p l a c e < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > V i d e o   M a r k e t p l a c e < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > V i d e o   M a r k e t p l a c e < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > V i d e o   M a r k e t p l a c e < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > V i d e o   M a r k e t p l a c e < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > V I D _ H O M E _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > V i d e o   M a r k e t p l a c e   H o m e < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > V i d e o   M a r k e t p l a c e   H o m e < / G E R _ 3 > 
 
                 < F R E _ 4 > V i d e o   M a r k e t p l a c e   H o m e < / F R E _ 4 > 
 
                 < S P A _ 5 > V i d e o   M a r k e t p l a c e   H o m e < / S P A _ 5 > 
 
                 < I T A _ 6 > V i d e o   M a r k e t p l a c e   H o m e < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > V i d e o   M a r k e t p l a c e   H o m e < / P O R _ 9 > 
 
                 < S W E _ 1 0 > V i d e o   M a r k e t p l a c e   H o m e < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > V i d e o   M a r k e t p l a c e   H o m e < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > V i d e o   M a r k e t p l a c e   H o m e < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > V i d e o   M a r k e t p l a c e   H o m e < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > V i d e o   M a r k e t p l a c e   H o m e < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > M O S T _ P O P U L A R _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > M o s t   P o p u l a r < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > M o s t   P o p u l a r < / G E R _ 3 > 
 
                 < F R E _ 4 > M o s t   P o p u l a r < / F R E _ 4 > 
 
                 < S P A _ 5 > M o s t   P o p u l a r < / S P A _ 5 > 
 
                 < I T A _ 6 > M o s t   P o p u l a r < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > M o s t   P o p u l a r < / P O R _ 9 > 
 
                 < S W E _ 1 0 > M o s t   P o p u l a r < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > M o s t   P o p u l a r < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > M o s t   P o p u l a r < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > M o s t   P o p u l a r < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > M o s t   P o p u l a r < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > N E W _ A R R I V A L S _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > N e w   A r r i v a l s < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > N e w   A r r i v a l s < / G E R _ 3 > 
 
                 < F R E _ 4 > N e w   A r r i v a l s < / F R E _ 4 > 
 
                 < S P A _ 5 > N e w   A r r i v a l s < / S P A _ 5 > 
 
                 < I T A _ 6 > N e w   A r r i v a l s < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > N e w   A r r i v a l s < / P O R _ 9 > 
 
                 < S W E _ 1 0 > N e w   A r r i v a l s < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > N e w   A r r i v a l s < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > N e w   A r r i v a l s < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > N e w   A r r i v a l s < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > N e w   A r r i v a l s < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > A R C A D E _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > A r c a d e < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > A r c a d e < / G E R _ 3 > 
 
                 < F R E _ 4 > A r c a d e < / F R E _ 4 > 
 
                 < S P A _ 5 > A r c a d e < / S P A _ 5 > 
 
                 < I T A _ 6 > A r c a d e < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > A r c a d e < / P O R _ 9 > 
 
                 < S W E _ 1 0 > A r c a d e < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > A r c a d e < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > A r c a d e < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > A r c a d e < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > A r c a d e < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > D E M O S _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > D e m o s < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 >   D e m o s   < / G E R _ 3 > 
 
                 < F R E _ 4 >   D e m o s   < / F R E _ 4 > 
 
                 < S P A _ 5 >   D e m o s   < / S P A _ 5 > 
 
                 < I T A _ 6 >   D e m o s   < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 >   D e m o s   < / P O R _ 9 > 
 
                 < S W E _ 1 0 >   D e m o s   < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 >   D e m o s   < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 >   D e m o s   < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 >   D e m o s   < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 >   D e m o s   < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > O R I G I N A L S _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > O r i g i n a l s < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 >   O r i g i n a l s   < / G E R _ 3 > 
 
                 < F R E _ 4 >   O r i g i n a l s   < / F R E _ 4 > 
 
                 < S P A _ 5 >   O r i g i n a l s   < / S P A _ 5 > 
 
                 < I T A _ 6 >   O r i g i n a l s < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 >   O r i g i n a l s   < / P O R _ 9 > 
 
                 < S W E _ 1 0 >   O r i g i n a l s   < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 >   O r i g i n a l s   < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 >   O r i g i n a l s   < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 >   O r i g i n a l s   < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 >   O r i g i n a l s   < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > C O M _ G A M E S _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > C o m m u n i t y   G a m e s < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 >   C o m m u n i t y   G a m e s   < / G E R _ 3 > 
 
                 < F R E _ 4 >   C o m m u n i t y   G a m e s   < / F R E _ 4 > 
 
                 < S P A _ 5 >   C o m m u n i t y   G a m e s   < / S P A _ 5 > 
 
                 < I T A _ 6 >   C o m m u n i t y   G a m e s < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 >   C o m m u n i t y   G a m e s   < / P O R _ 9 > 
 
                 < S W E _ 1 0 >   C o m m u n i t y   G a m e s   < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 >   C o m m u n i t y   G a m e s   < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 >   C o m m u n i t y   G a m e s   < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 >   C o m m u n i t y   G a m e s   < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 >   C o m m u n i t y   G a m e s   < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > A D D _ O N S _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > A d d - O n s < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 >   A d d - O n s   < / G E R _ 3 > 
 
                 < F R E _ 4 >   A d d - O n s   < / F R E _ 4 > 
 
                 < S P A _ 5 >   A d d - O n s   < / S P A _ 5 > 
 
                 < I T A _ 6 >   A d d - O n s < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 >   A d d - O n s   < / P O R _ 9 > 
 
                 < S W E _ 1 0 >   A d d - O n s   < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 >   A d d - O n s   < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 >   A d d - O n s   < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 >   A d d - O n s   < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 >   A d d - O n s   < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > G A M E _ V I D E O S _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > G a m e   V i d e o s < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 >   G a m e   V i d e o s   < / G E R _ 3 > 
 
                 < F R E _ 4 >   G a m e   V i d e o s   < / F R E _ 4 > 
 
                 < S P A _ 5 >   G a m e   V i d e o s   < / S P A _ 5 > 
 
                 < I T A _ 6 >   G a m e   V i d e o s < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 >   G a m e   V i d e o s   < / P O R _ 9 > 
 
                 < S W E _ 1 0 >   G a m e   V i d e o s   < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 >   G a m e   V i d e o s   < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 >   G a m e   V i d e o s   < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 >   G a m e   V i d e o s   < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 >   G a m e   V i d e o s   < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > T H E M E S _ P I C S _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > T h e m e s   a n d   G a m e r   P i c t u r e s < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > T h e m e s   a n d   G a m e r   P i c t u r e s < / G E R _ 3 > 
 
                 < F R E _ 4 > T h e m e s   a n d   G a m e r   P i c t u r e s < / F R E _ 4 > 
 
                 < S P A _ 5 > T h e m e s   a n d   G a m e r   P i c t u r e s < / S P A _ 5 > 
 
                 < I T A _ 6 > T h e m e s   a n d   G a m e r   P i c t u r e s < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > T h e m e s   a n d   G a m e r   P i c t u r e s < / P O R _ 9 > 
 
                 < S W E _ 1 0 > T h e m e s   a n d   G a m e r   P i c t u r e s < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > T h e m e s   a n d   G a m e r   P i c t u r e s < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > T h e m e s   a n d   G a m e r   P i c t u r e s < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > T h e m e s   a n d   G a m e r   P i c t u r e s < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > T h e m e s   a n d   G a m e r   P i c t u r e s < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < I D > T V _ S H O W S _ V I D E O S _ S T R < / I D > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > T V   S h o w s < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > T V   S h o w s < / G E R _ 3 > 
 
                 < F R E _ 4 > T V   S h o w s < / F R E _ 4 > 
 
                 < S P A _ 5 > T V   S h o w s < / S P A _ 5 > 
 
                 < I T A _ 6 > T V   S h o w s < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > T V   S h o w s < / P O R _ 9 > 
 
                 < S W E _ 1 0 > T V   S h o w s < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > T V   S h o w s < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > T V   S h o w s < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > T V   S h o w s < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > T V   S h o w s < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > I N D Y _ V I D E O S _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > I n d e p e n d e n t   V i d e o s < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > I n d e p e n d e n t   V i d e o s < / G E R _ 3 > 
 
                 < F R E _ 4 > I n d e p e n d e n t   V i d e o s < / F R E _ 4 > 
 
                 < S P A _ 5 > I n d e p e n d e n t   V i d e o s < / S P A _ 5 > 
 
                 < I T A _ 6 > I n d e p e n d e n t   V i d e o s < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > I n d e p e n d e n t   V i d e o s < / P O R _ 9 > 
 
                 < S W E _ 1 0 > I n d e p e n d e n t   V i d e o s < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > I n d e p e n d e n t   V i d e o s < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > I n d e p e n d e n t   V i d e o s < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > I n d e p e n d e n t   V i d e o s < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > I n d e p e n d e n t   V i d e o s < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > M O V I E S _ V I D E O S _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > M o v i e s < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > M o v i e s < / G E R _ 3 > 
 
                 < F R E _ 4 > M o v i e s < / F R E _ 4 > 
 
                 < S P A _ 5 > M o v i e s < / S P A _ 5 > 
 
                 < I T A _ 6 > M o v i e s < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > M o v i e s < / P O R _ 9 > 
 
                 < S W E _ 1 0 > M o v i e s < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > M o v i e s < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > M o v i e s < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > M o v i e s < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > M o v i e s < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > M U S I C _ V I D E O S _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > M u s i c   V i d e o s < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > M u s i c   V i d e o s < / G E R _ 3 > 
 
                 < F R E _ 4 > M u s i c   V i d e o s < / F R E _ 4 > 
 
                 < S P A _ 5 > M u s i c   V i d e o s < / S P A _ 5 > 
 
                 < I T A _ 6 > M u s i c   V i d e o s < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > M u s i c   V i d e o s < / P O R _ 9 > 
 
                 < S W E _ 1 0 > M u s i c   V i d e o s < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > M u s i c   V i d e o s < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > M u s i c   V i d e o s < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > M u s i c   V i d e o s < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > M u s i c   V i d e o s < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > M U S I C _ V I D E O S _ M O R E _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > M u s i c ,   V i d e o s ,   a n d   M o r e < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > M u s i c ,   V i d e o s ,   a n d   M o r e < / G E R _ 3 > 
 
                 < F R E _ 4 > M u s i c ,   V i d e o s ,   a n d   M o r e < / F R E _ 4 > 
 
                 < S P A _ 5 > M u s i c ,   V i d e o s ,   a n d   M o r e < / S P A _ 5 > 
 
                 < I T A _ 6 > M u s i c ,   V i d e o s ,   a n d   M o r e < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > M u s i c ,   V i d e o s ,   a n d   M o r e < / P O R _ 9 > 
 
                 < S W E _ 1 0 > M u s i c ,   V i d e o s ,   a n d   M o r e < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > M u s i c ,   V i d e o s ,   a n d   M o r e < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > M u s i c ,   V i d e o s ,   a n d   M o r e < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > M u s i c ,   V i d e o s ,   a n d   M o r e < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > M u s i c ,   V i d e o s ,   a n d   M o r e < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g > 
 
         < s t r i n g > 
 
             < i d > N E T F L I X _ S T R < / i d > 
 
             < C o u n t r i e s > 
 
                 < E N G _ 1 > N e t f l i x < / E N G _ 1 > 
 
                 < J A P _ 2 > ? ? ? ? ? < / J A P _ 2 > 
 
                 < G E R _ 3 > N e t f l i x < / G E R _ 3 > 
 
                 < F R E _ 4 > N e t f l i x < / F R E _ 4 > 
 
                 < S P A _ 5 > N e t f l i x < / S P A _ 5 > 
 
                 < I T A _ 6 > N e t f l i x < / I T A _ 6 > 
 
                 < K O R _ 7 > ? ? ? ? < / K O R _ 7 > 
 
                 < T C H _ 8 > ? ? < / T C H _ 8 > 
 
                 < P O R _ 9 > N e t f l i x < / P O R _ 9 > 
 
                 < S W E _ 1 0 > N e t f l i x < / S W E _ 1 0 > 
 
                 < N O R _ 1 1 > N e t f l i x < / N O R _ 1 1 > 
 
                 < D A N _ 1 2 > N e t f l i x < / D A N _ 1 2 > 
 
                 < D U T _ 1 3 > N e t f l i x < / D U T _ 1 3 > 
 
                 < F I N _ 1 4 > N e t f l i x < / F I N _ 1 4 > 
 
             < / C o u n t r i e s > 
 
         < / s t r i n g >         
 
     < / s t r i n g T a b l e > 
 
 < / R o o t N o d e > 
 
 
 
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\obj\i386\_asmid.xml ===
ï»¿<assembly xmlns='urn:schemas-microsoft-com:asm.v1' manifestVersion='1.0'>
<assemblyIdentity  name="dspfilevalidatortesting" processorArchitecture="msil" version="12.4.56.0"/>
</assembly>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\objd\i386\_asmid.xml ===
ï»¿<assembly xmlns='urn:schemas-microsoft-com:asm.v1' manifestVersion='1.0'>
<assemblyIdentity  name="dspfilevalidatortesting" processorArchitecture="msil" version="12.4.56.0"/>
</assembly>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\XmlTestFiles\Invalid\StorePickerInvalidCountryID.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
 <mktpl>
  <tax>
   <taxID>FULL_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
      <deptID>ARCADE</deptID>
      <deptID>ADD_ONS</deptID>
      <deptID>ORIGINALS</deptID>
      <deptID>THEMES_PICS</deptID>
      <deptID>COM_GAMES</deptID>
      <deptID>DEMOS</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_GAMES</deptID>
      <deptID>NEW_ARRIVALS_GAMES</deptID>
      <deptID>ALL_GAMES</deptID> 
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_SHOWS_VIDEOS</deptID>
      <deptID>NETFLIX</deptID>
      <deptID>MUSIC_VIDEOS</deptID>
      <deptID>INDY_VIDEOS</deptID>
      <deptID>GAME_VIDEOS</deptID>            
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>MOVIES_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>COM_GAMES</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L3</storeID>
     <deptList>
      <deptID>MOVIES_SHORT_FILMS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_COM_GAMES</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
 </mktpl>

 <stores>
  <store>
   <id>GAME_STORE</id>
   <storeInfo>
    <storeStrID>GAME_STORE_STR</storeStrID>
    <nameStrID>GAME_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamestore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L2</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L3</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
 </stores>

 <depts>
  <dept>
   <id>MOST_POPULAR_GAMES</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_GAMES</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ARCADE</id>
   <deptInfo>
    <nameStrID>ARCADE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>arcadedept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>DEMOS</id>
   <deptInfo>
    <nameStrID>DEMOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>demosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ORIGINALS</id>
   <deptInfo>
    <nameStrID>ORIGINALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xboxoriginalsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>COM_GAMES</id>
   <deptInfo>
    <nameStrID>COM_GAMES_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xnadept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ADD_ONS</id>
   <deptInfo>
    <nameStrID>ADD_ONS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>addonsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>GAME_VIDEOS</id>
   <deptInfo>
    <nameStrID>GAME_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamevideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>THEMES_PICS</id>
   <deptInfo>
    <nameStrID>THEMES_PICS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>themesandgamerpicsdept.xml</param2>
   </deptInfo>
  </dept>
   <dept>
     <id>ALL_GAMES</id>
     <deptInfo>
       <nameStrID>ALL_GAMES_STR</nameStrID>
       <cmd>EcNavMarketplaceScriptAction</cmd>
       <param>BrowseUI</param>
       <param2>Browse_GameStore</param2>
     </deptInfo>
   </dept>   
  <dept>
   <id>MOST_POPULAR_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_VIDEOS</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>moviesdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_SHOWS_VIDEOS</id>
   <deptInfo>
    <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>tvdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MUSIC_VIDEOS</id>
   <deptInfo>
    <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>musicvideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>INDY_VIDEOS</id>
   <deptInfo>
    <nameStrID>INDY_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>IndyVideosDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_MUSIC_VIDEOS_MORE</id>
   <deptInfo>
    <nameStrID>TV_MUSIC_VIDEOS_MORE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>TVMusicMoreDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_SHORT_FILMS</id>
   <deptInfo>
    <nameStrID>MOVIES_SHORT_FILMS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>MoviesShortFilmsDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NETFLIX</id>
   <deptInfo>
    <nameStrID>NETFLIX_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>LaunchMarketplaceContent</param>
    <param2>00000003-0000-4000-8000-0000584807D5</param2>
    <param3>60</param3>
    <param4>8778403792F0046981C05EB13B715E8CFBCF31D458</param4>
   </deptInfo>
  </dept>
 </depts>
 <taxMap>
  <taxonomy>
   <id>FULL_VID_MKTPL</id>
   <taxCountries>
    <cID>103_UNITED_STATES_INVALID_BECAUSE_I_ADDED_THIS</cID>
   </taxCountries>
  </taxonomy>
  <taxonomy>
   <id>MOVIES_VID_MKTPL</id>
   <taxCountries>
    <cID>16_CANADA</cID>
    <cID>31_SPAIN</cID>
    <cID>34_FRANCE</cID>
    <cID>35_GREAT_BRITAIN</cID>
    <cID>50_ITALY</cID>
   </taxCountries>
  </taxonomy>
   <taxonomy>
     <id>NO_COM_GAMES</id>
     <taxCountries>
       <cID>24_GERMANY</cID>
       <cID>44_IRELAND</cID>       
     </taxCountries>
   </taxonomy>
   <taxonomy>
   <id>NO_VID_MKTPL</id>
   <taxCountries>
    <cID>5_AUSTRIA</cID>
    <cID>6_AUSTRALIA</cID>
    <cID>8_BELGIUM</cID>
    <cID>18_SWITZERLAND</cID>
    <cID>20_CHINA</cID>
    <cID>25_DENMARK</cID>
    <cID>32_FINLAND</cID>
    <cID>39_HONG_KONG</cID>
    <cID>46_INDIA</cID>
    <cID>53_JAPAN</cID>
    <cID>56_KOREA</cID>
    <cID>71_MEXICO</cID>
    <cID>74_NETHERLANDS</cID>
    <cID>75_NORWAY</cID>
    <cID>76_NEW_ZEALAND</cID>
    <cID>84_PORTUGAL</cID>
    <cID>90_SWEDEN</cID>
    <cID>91_SINGAPORE</cID>
    <cID>101_TAIWAN</cID>
   </taxCountries>
  </taxonomy>
 </taxMap>
 <stringTable>
  <language>
   <id>ENG_1</id>
   <strings>
    <string>
     <id>GAME_STORE_STR</id>
     <val>Games</val>
    </string>
    <string>
     <id>GAME_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>VID_STORE_STR</id>
     <val>Video</val>
    </string>
    <string>
     <id>VID_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>MOST_POPULAR_STR</id>
     <val>Most Popular</val>
    </string>
    <string>
     <id>NEW_ARRIVALS_STR</id>
     <val>New Arrivals</val>
    </string>
    <string>
     <id>ARCADE_STR</id>
     <val>Arcade</val>
    </string>
    <string>
     <id>DEMOS_STR</id>
     <val>Game Demos</val>
    </string>
    <string>
     <id>ORIGINALS_STR</id>
     <val>Xbox Originals</val>
    </string>
    <string>
     <id>COM_GAMES_STR</id>
     <val>Community Games</val>
    </string>
    <string>
     <id>ADD_ONS_STR</id>
     <val>Game Add-ons</val>
    </string>
    <string>
     <id>GAME_VIDEOS_STR</id>
     <val>Game Videos</val>
    </string>
    <string>
     <id>THEMES_PICS_STR</id>
     <val>Themes &amp; Gamer Pictures</val>
    </string>
    <string>
     <id>TV_SHOWS_VIDEOS_STR</id>
     <val>TV Shows</val>
    </string>
    <string>
     <id>INDY_VIDEOS_STR</id>
     <val>Independent Videos</val>
    </string>
    <string>
     <id>MOVIES_VIDEOS_STR</id>
     <val>Movies</val>
    </string>
    <string>
     <id>MUSIC_VIDEOS_STR</id>
     <val>Music Videos</val>
    </string>
    <string>
     <id>TV_MUSIC_VIDEOS_MORE_STR</id>
     <val>TV, Music Videos, &amp; More</val>
    </string>
    <string>
     <id>MOVIES_SHORT_FILMS_STR</id>
     <val>Movies &amp; Short Films</val>
    </string>
    <string>
     <id>NETFLIX_STR</id>
     <val>Netflix</val>
    </string>
     <string>
       <id>ALL_GAMES_STR</id>
       <val>All Games</val>
     </string>
   </strings>
  </language>
      <language>
     <id>JPN_2</id>
        <strings>
          <string>
            <id>GAME_STORE_STR</id>
            <val>ã²ã¼ã </val>
          </string>
          <string>
            <id>GAME_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>VID_STORE_STR</id>
            <val>ãããª</val>
          </string>
          <string>
            <id>VID_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>MOST_POPULAR_STR</id>
            <val>äººæ°ã®ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>NEW_ARRIVALS_STR</id>
            <val>æ°ç</val>
          </string>
          <string>
            <id>ARCADE_STR</id>
            <val>ã¢ã¼ã±ã¼ã</val>
          </string>
          <string>
            <id>DEMOS_STR</id>
            <val>ã²ã¼ã ã®ãã¢</val>
          </string>
          <string>
            <id>ORIGINALS_STR</id>
            <val>Xbox ã¯ã©ã·ãã¯ã¹</val>
          </string>
          <string>
            <id>COM_GAMES_STR</id>
            <val>ã³ãã¥ããã£ã¼ ã²ã¼ã </val>
          </string>
          <string>
            <id>ADD_ONS_STR</id>
            <val>ã²ã¼ã è¿½å ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>GAME_VIDEOS_STR</id>
            <val>ã²ã¼ã ã®æ å</val>
          </string>
          <string>
            <id>THEMES_PICS_STR</id>
            <val>ãã¼ã &amp; ã²ã¼ãã¼ ã¢ã¤ã³ã³</val>
          </string>
          <string>
            <id>TV_SHOWS_VIDEOS_STR</id>
            <val>ãã¬ãçªçµ</val>
          </string>
          <string>
            <id>INDY_VIDEOS_STR</id>
            <val>ã²ã¼ã  ã³ãã¥ããã£ã¼ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_VIDEOS_STR</id>
            <val>æ ç»</val>
          </string>
          <string>
            <id>MUSIC_VIDEOS_STR</id>
            <val>ãã¥ã¼ã¸ãã¯ ãããª</val>
          </string>
          <string>
            <id>TV_MUSIC_VIDEOS_MORE_STR</id>
            <val>ãã®ä»ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_SHORT_FILMS_STR</id>
            <val>æ ç» &amp; ç­ç·¨ãããª</val>
          </string>
          <string>
            <id>NETFLIX_STR</id>
            <val>Netflix</val>
          </string>
          <string>
            <id>ALL_GAMES_STR</id>
            <val>ãã¹ã¦ã®ã²ã¼ã </val>
          </string>
        </strings>
   </language>
   <language>
     <id>DEU_3</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Spiele</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Die Beliebtesten</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Neu eingetroffen</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Spieldemos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Community-Spiele</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Spiel-Add-ons</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Spielvideos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Themen &amp; Spielerbilder</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Fernsehshows</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>UnabhÃ¤ngige Videos</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filme</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Musikvideos</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, Musikvideos &amp;  mehr</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filme &amp; Kurzfilme</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Alle Spiele</val>
       </string>
     </strings>
   </language>
   <language>
     <id>FRA_4</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jeux</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VidÃ©o</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Les plus tÃ©lÃ©chargÃ©es</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>NouveautÃ©s</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>DÃ©mos de jeux</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Jeux de la 1re Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jeux de la communautÃ©</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Extensions de jeux</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VidÃ©os de jeux</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ThÃ¨mes et images de joueur</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmes de tÃ©lÃ©vision</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VidÃ©os indÃ©pendantes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Films</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VidÃ©os musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, vidÃ©os musicales et autres</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Films et courts mÃ©trages</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tous les jeux</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ESP_5</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Juegos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Los mÃ¡s populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuevas llegadas</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de juegos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Originales Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Juegos de la comunidad</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de juego</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de juegos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e imÃ¡genes de jugador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos independientes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>PelÃ­culas</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TelevisiÃ³n, vÃ­deos musicales y mucho mÃ¡s</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>PelÃ­culas y cortometrajes</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos los juegos</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ITA_6</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Giochi</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>I piÃ¹ popolari</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuovi arrivi</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demo dei giochi</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Original</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Giochi dalla Community</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Add-on dei giochi</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Video dei giochi</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temi e immagini del giocatore</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmi TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Video indipendenti</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Film</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Video musicali</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, video musicali e altro</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Film e cortometraggi</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tutti i giochi</val>
       </string>
     </strings>
   </language>
   <language>
     <id>KOR_7</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ê²ì</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ë¹ëì¤</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>ì¸ê¸° í­ëª©</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ì ì</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ê²ì ë°ëª¨</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox 1</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ì»¤ë®¤ëí° ê²ì</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ê²ì ì¶ê° ì½íì¸ </val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ê²ì ë¹ëì¤</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>íë§ ë° ê²ì´ë¨¸ ì¬ì§</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>TV íë¡ê·¸ë¨</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ê°ì¸ ì ì ë¹ëì¤</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>ìí</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ë®¤ì§ ë¹ëì¤</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV ë®¤ì§ ë¹ëì¤ ë° ê¸°í ë±ë±</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>ìí ë° ë¨í¸ ìí</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ëª¨ë  ê²ì</val>
       </string>
     </strings>
   </language>
   <language>
     <id>TWN_8</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>éæ²</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>å½±ç</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>æåæ­¡è¿</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>æ°é®®è²¨</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>éæ²ç¤ºç¯</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox ç¬¬ä¸ä»£éæ²</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ç¤¾ç¾¤éæ²</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>éæ²éå åè½</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>éæ²å½±ç</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ä¸»é¡åç©å®¶åç¤º</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>é»è¦ç¯ç®</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ç¨ç«è£½ç</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>é»å½±</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>é³æ¨å½±ç</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>é»è¦ç¯ç®ãé³æ¨å½±çåæ´å¤å§å®¹</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>é»å½±åç­ç</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ææéæ²</val>
       </string>
     </strings>
   </language>
   <language>
     <id>PTB_9</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jogos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Mais Populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>LanÃ§amentos</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de Jogos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originais</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jogos da Comunidade</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de Jogos</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de Jogos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e Imagens do Jogador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos Independentes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmes</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos de MÃºsicas</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, VÃ­deos de MÃºsicas e Muito Mais</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmes e Curtas-metragens</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos os Jogos</val>
       </string>
     </strings>
   </language>
      <language>
     <id>POL_11</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Gry</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Wideo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Najpopularniejsze</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nowe propozycje</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Wersje demonstracyjne gier</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Gry na konsolÄ Xbox 1. generacji</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Gry spoÅecznoÅciowe</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Dodatki do gier</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Wideo z gier</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Kompozycje i obrazki gracza</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Seriale</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Filmy niezaleÅ¼ne</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmy</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Teledyski</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, teledyski i inne</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmy zwykÅe i krÃ³tkometraÅ¼owe</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Wszystkie gry</val>
       </string>
     </strings>
   </language>
   <language>
     <id>RUS_12</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ÐÐ³ÑÑ</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Ð¡Ð°Ð¼ÑÐµ Ð¿Ð¾Ð¿ÑÐ»ÑÑÐ½ÑÐµ</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ÐÐ¾Ð²ÑÐµ Ð¿Ð¾ÑÑÑÐ¿Ð»ÐµÐ½Ð¸Ñ</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>ÐÑÐºÐ°Ð´Ð½Ð°Ñ Ð¸Ð³ÑÐ°</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ÐÐµÐ¼Ð¾-Ð²ÐµÑÑÐ¸Ð¸ Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ÐÐ³ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÑÑÐ²Ð°</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÑ Ðº Ð¸Ð³ÑÐ°Ð¼</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾ Ð¸Ð· Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Ð¢ÐµÐ¼Ñ Ð¸ ÐºÐ°ÑÑÐ¸Ð½ÐºÐ¸ Ð¸Ð³ÑÐ¾ÐºÐ¾Ð²</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼ÑÐµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ÐÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸, Ð¼ÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ðµ Ð´ÑÑÐ³Ð¾Ðµ</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ Ð¸ ÐºÐ¾ÑÐ¾ÑÐºÐ¾Ð¼ÐµÑÑÐ°Ð¶Ð½ÑÐµ ÑÐ¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ÐÑÐµ Ð¸Ð³ÑÑ</val>
       </string>
     </strings>
   </language>
 </stringTable>
 </RootNode>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\XmlTestFiles\Invalid\StorePickerInvalid3SF.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
 <mktpl>
  <tax>
   <taxID>FULL_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
      <deptID>ARCADE</deptID>
      <deptID>ADD_ONS</deptID>
      <deptID>ORIGINALS</deptID>
      <deptID>THEMES_PICS</deptID>
      <deptID>COM_GAMES</deptID>
      <deptID>DEMOS</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_GAMES</deptID>
      <deptID>NEW_ARRIVALS_GAMES</deptID>
      <deptID>ALL_GAMES</deptID> 
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_SHOWS_VIDEOS</deptID>
      <deptID>NETFLIX</deptID>
      <deptID>MUSIC_VIDEOS</deptID>
      <deptID>INDY_VIDEOS</deptID>
      <deptID>GAME_VIDEOS</deptID>            
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
     <storeItem>
       <storeID>VIDEO_STORE</storeID>
       <deptList>
         <deptID>MOVIES_VIDEOS</deptID>
         <deptID>TV_SHOWS_VIDEOS</deptID>
         <deptID>NETFLIX</deptID>
         <deptID>MUSIC_VIDEOS</deptID>
         <deptID>INDY_VIDEOS</deptID>
         <deptID>GAME_VIDEOS</deptID>
         <deptID>MOST_POPULAR_VIDEOS</deptID>
         <deptID>NEW_ARRIVALS_VIDEOS</deptID>
       </deptList>
     </storeItem>     
   </storeList>
  </tax>
  <tax>
   <taxID>MOVIES_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>COM_GAMES</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L3</storeID>
     <deptList>
      <deptID>MOVIES_SHORT_FILMS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_COM_GAMES</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
 </mktpl>

 <stores>
  <store>
   <id>GAME_STORE</id>
   <storeInfo>
    <storeStrID>GAME_STORE_STR</storeStrID>
    <nameStrID>GAME_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamestore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L2</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L3</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
 </stores>

 <depts>
  <dept>
   <id>MOST_POPULAR_GAMES</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_GAMES</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ARCADE</id>
   <deptInfo>
    <nameStrID>ARCADE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>arcadedept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>DEMOS</id>
   <deptInfo>
    <nameStrID>DEMOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>demosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ORIGINALS</id>
   <deptInfo>
    <nameStrID>ORIGINALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xboxoriginalsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>COM_GAMES</id>
   <deptInfo>
    <nameStrID>COM_GAMES_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xnadept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ADD_ONS</id>
   <deptInfo>
    <nameStrID>ADD_ONS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>addonsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>GAME_VIDEOS</id>
   <deptInfo>
    <nameStrID>GAME_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamevideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>THEMES_PICS</id>
   <deptInfo>
    <nameStrID>THEMES_PICS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>themesandgamerpicsdept.xml</param2>
   </deptInfo>
  </dept>
   <dept>
     <id>ALL_GAMES</id>
     <deptInfo>
       <nameStrID>ALL_GAMES_STR</nameStrID>
       <cmd>EcNavMarketplaceScriptAction</cmd>
       <param>BrowseUI</param>
       <param2>Browse_GameStore</param2>
     </deptInfo>
   </dept>   
  <dept>
   <id>MOST_POPULAR_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_VIDEOS</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>moviesdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_SHOWS_VIDEOS</id>
   <deptInfo>
    <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>tvdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MUSIC_VIDEOS</id>
   <deptInfo>
    <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>musicvideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>INDY_VIDEOS</id>
   <deptInfo>
    <nameStrID>INDY_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>IndyVideosDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_MUSIC_VIDEOS_MORE</id>
   <deptInfo>
    <nameStrID>TV_MUSIC_VIDEOS_MORE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>TVMusicMoreDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_SHORT_FILMS</id>
   <deptInfo>
    <nameStrID>MOVIES_SHORT_FILMS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>MoviesShortFilmsDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NETFLIX</id>
   <deptInfo>
    <nameStrID>NETFLIX_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>LaunchMarketplaceContent</param>
    <param2>00000003-0000-4000-8000-0000584807D5</param2>
    <param3>60</param3>
    <param4>8778403792F0046981C05EB13B715E8CFBCF31D458</param4>
   </deptInfo>
  </dept>
 </depts>
 <taxMap>
  <taxonomy>
   <id>FULL_VID_MKTPL</id>
   <taxCountries>
    <cID>103_UNITED_STATES</cID>
   </taxCountries>
  </taxonomy>
  <taxonomy>
   <id>MOVIES_VID_MKTPL</id>
   <taxCountries>
    <cID>16_CANADA</cID>
    <cID>31_SPAIN</cID>
    <cID>34_FRANCE</cID>
    <cID>35_GREAT_BRITAIN</cID>
    <cID>50_ITALY</cID>
   </taxCountries>
  </taxonomy>
   <taxonomy>
     <id>NO_COM_GAMES</id>
     <taxCountries>
       <cID>24_GERMANY</cID>
       <cID>44_IRELAND</cID>       
     </taxCountries>
   </taxonomy>
   <taxonomy>
   <id>NO_VID_MKTPL</id>
   <taxCountries>
    <cID>5_AUSTRIA</cID>
    <cID>6_AUSTRALIA</cID>
    <cID>8_BELGIUM</cID>
    <cID>18_SWITZERLAND</cID>
    <cID>20_CHINA</cID>
    <cID>25_DENMARK</cID>
    <cID>32_FINLAND</cID>
    <cID>39_HONG_KONG</cID>
    <cID>46_INDIA</cID>
    <cID>53_JAPAN</cID>
    <cID>56_KOREA</cID>
    <cID>71_MEXICO</cID>
    <cID>74_NETHERLANDS</cID>
    <cID>75_NORWAY</cID>
    <cID>76_NEW_ZEALAND</cID>
    <cID>84_PORTUGAL</cID>
    <cID>90_SWEDEN</cID>
    <cID>91_SINGAPORE</cID>
    <cID>101_TAIWAN</cID>
   </taxCountries>
  </taxonomy>
 </taxMap>
 <stringTable>
  <language>
   <id>ENG_1</id>
   <strings>
    <string>
     <id>GAME_STORE_STR</id>
     <val>Games</val>
    </string>
    <string>
     <id>GAME_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>VID_STORE_STR</id>
     <val>Video</val>
    </string>
    <string>
     <id>VID_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>MOST_POPULAR_STR</id>
     <val>Most Popular</val>
    </string>
    <string>
     <id>NEW_ARRIVALS_STR</id>
     <val>New Arrivals</val>
    </string>
    <string>
     <id>ARCADE_STR</id>
     <val>Arcade</val>
    </string>
    <string>
     <id>DEMOS_STR</id>
     <val>Game Demos</val>
    </string>
    <string>
     <id>ORIGINALS_STR</id>
     <val>Xbox Originals</val>
    </string>
    <string>
     <id>COM_GAMES_STR</id>
     <val>Community Games</val>
    </string>
    <string>
     <id>ADD_ONS_STR</id>
     <val>Game Add-ons</val>
    </string>
    <string>
     <id>GAME_VIDEOS_STR</id>
     <val>Game Videos</val>
    </string>
    <string>
     <id>THEMES_PICS_STR</id>
     <val>Themes &amp; Gamer Pictures</val>
    </string>
    <string>
     <id>TV_SHOWS_VIDEOS_STR</id>
     <val>TV Shows</val>
    </string>
    <string>
     <id>INDY_VIDEOS_STR</id>
     <val>Independent Videos</val>
    </string>
    <string>
     <id>MOVIES_VIDEOS_STR</id>
     <val>Movies</val>
    </string>
    <string>
     <id>MUSIC_VIDEOS_STR</id>
     <val>Music Videos</val>
    </string>
    <string>
     <id>TV_MUSIC_VIDEOS_MORE_STR</id>
     <val>TV, Music Videos, &amp; More</val>
    </string>
    <string>
     <id>MOVIES_SHORT_FILMS_STR</id>
     <val>Movies &amp; Short Films</val>
    </string>
    <string>
     <id>NETFLIX_STR</id>
     <val>Netflix</val>
    </string>
     <string>
       <id>ALL_GAMES_STR</id>
       <val>All Games</val>
     </string>
   </strings>
  </language>
      <language>
     <id>JPN_2</id>
        <strings>
          <string>
            <id>GAME_STORE_STR</id>
            <val>ã²ã¼ã </val>
          </string>
          <string>
            <id>GAME_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>VID_STORE_STR</id>
            <val>ãããª</val>
          </string>
          <string>
            <id>VID_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>MOST_POPULAR_STR</id>
            <val>äººæ°ã®ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>NEW_ARRIVALS_STR</id>
            <val>æ°ç</val>
          </string>
          <string>
            <id>ARCADE_STR</id>
            <val>ã¢ã¼ã±ã¼ã</val>
          </string>
          <string>
            <id>DEMOS_STR</id>
            <val>ã²ã¼ã ã®ãã¢</val>
          </string>
          <string>
            <id>ORIGINALS_STR</id>
            <val>Xbox ã¯ã©ã·ãã¯ã¹</val>
          </string>
          <string>
            <id>COM_GAMES_STR</id>
            <val>ã³ãã¥ããã£ã¼ ã²ã¼ã </val>
          </string>
          <string>
            <id>ADD_ONS_STR</id>
            <val>ã²ã¼ã è¿½å ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>GAME_VIDEOS_STR</id>
            <val>ã²ã¼ã ã®æ å</val>
          </string>
          <string>
            <id>THEMES_PICS_STR</id>
            <val>ãã¼ã &amp; ã²ã¼ãã¼ ã¢ã¤ã³ã³</val>
          </string>
          <string>
            <id>TV_SHOWS_VIDEOS_STR</id>
            <val>ãã¬ãçªçµ</val>
          </string>
          <string>
            <id>INDY_VIDEOS_STR</id>
            <val>ã²ã¼ã  ã³ãã¥ããã£ã¼ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_VIDEOS_STR</id>
            <val>æ ç»</val>
          </string>
          <string>
            <id>MUSIC_VIDEOS_STR</id>
            <val>ãã¥ã¼ã¸ãã¯ ãããª</val>
          </string>
          <string>
            <id>TV_MUSIC_VIDEOS_MORE_STR</id>
            <val>ãã®ä»ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_SHORT_FILMS_STR</id>
            <val>æ ç» &amp; ç­ç·¨ãããª</val>
          </string>
          <string>
            <id>NETFLIX_STR</id>
            <val>Netflix</val>
          </string>
          <string>
            <id>ALL_GAMES_STR</id>
            <val>ãã¹ã¦ã®ã²ã¼ã </val>
          </string>
        </strings>
   </language>
   <language>
     <id>DEU_3</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Spiele</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Die Beliebtesten</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Neu eingetroffen</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Spieldemos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Community-Spiele</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Spiel-Add-ons</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Spielvideos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Themen &amp; Spielerbilder</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Fernsehshows</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>UnabhÃ¤ngige Videos</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filme</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Musikvideos</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, Musikvideos &amp;  mehr</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filme &amp; Kurzfilme</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Alle Spiele</val>
       </string>
     </strings>
   </language>
   <language>
     <id>FRA_4</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jeux</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VidÃ©o</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Les plus tÃ©lÃ©chargÃ©es</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>NouveautÃ©s</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>DÃ©mos de jeux</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Jeux de la 1re Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jeux de la communautÃ©</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Extensions de jeux</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VidÃ©os de jeux</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ThÃ¨mes et images de joueur</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmes de tÃ©lÃ©vision</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VidÃ©os indÃ©pendantes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Films</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VidÃ©os musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, vidÃ©os musicales et autres</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Films et courts mÃ©trages</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tous les jeux</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ESP_5</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Juegos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Los mÃ¡s populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuevas llegadas</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de juegos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Originales Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Juegos de la comunidad</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de juego</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de juegos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e imÃ¡genes de jugador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos independientes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>PelÃ­culas</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TelevisiÃ³n, vÃ­deos musicales y mucho mÃ¡s</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>PelÃ­culas y cortometrajes</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos los juegos</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ITA_6</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Giochi</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>I piÃ¹ popolari</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuovi arrivi</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demo dei giochi</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Original</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Giochi dalla Community</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Add-on dei giochi</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Video dei giochi</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temi e immagini del giocatore</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmi TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Video indipendenti</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Film</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Video musicali</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, video musicali e altro</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Film e cortometraggi</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tutti i giochi</val>
       </string>
     </strings>
   </language>
   <language>
     <id>KOR_7</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ê²ì</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ë¹ëì¤</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>ì¸ê¸° í­ëª©</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ì ì</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ê²ì ë°ëª¨</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox 1</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ì»¤ë®¤ëí° ê²ì</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ê²ì ì¶ê° ì½íì¸ </val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ê²ì ë¹ëì¤</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>íë§ ë° ê²ì´ë¨¸ ì¬ì§</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>TV íë¡ê·¸ë¨</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ê°ì¸ ì ì ë¹ëì¤</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>ìí</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ë®¤ì§ ë¹ëì¤</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV ë®¤ì§ ë¹ëì¤ ë° ê¸°í ë±ë±</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>ìí ë° ë¨í¸ ìí</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ëª¨ë  ê²ì</val>
       </string>
     </strings>
   </language>
   <language>
     <id>TWN_8</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>éæ²</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>å½±ç</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>æåæ­¡è¿</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>æ°é®®è²¨</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>éæ²ç¤ºç¯</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox ç¬¬ä¸ä»£éæ²</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ç¤¾ç¾¤éæ²</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>éæ²éå åè½</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>éæ²å½±ç</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ä¸»é¡åç©å®¶åç¤º</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>é»è¦ç¯ç®</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ç¨ç«è£½ç</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>é»å½±</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>é³æ¨å½±ç</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>é»è¦ç¯ç®ãé³æ¨å½±çåæ´å¤å§å®¹</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>é»å½±åç­ç</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ææéæ²</val>
       </string>
     </strings>
   </language>
   <language>
     <id>PTB_9</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jogos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Mais Populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>LanÃ§amentos</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de Jogos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originais</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jogos da Comunidade</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de Jogos</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de Jogos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e Imagens do Jogador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos Independentes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmes</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos de MÃºsicas</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, VÃ­deos de MÃºsicas e Muito Mais</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmes e Curtas-metragens</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos os Jogos</val>
       </string>
     </strings>
   </language>
      <language>
     <id>POL_11</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Gry</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Wideo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Najpopularniejsze</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nowe propozycje</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Wersje demonstracyjne gier</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Gry na konsolÄ Xbox 1. generacji</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Gry spoÅecznoÅciowe</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Dodatki do gier</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Wideo z gier</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Kompozycje i obrazki gracza</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Seriale</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Filmy niezaleÅ¼ne</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmy</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Teledyski</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, teledyski i inne</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmy zwykÅe i krÃ³tkometraÅ¼owe</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Wszystkie gry</val>
       </string>
     </strings>
   </language>
   <language>
     <id>RUS_12</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ÐÐ³ÑÑ</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Ð¡Ð°Ð¼ÑÐµ Ð¿Ð¾Ð¿ÑÐ»ÑÑÐ½ÑÐµ</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ÐÐ¾Ð²ÑÐµ Ð¿Ð¾ÑÑÑÐ¿Ð»ÐµÐ½Ð¸Ñ</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>ÐÑÐºÐ°Ð´Ð½Ð°Ñ Ð¸Ð³ÑÐ°</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ÐÐµÐ¼Ð¾-Ð²ÐµÑÑÐ¸Ð¸ Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ÐÐ³ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÑÑÐ²Ð°</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÑ Ðº Ð¸Ð³ÑÐ°Ð¼</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾ Ð¸Ð· Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Ð¢ÐµÐ¼Ñ Ð¸ ÐºÐ°ÑÑÐ¸Ð½ÐºÐ¸ Ð¸Ð³ÑÐ¾ÐºÐ¾Ð²</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼ÑÐµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ÐÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸, Ð¼ÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ðµ Ð´ÑÑÐ³Ð¾Ðµ</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ Ð¸ ÐºÐ¾ÑÐ¾ÑÐºÐ¾Ð¼ÐµÑÑÐ°Ð¶Ð½ÑÐµ ÑÐ¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ÐÑÐµ Ð¸Ð³ÑÑ</val>
       </string>
     </strings>
   </language>
 </stringTable>
 </RootNode>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\XmlTestFiles\Invalid\StorePickerInvalidDCmd.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
 <mktpl>
  <tax>
   <taxID>FULL_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
      <deptID>ARCADE</deptID>
      <deptID>ADD_ONS</deptID>
      <deptID>ORIGINALS</deptID>
      <deptID>THEMES_PICS</deptID>
      <deptID>COM_GAMES</deptID>
      <deptID>DEMOS</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_GAMES</deptID>
      <deptID>NEW_ARRIVALS_GAMES</deptID>
      <deptID>ALL_GAMES</deptID> 
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_SHOWS_VIDEOS</deptID>
      <deptID>NETFLIX</deptID>
      <deptID>MUSIC_VIDEOS</deptID>
      <deptID>INDY_VIDEOS</deptID>
      <deptID>GAME_VIDEOS</deptID>            
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>MOVIES_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>COM_GAMES</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L3</storeID>
     <deptList>
      <deptID>MOVIES_SHORT_FILMS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_COM_GAMES</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
 </mktpl>

 <stores>
  <store>
   <id>GAME_STORE</id>
   <storeInfo>
    <storeStrID>GAME_STORE_STR</storeStrID>
    <nameStrID>GAME_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamestore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L2</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L3</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
 </stores>

 <depts>
  <dept>
   <id>MOST_POPULAR_GAMES</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_GAMES</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ARCADE</id>
   <deptInfo>
    <nameStrID>ARCADE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>arcadedept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>DEMOS</id>
   <deptInfo>
    <nameStrID>DEMOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>demosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ORIGINALS</id>
   <deptInfo>
    <nameStrID>ORIGINALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xboxoriginalsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>COM_GAMES</id>
   <deptInfo>
    <nameStrID>COM_GAMES_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xnadept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ADD_ONS</id>
   <deptInfo>
    <nameStrID>ADD_ONS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>addonsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>GAME_VIDEOS</id>
   <deptInfo>
    <nameStrID>GAME_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamevideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>THEMES_PICS</id>
   <deptInfo>
    <nameStrID>THEMES_PICS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>themesandgamerpicsdept.xml</param2>
   </deptInfo>
  </dept>
   <dept>
     <id>ALL_GAMES</id>
     <deptInfo>
       <nameStrID>ALL_GAMES_STR</nameStrID>
       <cmd>EcNavMarketplaceScriptAction</cmd>
       <param>BrowseUI</param>
       <param2>Browse_GameStore</param2>
     </deptInfo>
   </dept>   
  <dept>
   <id>MOST_POPULAR_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_VIDEOS</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>moviesdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_SHOWS_VIDEOS</id>
   <deptInfo>
    <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>tvdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MUSIC_VIDEOS</id>
   <deptInfo>
    <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>musicvideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>INDY_VIDEOS</id>
   <deptInfo>
    <nameStrID>INDY_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>IndyVideosDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_MUSIC_VIDEOS_MORE</id>
   <deptInfo>
    <nameStrID>TV_MUSIC_VIDEOS_MORE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>TVMusicMoreDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_SHORT_FILMS</id>
   <deptInfo>
    <nameStrID>MOVIES_SHORT_FILMS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>MoviesShortFilmsDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NETFLIX</id>
   <deptInfo>
    <nameStrID>NETFLIX_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptActionZOMG</cmd>
    <param>LaunchMarketplaceContent</param>
    <param2>00000003-0000-4000-8000-0000584807D5</param2>
    <param3>60</param3>
    <param4>8778403792F0046981C05EB13B715E8CFBCF31D458</param4>
   </deptInfo>
  </dept>
 </depts>
 <taxMap>
  <taxonomy>
   <id>FULL_VID_MKTPL</id>
   <taxCountries>
    <cID>103_UNITED_STATES</cID>
   </taxCountries>
  </taxonomy>
  <taxonomy>
   <id>MOVIES_VID_MKTPL</id>
   <taxCountries>
    <cID>16_CANADA</cID>
    <cID>31_SPAIN</cID>
    <cID>34_FRANCE</cID>
    <cID>35_GREAT_BRITAIN</cID>
    <cID>50_ITALY</cID>
   </taxCountries>
  </taxonomy>
   <taxonomy>
     <id>NO_COM_GAMES</id>
     <taxCountries>
       <cID>24_GERMANY</cID>
       <cID>44_IRELAND</cID>       
     </taxCountries>
   </taxonomy>
   <taxonomy>
   <id>NO_VID_MKTPL</id>
   <taxCountries>
    <cID>5_AUSTRIA</cID>
    <cID>6_AUSTRALIA</cID>
    <cID>8_BELGIUM</cID>
    <cID>18_SWITZERLAND</cID>
    <cID>20_CHINA</cID>
    <cID>25_DENMARK</cID>
    <cID>32_FINLAND</cID>
    <cID>39_HONG_KONG</cID>
    <cID>46_INDIA</cID>
    <cID>53_JAPAN</cID>
    <cID>56_KOREA</cID>
    <cID>71_MEXICO</cID>
    <cID>74_NETHERLANDS</cID>
    <cID>75_NORWAY</cID>
    <cID>76_NEW_ZEALAND</cID>
    <cID>84_PORTUGAL</cID>
    <cID>90_SWEDEN</cID>
    <cID>91_SINGAPORE</cID>
    <cID>101_TAIWAN</cID>
   </taxCountries>
  </taxonomy>
 </taxMap>
 <stringTable>
  <language>
   <id>ENG_1</id>
   <strings>
    <string>
     <id>GAME_STORE_STR</id>
     <val>Games</val>
    </string>
    <string>
     <id>GAME_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>VID_STORE_STR</id>
     <val>Video</val>
    </string>
    <string>
     <id>VID_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>MOST_POPULAR_STR</id>
     <val>Most Popular</val>
    </string>
    <string>
     <id>NEW_ARRIVALS_STR</id>
     <val>New Arrivals</val>
    </string>
    <string>
     <id>ARCADE_STR</id>
     <val>Arcade</val>
    </string>
    <string>
     <id>DEMOS_STR</id>
     <val>Game Demos</val>
    </string>
    <string>
     <id>ORIGINALS_STR</id>
     <val>Xbox Originals</val>
    </string>
    <string>
     <id>COM_GAMES_STR</id>
     <val>Community Games</val>
    </string>
    <string>
     <id>ADD_ONS_STR</id>
     <val>Game Add-ons</val>
    </string>
    <string>
     <id>GAME_VIDEOS_STR</id>
     <val>Game Videos</val>
    </string>
    <string>
     <id>THEMES_PICS_STR</id>
     <val>Themes &amp; Gamer Pictures</val>
    </string>
    <string>
     <id>TV_SHOWS_VIDEOS_STR</id>
     <val>TV Shows</val>
    </string>
    <string>
     <id>INDY_VIDEOS_STR</id>
     <val>Independent Videos</val>
    </string>
    <string>
     <id>MOVIES_VIDEOS_STR</id>
     <val>Movies</val>
    </string>
    <string>
     <id>MUSIC_VIDEOS_STR</id>
     <val>Music Videos</val>
    </string>
    <string>
     <id>TV_MUSIC_VIDEOS_MORE_STR</id>
     <val>TV, Music Videos, &amp; More</val>
    </string>
    <string>
     <id>MOVIES_SHORT_FILMS_STR</id>
     <val>Movies &amp; Short Films</val>
    </string>
    <string>
     <id>NETFLIX_STR</id>
     <val>Netflix</val>
    </string>
     <string>
       <id>ALL_GAMES_STR</id>
       <val>All Games</val>
     </string>
   </strings>
  </language>
      <language>
     <id>JPN_2</id>
        <strings>
          <string>
            <id>GAME_STORE_STR</id>
            <val>ã²ã¼ã </val>
          </string>
          <string>
            <id>GAME_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>VID_STORE_STR</id>
            <val>ãããª</val>
          </string>
          <string>
            <id>VID_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>MOST_POPULAR_STR</id>
            <val>äººæ°ã®ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>NEW_ARRIVALS_STR</id>
            <val>æ°ç</val>
          </string>
          <string>
            <id>ARCADE_STR</id>
            <val>ã¢ã¼ã±ã¼ã</val>
          </string>
          <string>
            <id>DEMOS_STR</id>
            <val>ã²ã¼ã ã®ãã¢</val>
          </string>
          <string>
            <id>ORIGINALS_STR</id>
            <val>Xbox ã¯ã©ã·ãã¯ã¹</val>
          </string>
          <string>
            <id>COM_GAMES_STR</id>
            <val>ã³ãã¥ããã£ã¼ ã²ã¼ã </val>
          </string>
          <string>
            <id>ADD_ONS_STR</id>
            <val>ã²ã¼ã è¿½å ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>GAME_VIDEOS_STR</id>
            <val>ã²ã¼ã ã®æ å</val>
          </string>
          <string>
            <id>THEMES_PICS_STR</id>
            <val>ãã¼ã &amp; ã²ã¼ãã¼ ã¢ã¤ã³ã³</val>
          </string>
          <string>
            <id>TV_SHOWS_VIDEOS_STR</id>
            <val>ãã¬ãçªçµ</val>
          </string>
          <string>
            <id>INDY_VIDEOS_STR</id>
            <val>ã²ã¼ã  ã³ãã¥ããã£ã¼ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_VIDEOS_STR</id>
            <val>æ ç»</val>
          </string>
          <string>
            <id>MUSIC_VIDEOS_STR</id>
            <val>ãã¥ã¼ã¸ãã¯ ãããª</val>
          </string>
          <string>
            <id>TV_MUSIC_VIDEOS_MORE_STR</id>
            <val>ãã®ä»ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_SHORT_FILMS_STR</id>
            <val>æ ç» &amp; ç­ç·¨ãããª</val>
          </string>
          <string>
            <id>NETFLIX_STR</id>
            <val>Netflix</val>
          </string>
          <string>
            <id>ALL_GAMES_STR</id>
            <val>ãã¹ã¦ã®ã²ã¼ã </val>
          </string>
        </strings>
   </language>
   <language>
     <id>DEU_3</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Spiele</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Die Beliebtesten</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Neu eingetroffen</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Spieldemos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Community-Spiele</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Spiel-Add-ons</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Spielvideos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Themen &amp; Spielerbilder</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Fernsehshows</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>UnabhÃ¤ngige Videos</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filme</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Musikvideos</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, Musikvideos &amp;  mehr</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filme &amp; Kurzfilme</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Alle Spiele</val>
       </string>
     </strings>
   </language>
   <language>
     <id>FRA_4</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jeux</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VidÃ©o</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Les plus tÃ©lÃ©chargÃ©es</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>NouveautÃ©s</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>DÃ©mos de jeux</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Jeux de la 1re Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jeux de la communautÃ©</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Extensions de jeux</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VidÃ©os de jeux</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ThÃ¨mes et images de joueur</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmes de tÃ©lÃ©vision</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VidÃ©os indÃ©pendantes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Films</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VidÃ©os musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, vidÃ©os musicales et autres</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Films et courts mÃ©trages</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tous les jeux</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ESP_5</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Juegos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Los mÃ¡s populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuevas llegadas</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de juegos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Originales Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Juegos de la comunidad</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de juego</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de juegos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e imÃ¡genes de jugador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos independientes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>PelÃ­culas</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TelevisiÃ³n, vÃ­deos musicales y mucho mÃ¡s</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>PelÃ­culas y cortometrajes</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos los juegos</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ITA_6</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Giochi</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>I piÃ¹ popolari</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuovi arrivi</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demo dei giochi</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Original</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Giochi dalla Community</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Add-on dei giochi</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Video dei giochi</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temi e immagini del giocatore</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmi TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Video indipendenti</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Film</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Video musicali</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, video musicali e altro</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Film e cortometraggi</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tutti i giochi</val>
       </string>
     </strings>
   </language>
   <language>
     <id>KOR_7</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ê²ì</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ë¹ëì¤</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>ì¸ê¸° í­ëª©</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ì ì</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ê²ì ë°ëª¨</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox 1</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ì»¤ë®¤ëí° ê²ì</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ê²ì ì¶ê° ì½íì¸ </val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ê²ì ë¹ëì¤</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>íë§ ë° ê²ì´ë¨¸ ì¬ì§</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>TV íë¡ê·¸ë¨</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ê°ì¸ ì ì ë¹ëì¤</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>ìí</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ë®¤ì§ ë¹ëì¤</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV ë®¤ì§ ë¹ëì¤ ë° ê¸°í ë±ë±</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>ìí ë° ë¨í¸ ìí</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ëª¨ë  ê²ì</val>
       </string>
     </strings>
   </language>
   <language>
     <id>TWN_8</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>éæ²</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>å½±ç</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>æåæ­¡è¿</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>æ°é®®è²¨</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>éæ²ç¤ºç¯</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox ç¬¬ä¸ä»£éæ²</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ç¤¾ç¾¤éæ²</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>éæ²éå åè½</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>éæ²å½±ç</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ä¸»é¡åç©å®¶åç¤º</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>é»è¦ç¯ç®</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ç¨ç«è£½ç</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>é»å½±</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>é³æ¨å½±ç</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>é»è¦ç¯ç®ãé³æ¨å½±çåæ´å¤å§å®¹</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>é»å½±åç­ç</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ææéæ²</val>
       </string>
     </strings>
   </language>
   <language>
     <id>PTB_9</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jogos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Mais Populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>LanÃ§amentos</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de Jogos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originais</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jogos da Comunidade</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de Jogos</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de Jogos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e Imagens do Jogador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos Independentes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmes</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos de MÃºsicas</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, VÃ­deos de MÃºsicas e Muito Mais</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmes e Curtas-metragens</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos os Jogos</val>
       </string>
     </strings>
   </language>
      <language>
     <id>POL_11</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Gry</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Wideo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Najpopularniejsze</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nowe propozycje</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Wersje demonstracyjne gier</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Gry na konsolÄ Xbox 1. generacji</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Gry spoÅecznoÅciowe</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Dodatki do gier</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Wideo z gier</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Kompozycje i obrazki gracza</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Seriale</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Filmy niezaleÅ¼ne</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmy</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Teledyski</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, teledyski i inne</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmy zwykÅe i krÃ³tkometraÅ¼owe</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Wszystkie gry</val>
       </string>
     </strings>
   </language>
   <language>
     <id>RUS_12</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ÐÐ³ÑÑ</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Ð¡Ð°Ð¼ÑÐµ Ð¿Ð¾Ð¿ÑÐ»ÑÑÐ½ÑÐµ</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ÐÐ¾Ð²ÑÐµ Ð¿Ð¾ÑÑÑÐ¿Ð»ÐµÐ½Ð¸Ñ</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>ÐÑÐºÐ°Ð´Ð½Ð°Ñ Ð¸Ð³ÑÐ°</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ÐÐµÐ¼Ð¾-Ð²ÐµÑÑÐ¸Ð¸ Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ÐÐ³ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÑÑÐ²Ð°</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÑ Ðº Ð¸Ð³ÑÐ°Ð¼</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾ Ð¸Ð· Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Ð¢ÐµÐ¼Ñ Ð¸ ÐºÐ°ÑÑÐ¸Ð½ÐºÐ¸ Ð¸Ð³ÑÐ¾ÐºÐ¾Ð²</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼ÑÐµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ÐÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸, Ð¼ÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ðµ Ð´ÑÑÐ³Ð¾Ðµ</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ Ð¸ ÐºÐ¾ÑÐ¾ÑÐºÐ¾Ð¼ÐµÑÑÐ°Ð¶Ð½ÑÐµ ÑÐ¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ÐÑÐµ Ð¸Ð³ÑÑ</val>
       </string>
     </strings>
   </language>
 </stringTable>
 </RootNode>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\XmlTestFiles\Invalid\StorePickerInvalid1SF.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
 <mktpl>
  <tax>
   <taxID>FULL_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
      <deptID>ARCADE</deptID>
      <deptID>ADD_ONS</deptID>
      <deptID>ORIGINALS</deptID>
      <deptID>THEMES_PICS</deptID>
      <deptID>COM_GAMES</deptID>
      <deptID>DEMOS</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_GAMES</deptID>
      <deptID>NEW_ARRIVALS_GAMES</deptID>
      <deptID>ALL_GAMES</deptID> 
     </deptList>
    </storeItem>    
   </storeList>
  </tax>
  <tax>
   <taxID>MOVIES_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>COM_GAMES</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L3</storeID>
     <deptList>
      <deptID>MOVIES_SHORT_FILMS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_COM_GAMES</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
 </mktpl>

 <stores>
  <store>
   <id>GAME_STORE</id>
   <storeInfo>
    <storeStrID>GAME_STORE_STR</storeStrID>
    <nameStrID>GAME_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamestore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L2</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L3</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
 </stores>

 <depts>
  <dept>
   <id>MOST_POPULAR_GAMES</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_GAMES</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ARCADE</id>
   <deptInfo>
    <nameStrID>ARCADE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>arcadedept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>DEMOS</id>
   <deptInfo>
    <nameStrID>DEMOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>demosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ORIGINALS</id>
   <deptInfo>
    <nameStrID>ORIGINALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xboxoriginalsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>COM_GAMES</id>
   <deptInfo>
    <nameStrID>COM_GAMES_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xnadept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ADD_ONS</id>
   <deptInfo>
    <nameStrID>ADD_ONS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>addonsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>GAME_VIDEOS</id>
   <deptInfo>
    <nameStrID>GAME_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamevideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>THEMES_PICS</id>
   <deptInfo>
    <nameStrID>THEMES_PICS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>themesandgamerpicsdept.xml</param2>
   </deptInfo>
  </dept>
   <dept>
     <id>ALL_GAMES</id>
     <deptInfo>
       <nameStrID>ALL_GAMES_STR</nameStrID>
       <cmd>EcNavMarketplaceScriptAction</cmd>
       <param>BrowseUI</param>
       <param2>Browse_GameStore</param2>
     </deptInfo>
   </dept>   
  <dept>
   <id>MOST_POPULAR_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_VIDEOS</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>moviesdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_SHOWS_VIDEOS</id>
   <deptInfo>
    <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>tvdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MUSIC_VIDEOS</id>
   <deptInfo>
    <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>musicvideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>INDY_VIDEOS</id>
   <deptInfo>
    <nameStrID>INDY_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>IndyVideosDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_MUSIC_VIDEOS_MORE</id>
   <deptInfo>
    <nameStrID>TV_MUSIC_VIDEOS_MORE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>TVMusicMoreDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_SHORT_FILMS</id>
   <deptInfo>
    <nameStrID>MOVIES_SHORT_FILMS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>MoviesShortFilmsDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NETFLIX</id>
   <deptInfo>
    <nameStrID>NETFLIX_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>LaunchMarketplaceContent</param>
    <param2>00000003-0000-4000-8000-0000584807D5</param2>
    <param3>60</param3>
    <param4>8778403792F0046981C05EB13B715E8CFBCF31D458</param4>
   </deptInfo>
  </dept>
 </depts>
 <taxMap>
  <taxonomy>
   <id>FULL_VID_MKTPL</id>
   <taxCountries>
    <cID>103_UNITED_STATES</cID>
   </taxCountries>
  </taxonomy>
  <taxonomy>
   <id>MOVIES_VID_MKTPL</id>
   <taxCountries>
    <cID>16_CANADA</cID>
    <cID>31_SPAIN</cID>
    <cID>34_FRANCE</cID>
    <cID>35_GREAT_BRITAIN</cID>
    <cID>50_ITALY</cID>
   </taxCountries>
  </taxonomy>
   <taxonomy>
     <id>NO_COM_GAMES</id>
     <taxCountries>
       <cID>24_GERMANY</cID>
       <cID>44_IRELAND</cID>       
     </taxCountries>
   </taxonomy>
   <taxonomy>
   <id>NO_VID_MKTPL</id>
   <taxCountries>
    <cID>5_AUSTRIA</cID>
    <cID>6_AUSTRALIA</cID>
    <cID>8_BELGIUM</cID>
    <cID>18_SWITZERLAND</cID>
    <cID>20_CHINA</cID>
    <cID>25_DENMARK</cID>
    <cID>32_FINLAND</cID>
    <cID>39_HONG_KONG</cID>
    <cID>46_INDIA</cID>
    <cID>53_JAPAN</cID>
    <cID>56_KOREA</cID>
    <cID>71_MEXICO</cID>
    <cID>74_NETHERLANDS</cID>
    <cID>75_NORWAY</cID>
    <cID>76_NEW_ZEALAND</cID>
    <cID>84_PORTUGAL</cID>
    <cID>90_SWEDEN</cID>
    <cID>91_SINGAPORE</cID>
    <cID>101_TAIWAN</cID>
   </taxCountries>
  </taxonomy>
 </taxMap>
 <stringTable>
  <language>
   <id>ENG_1</id>
   <strings>
    <string>
     <id>GAME_STORE_STR</id>
     <val>Games</val>
    </string>
    <string>
     <id>GAME_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>VID_STORE_STR</id>
     <val>Video</val>
    </string>
    <string>
     <id>VID_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>MOST_POPULAR_STR</id>
     <val>Most Popular</val>
    </string>
    <string>
     <id>NEW_ARRIVALS_STR</id>
     <val>New Arrivals</val>
    </string>
    <string>
     <id>ARCADE_STR</id>
     <val>Arcade</val>
    </string>
    <string>
     <id>DEMOS_STR</id>
     <val>Game Demos</val>
    </string>
    <string>
     <id>ORIGINALS_STR</id>
     <val>Xbox Originals</val>
    </string>
    <string>
     <id>COM_GAMES_STR</id>
     <val>Community Games</val>
    </string>
    <string>
     <id>ADD_ONS_STR</id>
     <val>Game Add-ons</val>
    </string>
    <string>
     <id>GAME_VIDEOS_STR</id>
     <val>Game Videos</val>
    </string>
    <string>
     <id>THEMES_PICS_STR</id>
     <val>Themes &amp; Gamer Pictures</val>
    </string>
    <string>
     <id>TV_SHOWS_VIDEOS_STR</id>
     <val>TV Shows</val>
    </string>
    <string>
     <id>INDY_VIDEOS_STR</id>
     <val>Independent Videos</val>
    </string>
    <string>
     <id>MOVIES_VIDEOS_STR</id>
     <val>Movies</val>
    </string>
    <string>
     <id>MUSIC_VIDEOS_STR</id>
     <val>Music Videos</val>
    </string>
    <string>
     <id>TV_MUSIC_VIDEOS_MORE_STR</id>
     <val>TV, Music Videos, &amp; More</val>
    </string>
    <string>
     <id>MOVIES_SHORT_FILMS_STR</id>
     <val>Movies &amp; Short Films</val>
    </string>
    <string>
     <id>NETFLIX_STR</id>
     <val>Netflix</val>
    </string>
     <string>
       <id>ALL_GAMES_STR</id>
       <val>All Games</val>
     </string>
   </strings>
  </language>
      <language>
     <id>JPN_2</id>
        <strings>
          <string>
            <id>GAME_STORE_STR</id>
            <val>ã²ã¼ã </val>
          </string>
          <string>
            <id>GAME_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>VID_STORE_STR</id>
            <val>ãããª</val>
          </string>
          <string>
            <id>VID_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>MOST_POPULAR_STR</id>
            <val>äººæ°ã®ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>NEW_ARRIVALS_STR</id>
            <val>æ°ç</val>
          </string>
          <string>
            <id>ARCADE_STR</id>
            <val>ã¢ã¼ã±ã¼ã</val>
          </string>
          <string>
            <id>DEMOS_STR</id>
            <val>ã²ã¼ã ã®ãã¢</val>
          </string>
          <string>
            <id>ORIGINALS_STR</id>
            <val>Xbox ã¯ã©ã·ãã¯ã¹</val>
          </string>
          <string>
            <id>COM_GAMES_STR</id>
            <val>ã³ãã¥ããã£ã¼ ã²ã¼ã </val>
          </string>
          <string>
            <id>ADD_ONS_STR</id>
            <val>ã²ã¼ã è¿½å ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>GAME_VIDEOS_STR</id>
            <val>ã²ã¼ã ã®æ å</val>
          </string>
          <string>
            <id>THEMES_PICS_STR</id>
            <val>ãã¼ã &amp; ã²ã¼ãã¼ ã¢ã¤ã³ã³</val>
          </string>
          <string>
            <id>TV_SHOWS_VIDEOS_STR</id>
            <val>ãã¬ãçªçµ</val>
          </string>
          <string>
            <id>INDY_VIDEOS_STR</id>
            <val>ã²ã¼ã  ã³ãã¥ããã£ã¼ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_VIDEOS_STR</id>
            <val>æ ç»</val>
          </string>
          <string>
            <id>MUSIC_VIDEOS_STR</id>
            <val>ãã¥ã¼ã¸ãã¯ ãããª</val>
          </string>
          <string>
            <id>TV_MUSIC_VIDEOS_MORE_STR</id>
            <val>ãã®ä»ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_SHORT_FILMS_STR</id>
            <val>æ ç» &amp; ç­ç·¨ãããª</val>
          </string>
          <string>
            <id>NETFLIX_STR</id>
            <val>Netflix</val>
          </string>
          <string>
            <id>ALL_GAMES_STR</id>
            <val>ãã¹ã¦ã®ã²ã¼ã </val>
          </string>
        </strings>
   </language>
   <language>
     <id>DEU_3</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Spiele</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Die Beliebtesten</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Neu eingetroffen</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Spieldemos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Community-Spiele</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Spiel-Add-ons</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Spielvideos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Themen &amp; Spielerbilder</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Fernsehshows</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>UnabhÃ¤ngige Videos</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filme</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Musikvideos</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, Musikvideos &amp;  mehr</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filme &amp; Kurzfilme</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Alle Spiele</val>
       </string>
     </strings>
   </language>
   <language>
     <id>FRA_4</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jeux</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VidÃ©o</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Les plus tÃ©lÃ©chargÃ©es</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>NouveautÃ©s</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>DÃ©mos de jeux</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Jeux de la 1re Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jeux de la communautÃ©</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Extensions de jeux</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VidÃ©os de jeux</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ThÃ¨mes et images de joueur</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmes de tÃ©lÃ©vision</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VidÃ©os indÃ©pendantes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Films</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VidÃ©os musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, vidÃ©os musicales et autres</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Films et courts mÃ©trages</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tous les jeux</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ESP_5</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Juegos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Los mÃ¡s populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuevas llegadas</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de juegos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Originales Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Juegos de la comunidad</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de juego</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de juegos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e imÃ¡genes de jugador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos independientes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>PelÃ­culas</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TelevisiÃ³n, vÃ­deos musicales y mucho mÃ¡s</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>PelÃ­culas y cortometrajes</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos los juegos</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ITA_6</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Giochi</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>I piÃ¹ popolari</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuovi arrivi</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demo dei giochi</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Original</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Giochi dalla Community</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Add-on dei giochi</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Video dei giochi</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temi e immagini del giocatore</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmi TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Video indipendenti</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Film</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Video musicali</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, video musicali e altro</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Film e cortometraggi</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tutti i giochi</val>
       </string>
     </strings>
   </language>
   <language>
     <id>KOR_7</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ê²ì</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ë¹ëì¤</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>ì¸ê¸° í­ëª©</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ì ì</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ê²ì ë°ëª¨</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox 1</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ì»¤ë®¤ëí° ê²ì</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ê²ì ì¶ê° ì½íì¸ </val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ê²ì ë¹ëì¤</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>íë§ ë° ê²ì´ë¨¸ ì¬ì§</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>TV íë¡ê·¸ë¨</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ê°ì¸ ì ì ë¹ëì¤</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>ìí</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ë®¤ì§ ë¹ëì¤</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV ë®¤ì§ ë¹ëì¤ ë° ê¸°í ë±ë±</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>ìí ë° ë¨í¸ ìí</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ëª¨ë  ê²ì</val>
       </string>
     </strings>
   </language>
   <language>
     <id>TWN_8</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>éæ²</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>å½±ç</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>æåæ­¡è¿</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>æ°é®®è²¨</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>éæ²ç¤ºç¯</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox ç¬¬ä¸ä»£éæ²</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ç¤¾ç¾¤éæ²</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>éæ²éå åè½</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>éæ²å½±ç</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ä¸»é¡åç©å®¶åç¤º</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>é»è¦ç¯ç®</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ç¨ç«è£½ç</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>é»å½±</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>é³æ¨å½±ç</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>é»è¦ç¯ç®ãé³æ¨å½±çåæ´å¤å§å®¹</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>é»å½±åç­ç</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ææéæ²</val>
       </string>
     </strings>
   </language>
   <language>
     <id>PTB_9</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jogos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Mais Populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>LanÃ§amentos</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de Jogos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originais</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jogos da Comunidade</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de Jogos</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de Jogos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e Imagens do Jogador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos Independentes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmes</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos de MÃºsicas</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, VÃ­deos de MÃºsicas e Muito Mais</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmes e Curtas-metragens</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos os Jogos</val>
       </string>
     </strings>
   </language>
      <language>
     <id>POL_11</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Gry</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Wideo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Najpopularniejsze</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nowe propozycje</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Wersje demonstracyjne gier</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Gry na konsolÄ Xbox 1. generacji</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Gry spoÅecznoÅciowe</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Dodatki do gier</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Wideo z gier</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Kompozycje i obrazki gracza</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Seriale</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Filmy niezaleÅ¼ne</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmy</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Teledyski</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, teledyski i inne</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmy zwykÅe i krÃ³tkometraÅ¼owe</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Wszystkie gry</val>
       </string>
     </strings>
   </language>
   <language>
     <id>RUS_12</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ÐÐ³ÑÑ</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Ð¡Ð°Ð¼ÑÐµ Ð¿Ð¾Ð¿ÑÐ»ÑÑÐ½ÑÐµ</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ÐÐ¾Ð²ÑÐµ Ð¿Ð¾ÑÑÑÐ¿Ð»ÐµÐ½Ð¸Ñ</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>ÐÑÐºÐ°Ð´Ð½Ð°Ñ Ð¸Ð³ÑÐ°</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ÐÐµÐ¼Ð¾-Ð²ÐµÑÑÐ¸Ð¸ Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ÐÐ³ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÑÑÐ²Ð°</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÑ Ðº Ð¸Ð³ÑÐ°Ð¼</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾ Ð¸Ð· Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Ð¢ÐµÐ¼Ñ Ð¸ ÐºÐ°ÑÑÐ¸Ð½ÐºÐ¸ Ð¸Ð³ÑÐ¾ÐºÐ¾Ð²</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼ÑÐµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ÐÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸, Ð¼ÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ðµ Ð´ÑÑÐ³Ð¾Ðµ</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ Ð¸ ÐºÐ¾ÑÐ¾ÑÐºÐ¾Ð¼ÐµÑÑÐ°Ð¶Ð½ÑÐµ ÑÐ¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ÐÑÐµ Ð¸Ð³ÑÑ</val>
       </string>
     </strings>
   </language>
 </stringTable>
 </RootNode>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\XmlTestFiles\Invalid\StorePickerInvalidLangID.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
 <mktpl>
  <tax>
   <taxID>FULL_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
      <deptID>ARCADE</deptID>
      <deptID>ADD_ONS</deptID>
      <deptID>ORIGINALS</deptID>
      <deptID>THEMES_PICS</deptID>
      <deptID>COM_GAMES</deptID>
      <deptID>DEMOS</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_GAMES</deptID>
      <deptID>NEW_ARRIVALS_GAMES</deptID>
      <deptID>ALL_GAMES</deptID> 
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_SHOWS_VIDEOS</deptID>
      <deptID>NETFLIX</deptID>
      <deptID>MUSIC_VIDEOS</deptID>
      <deptID>INDY_VIDEOS</deptID>
      <deptID>GAME_VIDEOS</deptID>            
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>MOVIES_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>COM_GAMES</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L3</storeID>
     <deptList>
      <deptID>MOVIES_SHORT_FILMS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_COM_GAMES</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
 </mktpl>

 <stores>
  <store>
   <id>GAME_STORE</id>
   <storeInfo>
    <storeStrID>GAME_STORE_STR</storeStrID>
    <nameStrID>GAME_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamestore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L2</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L3</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
 </stores>

 <depts>
  <dept>
   <id>MOST_POPULAR_GAMES</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_GAMES</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ARCADE</id>
   <deptInfo>
    <nameStrID>ARCADE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>arcadedept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>DEMOS</id>
   <deptInfo>
    <nameStrID>DEMOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>demosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ORIGINALS</id>
   <deptInfo>
    <nameStrID>ORIGINALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xboxoriginalsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>COM_GAMES</id>
   <deptInfo>
    <nameStrID>COM_GAMES_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xnadept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ADD_ONS</id>
   <deptInfo>
    <nameStrID>ADD_ONS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>addonsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>GAME_VIDEOS</id>
   <deptInfo>
    <nameStrID>GAME_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamevideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>THEMES_PICS</id>
   <deptInfo>
    <nameStrID>THEMES_PICS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>themesandgamerpicsdept.xml</param2>
   </deptInfo>
  </dept>
   <dept>
     <id>ALL_GAMES</id>
     <deptInfo>
       <nameStrID>ALL_GAMES_STR</nameStrID>
       <cmd>EcNavMarketplaceScriptAction</cmd>
       <param>BrowseUI</param>
       <param2>Browse_GameStore</param2>
     </deptInfo>
   </dept>   
  <dept>
   <id>MOST_POPULAR_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_VIDEOS</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>moviesdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_SHOWS_VIDEOS</id>
   <deptInfo>
    <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>tvdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MUSIC_VIDEOS</id>
   <deptInfo>
    <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>musicvideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>INDY_VIDEOS</id>
   <deptInfo>
    <nameStrID>INDY_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>IndyVideosDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_MUSIC_VIDEOS_MORE</id>
   <deptInfo>
    <nameStrID>TV_MUSIC_VIDEOS_MORE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>TVMusicMoreDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_SHORT_FILMS</id>
   <deptInfo>
    <nameStrID>MOVIES_SHORT_FILMS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>MoviesShortFilmsDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NETFLIX</id>
   <deptInfo>
    <nameStrID>NETFLIX_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>LaunchMarketplaceContent</param>
    <param2>00000003-0000-4000-8000-0000584807D5</param2>
    <param3>60</param3>
    <param4>8778403792F0046981C05EB13B715E8CFBCF31D458</param4>
   </deptInfo>
  </dept>
 </depts>
 <taxMap>
  <taxonomy>
   <id>FULL_VID_MKTPL</id>
   <taxCountries>
    <cID>103_UNITED_STATES</cID>
   </taxCountries>
  </taxonomy>
  <taxonomy>
   <id>MOVIES_VID_MKTPL</id>
   <taxCountries>
    <cID>16_CANADA</cID>
    <cID>31_SPAIN</cID>
    <cID>34_FRANCE</cID>
    <cID>35_GREAT_BRITAIN</cID>
    <cID>50_ITALY</cID>
   </taxCountries>
  </taxonomy>
   <taxonomy>
     <id>NO_COM_GAMES</id>
     <taxCountries>
       <cID>24_GERMANY</cID>
       <cID>44_IRELAND</cID>       
     </taxCountries>
   </taxonomy>
   <taxonomy>
   <id>NO_VID_MKTPL</id>
   <taxCountries>
    <cID>5_AUSTRIA</cID>
    <cID>6_AUSTRALIA</cID>
    <cID>8_BELGIUM</cID>
    <cID>18_SWITZERLAND</cID>
    <cID>20_CHINA</cID>
    <cID>25_DENMARK</cID>
    <cID>32_FINLAND</cID>
    <cID>39_HONG_KONG</cID>
    <cID>46_INDIA</cID>
    <cID>53_JAPAN</cID>
    <cID>56_KOREA</cID>
    <cID>71_MEXICO</cID>
    <cID>74_NETHERLANDS</cID>
    <cID>75_NORWAY</cID>
    <cID>76_NEW_ZEALAND</cID>
    <cID>84_PORTUGAL</cID>
    <cID>90_SWEDEN</cID>
    <cID>91_SINGAPORE</cID>
    <cID>101_TAIWAN</cID>
   </taxCountries>
  </taxonomy>
 </taxMap>
 <stringTable>
  <language>
   <id>ENG_1</id>
   <strings>
    <string>
     <id>GAME_STORE_STR</id>
     <val>Games</val>
    </string>
    <string>
     <id>GAME_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>VID_STORE_STR</id>
     <val>Video</val>
    </string>
    <string>
     <id>VID_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>MOST_POPULAR_STR</id>
     <val>Most Popular</val>
    </string>
    <string>
     <id>NEW_ARRIVALS_STR</id>
     <val>New Arrivals</val>
    </string>
    <string>
     <id>ARCADE_STR</id>
     <val>Arcade</val>
    </string>
    <string>
     <id>DEMOS_STR</id>
     <val>Game Demos</val>
    </string>
    <string>
     <id>ORIGINALS_STR</id>
     <val>Xbox Originals</val>
    </string>
    <string>
     <id>COM_GAMES_STR</id>
     <val>Community Games</val>
    </string>
    <string>
     <id>ADD_ONS_STR</id>
     <val>Game Add-ons</val>
    </string>
    <string>
     <id>GAME_VIDEOS_STR</id>
     <val>Game Videos</val>
    </string>
    <string>
     <id>THEMES_PICS_STR</id>
     <val>Themes &amp; Gamer Pictures</val>
    </string>
    <string>
     <id>TV_SHOWS_VIDEOS_STR</id>
     <val>TV Shows</val>
    </string>
    <string>
     <id>INDY_VIDEOS_STR</id>
     <val>Independent Videos</val>
    </string>
    <string>
     <id>MOVIES_VIDEOS_STR</id>
     <val>Movies</val>
    </string>
    <string>
     <id>MUSIC_VIDEOS_STR</id>
     <val>Music Videos</val>
    </string>
    <string>
     <id>TV_MUSIC_VIDEOS_MORE_STR</id>
     <val>TV, Music Videos, &amp; More</val>
    </string>
    <string>
     <id>MOVIES_SHORT_FILMS_STR</id>
     <val>Movies &amp; Short Films</val>
    </string>
    <string>
     <id>NETFLIX_STR</id>
     <val>Netflix</val>
    </string>
     <string>
       <id>ALL_GAMES_STR</id>
       <val>All Games</val>
     </string>
   </strings>
  </language>
      <language>
     <id>JPN_2</id>
        <strings>
          <string>
            <id>GAME_STORE_STR</id>
            <val>ã²ã¼ã </val>
          </string>
          <string>
            <id>GAME_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>VID_STORE_STR</id>
            <val>ãããª</val>
          </string>
          <string>
            <id>VID_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>MOST_POPULAR_STR</id>
            <val>äººæ°ã®ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>NEW_ARRIVALS_STR</id>
            <val>æ°ç</val>
          </string>
          <string>
            <id>ARCADE_STR</id>
            <val>ã¢ã¼ã±ã¼ã</val>
          </string>
          <string>
            <id>DEMOS_STR</id>
            <val>ã²ã¼ã ã®ãã¢</val>
          </string>
          <string>
            <id>ORIGINALS_STR</id>
            <val>Xbox ã¯ã©ã·ãã¯ã¹</val>
          </string>
          <string>
            <id>COM_GAMES_STR</id>
            <val>ã³ãã¥ããã£ã¼ ã²ã¼ã </val>
          </string>
          <string>
            <id>ADD_ONS_STR</id>
            <val>ã²ã¼ã è¿½å ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>GAME_VIDEOS_STR</id>
            <val>ã²ã¼ã ã®æ å</val>
          </string>
          <string>
            <id>THEMES_PICS_STR</id>
            <val>ãã¼ã &amp; ã²ã¼ãã¼ ã¢ã¤ã³ã³</val>
          </string>
          <string>
            <id>TV_SHOWS_VIDEOS_STR</id>
            <val>ãã¬ãçªçµ</val>
          </string>
          <string>
            <id>INDY_VIDEOS_STR</id>
            <val>ã²ã¼ã  ã³ãã¥ããã£ã¼ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_VIDEOS_STR</id>
            <val>æ ç»</val>
          </string>
          <string>
            <id>MUSIC_VIDEOS_STR</id>
            <val>ãã¥ã¼ã¸ãã¯ ãããª</val>
          </string>
          <string>
            <id>TV_MUSIC_VIDEOS_MORE_STR</id>
            <val>ãã®ä»ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_SHORT_FILMS_STR</id>
            <val>æ ç» &amp; ç­ç·¨ãããª</val>
          </string>
          <string>
            <id>NETFLIX_STR</id>
            <val>Netflix</val>
          </string>
          <string>
            <id>ALL_GAMES_STR</id>
            <val>ãã¹ã¦ã®ã²ã¼ã </val>
          </string>
        </strings>
   </language>
   <language>
     <id>DEU_3</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Spiele</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Die Beliebtesten</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Neu eingetroffen</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Spieldemos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Community-Spiele</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Spiel-Add-ons</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Spielvideos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Themen &amp; Spielerbilder</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Fernsehshows</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>UnabhÃ¤ngige Videos</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filme</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Musikvideos</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, Musikvideos &amp;  mehr</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filme &amp; Kurzfilme</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Alle Spiele</val>
       </string>
     </strings>
   </language>
   <language>
     <id>FRA_4</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jeux</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VidÃ©o</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Les plus tÃ©lÃ©chargÃ©es</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>NouveautÃ©s</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>DÃ©mos de jeux</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Jeux de la 1re Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jeux de la communautÃ©</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Extensions de jeux</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VidÃ©os de jeux</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ThÃ¨mes et images de joueur</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmes de tÃ©lÃ©vision</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VidÃ©os indÃ©pendantes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Films</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VidÃ©os musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, vidÃ©os musicales et autres</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Films et courts mÃ©trages</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tous les jeux</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ESP_5</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Juegos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Los mÃ¡s populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuevas llegadas</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de juegos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Originales Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Juegos de la comunidad</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de juego</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de juegos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e imÃ¡genes de jugador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos independientes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>PelÃ­culas</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TelevisiÃ³n, vÃ­deos musicales y mucho mÃ¡s</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>PelÃ­culas y cortometrajes</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos los juegos</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ITA_6</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Giochi</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>I piÃ¹ popolari</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuovi arrivi</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demo dei giochi</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Original</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Giochi dalla Community</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Add-on dei giochi</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Video dei giochi</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temi e immagini del giocatore</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmi TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Video indipendenti</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Film</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Video musicali</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, video musicali e altro</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Film e cortometraggi</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tutti i giochi</val>
       </string>
     </strings>
   </language>
   <language>
     <id>KOR_7</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ê²ì</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ë¹ëì¤</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>ì¸ê¸° í­ëª©</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ì ì</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ê²ì ë°ëª¨</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox 1</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ì»¤ë®¤ëí° ê²ì</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ê²ì ì¶ê° ì½íì¸ </val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ê²ì ë¹ëì¤</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>íë§ ë° ê²ì´ë¨¸ ì¬ì§</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>TV íë¡ê·¸ë¨</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ê°ì¸ ì ì ë¹ëì¤</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>ìí</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ë®¤ì§ ë¹ëì¤</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV ë®¤ì§ ë¹ëì¤ ë° ê¸°í ë±ë±</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>ìí ë° ë¨í¸ ìí</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ëª¨ë  ê²ì</val>
       </string>
     </strings>
   </language>
   <language>
     <id>TWN_8</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>éæ²</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>å½±ç</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>æåæ­¡è¿</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>æ°é®®è²¨</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>éæ²ç¤ºç¯</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox ç¬¬ä¸ä»£éæ²</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ç¤¾ç¾¤éæ²</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>éæ²éå åè½</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>éæ²å½±ç</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ä¸»é¡åç©å®¶åç¤º</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>é»è¦ç¯ç®</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ç¨ç«è£½ç</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>é»å½±</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>é³æ¨å½±ç</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>é»è¦ç¯ç®ãé³æ¨å½±çåæ´å¤å§å®¹</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>é»å½±åç­ç</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ææéæ²</val>
       </string>
     </strings>
   </language>
   <language>
     <id>PTB_9</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jogos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Mais Populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>LanÃ§amentos</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de Jogos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originais</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jogos da Comunidade</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de Jogos</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de Jogos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e Imagens do Jogador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos Independentes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmes</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos de MÃºsicas</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, VÃ­deos de MÃºsicas e Muito Mais</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmes e Curtas-metragens</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos os Jogos</val>
       </string>
     </strings>
   </language>
      <language>
     <id>POL_11</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Gry</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Wideo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Najpopularniejsze</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nowe propozycje</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Wersje demonstracyjne gier</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Gry na konsolÄ Xbox 1. generacji</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Gry spoÅecznoÅciowe</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Dodatki do gier</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Wideo z gier</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Kompozycje i obrazki gracza</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Seriale</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Filmy niezaleÅ¼ne</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmy</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Teledyski</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, teledyski i inne</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmy zwykÅe i krÃ³tkometraÅ¼owe</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Wszystkie gry</val>
       </string>
     </strings>
   </language>
   <language>
     <id>RUS_12_IS_NOW_INVALID</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ÐÐ³ÑÑ</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Ð¡Ð°Ð¼ÑÐµ Ð¿Ð¾Ð¿ÑÐ»ÑÑÐ½ÑÐµ</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ÐÐ¾Ð²ÑÐµ Ð¿Ð¾ÑÑÑÐ¿Ð»ÐµÐ½Ð¸Ñ</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>ÐÑÐºÐ°Ð´Ð½Ð°Ñ Ð¸Ð³ÑÐ°</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ÐÐµÐ¼Ð¾-Ð²ÐµÑÑÐ¸Ð¸ Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ÐÐ³ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÑÑÐ²Ð°</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÑ Ðº Ð¸Ð³ÑÐ°Ð¼</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾ Ð¸Ð· Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Ð¢ÐµÐ¼Ñ Ð¸ ÐºÐ°ÑÑÐ¸Ð½ÐºÐ¸ Ð¸Ð³ÑÐ¾ÐºÐ¾Ð²</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼ÑÐµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ÐÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸, Ð¼ÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ðµ Ð´ÑÑÐ³Ð¾Ðµ</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ Ð¸ ÐºÐ¾ÑÐ¾ÑÐºÐ¾Ð¼ÐµÑÑÐ°Ð¶Ð½ÑÐµ ÑÐ¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ÐÑÐµ Ð¸Ð³ÑÑ</val>
       </string>
     </strings>
   </language>
 </stringTable>
 </RootNode>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\XmlTestFiles\Invalid\StorePickerInvalidDNoP2.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
 <mktpl>
  <tax>
   <taxID>FULL_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
      <deptID>ARCADE</deptID>
      <deptID>ADD_ONS</deptID>
      <deptID>ORIGINALS</deptID>
      <deptID>THEMES_PICS</deptID>
      <deptID>COM_GAMES</deptID>
      <deptID>DEMOS</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_GAMES</deptID>
      <deptID>NEW_ARRIVALS_GAMES</deptID>
      <deptID>ALL_GAMES</deptID> 
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_SHOWS_VIDEOS</deptID>
      <deptID>NETFLIX</deptID>
      <deptID>MUSIC_VIDEOS</deptID>
      <deptID>INDY_VIDEOS</deptID>
      <deptID>GAME_VIDEOS</deptID>            
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>MOVIES_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>COM_GAMES</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L3</storeID>
     <deptList>
      <deptID>MOVIES_SHORT_FILMS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_COM_GAMES</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
 </mktpl>

 <stores>
  <store>
   <id>GAME_STORE</id>
   <storeInfo>
    <storeStrID>GAME_STORE_STR</storeStrID>
    <nameStrID>GAME_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamestore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L2</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L3</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
 </stores>

 <depts>
  <dept>
   <id>MOST_POPULAR_GAMES</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_GAMES</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ARCADE</id>
   <deptInfo>
    <nameStrID>ARCADE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>arcadedept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>DEMOS</id>
   <deptInfo>
    <nameStrID>DEMOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>demosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ORIGINALS</id>
   <deptInfo>
    <nameStrID>ORIGINALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xboxoriginalsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>COM_GAMES</id>
   <deptInfo>
    <nameStrID>COM_GAMES_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xnadept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ADD_ONS</id>
   <deptInfo>
    <nameStrID>ADD_ONS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>addonsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>GAME_VIDEOS</id>
   <deptInfo>
    <nameStrID>GAME_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamevideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>THEMES_PICS</id>
   <deptInfo>
    <nameStrID>THEMES_PICS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>themesandgamerpicsdept.xml</param2>
   </deptInfo>
  </dept>
   <dept>
     <id>ALL_GAMES</id>
     <deptInfo>
       <nameStrID>ALL_GAMES_STR</nameStrID>
       <cmd>EcNavMarketplaceScriptAction</cmd>
       <param>BrowseUI</param>
       <param2>Browse_GameStore</param2>
     </deptInfo>
   </dept>   
  <dept>
   <id>MOST_POPULAR_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_VIDEOS</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>moviesdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_SHOWS_VIDEOS</id>
   <deptInfo>
    <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>tvdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MUSIC_VIDEOS</id>
   <deptInfo>
    <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>musicvideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>INDY_VIDEOS</id>
   <deptInfo>
    <nameStrID>INDY_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>IndyVideosDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_MUSIC_VIDEOS_MORE</id>
   <deptInfo>
    <nameStrID>TV_MUSIC_VIDEOS_MORE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>TVMusicMoreDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_SHORT_FILMS</id>
   <deptInfo>
    <nameStrID>MOVIES_SHORT_FILMS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>MoviesShortFilmsDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NETFLIX</id>
   <deptInfo>
    <nameStrID>NETFLIX_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>LaunchMarketplaceContent</param>
    <param3>60</param3>
    <param4>8778403792F0046981C05EB13B715E8CFBCF31D458</param4>
   </deptInfo>
  </dept>
 </depts>
 <taxMap>
  <taxonomy>
   <id>FULL_VID_MKTPL</id>
   <taxCountries>
    <cID>103_UNITED_STATES</cID>
   </taxCountries>
  </taxonomy>
  <taxonomy>
   <id>MOVIES_VID_MKTPL</id>
   <taxCountries>
    <cID>16_CANADA</cID>
    <cID>31_SPAIN</cID>
    <cID>34_FRANCE</cID>
    <cID>35_GREAT_BRITAIN</cID>
    <cID>50_ITALY</cID>
   </taxCountries>
  </taxonomy>
   <taxonomy>
     <id>NO_COM_GAMES</id>
     <taxCountries>
       <cID>24_GERMANY</cID>
       <cID>44_IRELAND</cID>       
     </taxCountries>
   </taxonomy>
   <taxonomy>
   <id>NO_VID_MKTPL</id>
   <taxCountries>
    <cID>5_AUSTRIA</cID>
    <cID>6_AUSTRALIA</cID>
    <cID>8_BELGIUM</cID>
    <cID>18_SWITZERLAND</cID>
    <cID>20_CHINA</cID>
    <cID>25_DENMARK</cID>
    <cID>32_FINLAND</cID>
    <cID>39_HONG_KONG</cID>
    <cID>46_INDIA</cID>
    <cID>53_JAPAN</cID>
    <cID>56_KOREA</cID>
    <cID>71_MEXICO</cID>
    <cID>74_NETHERLANDS</cID>
    <cID>75_NORWAY</cID>
    <cID>76_NEW_ZEALAND</cID>
    <cID>84_PORTUGAL</cID>
    <cID>90_SWEDEN</cID>
    <cID>91_SINGAPORE</cID>
    <cID>101_TAIWAN</cID>
   </taxCountries>
  </taxonomy>
 </taxMap>
 <stringTable>
  <language>
   <id>ENG_1</id>
   <strings>
    <string>
     <id>GAME_STORE_STR</id>
     <val>Games</val>
    </string>
    <string>
     <id>GAME_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>VID_STORE_STR</id>
     <val>Video</val>
    </string>
    <string>
     <id>VID_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>MOST_POPULAR_STR</id>
     <val>Most Popular</val>
    </string>
    <string>
     <id>NEW_ARRIVALS_STR</id>
     <val>New Arrivals</val>
    </string>
    <string>
     <id>ARCADE_STR</id>
     <val>Arcade</val>
    </string>
    <string>
     <id>DEMOS_STR</id>
     <val>Game Demos</val>
    </string>
    <string>
     <id>ORIGINALS_STR</id>
     <val>Xbox Originals</val>
    </string>
    <string>
     <id>COM_GAMES_STR</id>
     <val>Community Games</val>
    </string>
    <string>
     <id>ADD_ONS_STR</id>
     <val>Game Add-ons</val>
    </string>
    <string>
     <id>GAME_VIDEOS_STR</id>
     <val>Game Videos</val>
    </string>
    <string>
     <id>THEMES_PICS_STR</id>
     <val>Themes &amp; Gamer Pictures</val>
    </string>
    <string>
     <id>TV_SHOWS_VIDEOS_STR</id>
     <val>TV Shows</val>
    </string>
    <string>
     <id>INDY_VIDEOS_STR</id>
     <val>Independent Videos</val>
    </string>
    <string>
     <id>MOVIES_VIDEOS_STR</id>
     <val>Movies</val>
    </string>
    <string>
     <id>MUSIC_VIDEOS_STR</id>
     <val>Music Videos</val>
    </string>
    <string>
     <id>TV_MUSIC_VIDEOS_MORE_STR</id>
     <val>TV, Music Videos, &amp; More</val>
    </string>
    <string>
     <id>MOVIES_SHORT_FILMS_STR</id>
     <val>Movies &amp; Short Films</val>
    </string>
    <string>
     <id>NETFLIX_STR</id>
     <val>Netflix</val>
    </string>
     <string>
       <id>ALL_GAMES_STR</id>
       <val>All Games</val>
     </string>
   </strings>
  </language>
      <language>
     <id>JPN_2</id>
        <strings>
          <string>
            <id>GAME_STORE_STR</id>
            <val>ã²ã¼ã </val>
          </string>
          <string>
            <id>GAME_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>VID_STORE_STR</id>
            <val>ãããª</val>
          </string>
          <string>
            <id>VID_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>MOST_POPULAR_STR</id>
            <val>äººæ°ã®ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>NEW_ARRIVALS_STR</id>
            <val>æ°ç</val>
          </string>
          <string>
            <id>ARCADE_STR</id>
            <val>ã¢ã¼ã±ã¼ã</val>
          </string>
          <string>
            <id>DEMOS_STR</id>
            <val>ã²ã¼ã ã®ãã¢</val>
          </string>
          <string>
            <id>ORIGINALS_STR</id>
            <val>Xbox ã¯ã©ã·ãã¯ã¹</val>
          </string>
          <string>
            <id>COM_GAMES_STR</id>
            <val>ã³ãã¥ããã£ã¼ ã²ã¼ã </val>
          </string>
          <string>
            <id>ADD_ONS_STR</id>
            <val>ã²ã¼ã è¿½å ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>GAME_VIDEOS_STR</id>
            <val>ã²ã¼ã ã®æ å</val>
          </string>
          <string>
            <id>THEMES_PICS_STR</id>
            <val>ãã¼ã &amp; ã²ã¼ãã¼ ã¢ã¤ã³ã³</val>
          </string>
          <string>
            <id>TV_SHOWS_VIDEOS_STR</id>
            <val>ãã¬ãçªçµ</val>
          </string>
          <string>
            <id>INDY_VIDEOS_STR</id>
            <val>ã²ã¼ã  ã³ãã¥ããã£ã¼ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_VIDEOS_STR</id>
            <val>æ ç»</val>
          </string>
          <string>
            <id>MUSIC_VIDEOS_STR</id>
            <val>ãã¥ã¼ã¸ãã¯ ãããª</val>
          </string>
          <string>
            <id>TV_MUSIC_VIDEOS_MORE_STR</id>
            <val>ãã®ä»ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_SHORT_FILMS_STR</id>
            <val>æ ç» &amp; ç­ç·¨ãããª</val>
          </string>
          <string>
            <id>NETFLIX_STR</id>
            <val>Netflix</val>
          </string>
          <string>
            <id>ALL_GAMES_STR</id>
            <val>ãã¹ã¦ã®ã²ã¼ã </val>
          </string>
        </strings>
   </language>
   <language>
     <id>DEU_3</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Spiele</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Die Beliebtesten</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Neu eingetroffen</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Spieldemos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Community-Spiele</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Spiel-Add-ons</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Spielvideos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Themen &amp; Spielerbilder</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Fernsehshows</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>UnabhÃ¤ngige Videos</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filme</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Musikvideos</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, Musikvideos &amp;  mehr</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filme &amp; Kurzfilme</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Alle Spiele</val>
       </string>
     </strings>
   </language>
   <language>
     <id>FRA_4</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jeux</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VidÃ©o</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Les plus tÃ©lÃ©chargÃ©es</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>NouveautÃ©s</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>DÃ©mos de jeux</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Jeux de la 1re Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jeux de la communautÃ©</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Extensions de jeux</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VidÃ©os de jeux</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ThÃ¨mes et images de joueur</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmes de tÃ©lÃ©vision</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VidÃ©os indÃ©pendantes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Films</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VidÃ©os musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, vidÃ©os musicales et autres</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Films et courts mÃ©trages</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tous les jeux</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ESP_5</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Juegos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Los mÃ¡s populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuevas llegadas</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de juegos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Originales Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Juegos de la comunidad</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de juego</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de juegos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e imÃ¡genes de jugador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos independientes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>PelÃ­culas</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TelevisiÃ³n, vÃ­deos musicales y mucho mÃ¡s</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>PelÃ­culas y cortometrajes</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos los juegos</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ITA_6</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Giochi</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>I piÃ¹ popolari</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuovi arrivi</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demo dei giochi</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Original</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Giochi dalla Community</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Add-on dei giochi</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Video dei giochi</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temi e immagini del giocatore</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmi TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Video indipendenti</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Film</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Video musicali</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, video musicali e altro</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Film e cortometraggi</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tutti i giochi</val>
       </string>
     </strings>
   </language>
   <language>
     <id>KOR_7</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ê²ì</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ë¹ëì¤</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>ì¸ê¸° í­ëª©</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ì ì</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ê²ì ë°ëª¨</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox 1</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ì»¤ë®¤ëí° ê²ì</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ê²ì ì¶ê° ì½íì¸ </val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ê²ì ë¹ëì¤</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>íë§ ë° ê²ì´ë¨¸ ì¬ì§</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>TV íë¡ê·¸ë¨</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ê°ì¸ ì ì ë¹ëì¤</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>ìí</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ë®¤ì§ ë¹ëì¤</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV ë®¤ì§ ë¹ëì¤ ë° ê¸°í ë±ë±</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>ìí ë° ë¨í¸ ìí</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ëª¨ë  ê²ì</val>
       </string>
     </strings>
   </language>
   <language>
     <id>TWN_8</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>éæ²</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>å½±ç</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>æåæ­¡è¿</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>æ°é®®è²¨</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>éæ²ç¤ºç¯</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox ç¬¬ä¸ä»£éæ²</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ç¤¾ç¾¤éæ²</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>éæ²éå åè½</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>éæ²å½±ç</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ä¸»é¡åç©å®¶åç¤º</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>é»è¦ç¯ç®</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ç¨ç«è£½ç</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>é»å½±</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>é³æ¨å½±ç</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>é»è¦ç¯ç®ãé³æ¨å½±çåæ´å¤å§å®¹</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>é»å½±åç­ç</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ææéæ²</val>
       </string>
     </strings>
   </language>
   <language>
     <id>PTB_9</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jogos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Mais Populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>LanÃ§amentos</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de Jogos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originais</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jogos da Comunidade</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de Jogos</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de Jogos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e Imagens do Jogador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos Independentes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmes</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos de MÃºsicas</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, VÃ­deos de MÃºsicas e Muito Mais</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmes e Curtas-metragens</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos os Jogos</val>
       </string>
     </strings>
   </language>
      <language>
     <id>POL_11</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Gry</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Wideo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Najpopularniejsze</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nowe propozycje</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Wersje demonstracyjne gier</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Gry na konsolÄ Xbox 1. generacji</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Gry spoÅecznoÅciowe</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Dodatki do gier</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Wideo z gier</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Kompozycje i obrazki gracza</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Seriale</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Filmy niezaleÅ¼ne</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmy</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Teledyski</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, teledyski i inne</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmy zwykÅe i krÃ³tkometraÅ¼owe</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Wszystkie gry</val>
       </string>
     </strings>
   </language>
   <language>
     <id>RUS_12</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ÐÐ³ÑÑ</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Ð¡Ð°Ð¼ÑÐµ Ð¿Ð¾Ð¿ÑÐ»ÑÑÐ½ÑÐµ</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ÐÐ¾Ð²ÑÐµ Ð¿Ð¾ÑÑÑÐ¿Ð»ÐµÐ½Ð¸Ñ</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>ÐÑÐºÐ°Ð´Ð½Ð°Ñ Ð¸Ð³ÑÐ°</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ÐÐµÐ¼Ð¾-Ð²ÐµÑÑÐ¸Ð¸ Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ÐÐ³ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÑÑÐ²Ð°</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÑ Ðº Ð¸Ð³ÑÐ°Ð¼</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾ Ð¸Ð· Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Ð¢ÐµÐ¼Ñ Ð¸ ÐºÐ°ÑÑÐ¸Ð½ÐºÐ¸ Ð¸Ð³ÑÐ¾ÐºÐ¾Ð²</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼ÑÐµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ÐÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸, Ð¼ÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ðµ Ð´ÑÑÐ³Ð¾Ðµ</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ Ð¸ ÐºÐ¾ÑÐ¾ÑÐºÐ¾Ð¼ÐµÑÑÐ°Ð¶Ð½ÑÐµ ÑÐ¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ÐÑÐµ Ð¸Ð³ÑÑ</val>
       </string>
     </strings>
   </language>
 </stringTable>
 </RootNode>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\XmlTestFiles\Invalid\StorePickerInvalidValLength0.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
 <mktpl>
  <tax>
   <taxID>FULL_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
      <deptID>ARCADE</deptID>
      <deptID>ADD_ONS</deptID>
      <deptID>ORIGINALS</deptID>
      <deptID>THEMES_PICS</deptID>
      <deptID>COM_GAMES</deptID>
      <deptID>DEMOS</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_GAMES</deptID>
      <deptID>NEW_ARRIVALS_GAMES</deptID>
      <deptID>ALL_GAMES</deptID> 
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_SHOWS_VIDEOS</deptID>
      <deptID>NETFLIX</deptID>
      <deptID>MUSIC_VIDEOS</deptID>
      <deptID>INDY_VIDEOS</deptID>
      <deptID>GAME_VIDEOS</deptID>            
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>MOVIES_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>COM_GAMES</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L3</storeID>
     <deptList>
      <deptID>MOVIES_SHORT_FILMS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_COM_GAMES</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
 </mktpl>

 <stores>
  <store>
   <id>GAME_STORE</id>
   <storeInfo>
    <storeStrID>GAME_STORE_STR</storeStrID>
    <nameStrID>GAME_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamestore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L2</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L3</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
 </stores>

 <depts>
  <dept>
   <id>MOST_POPULAR_GAMES</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_GAMES</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ARCADE</id>
   <deptInfo>
    <nameStrID>ARCADE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>arcadedept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>DEMOS</id>
   <deptInfo>
    <nameStrID>DEMOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>demosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ORIGINALS</id>
   <deptInfo>
    <nameStrID>ORIGINALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xboxoriginalsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>COM_GAMES</id>
   <deptInfo>
    <nameStrID>COM_GAMES_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xnadept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ADD_ONS</id>
   <deptInfo>
    <nameStrID>ADD_ONS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>addonsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>GAME_VIDEOS</id>
   <deptInfo>
    <nameStrID>GAME_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamevideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>THEMES_PICS</id>
   <deptInfo>
    <nameStrID>THEMES_PICS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>themesandgamerpicsdept.xml</param2>
   </deptInfo>
  </dept>
   <dept>
     <id>ALL_GAMES</id>
     <deptInfo>
       <nameStrID>ALL_GAMES_STR</nameStrID>
       <cmd>EcNavMarketplaceScriptAction</cmd>
       <param>BrowseUI</param>
       <param2>Browse_GameStore</param2>
     </deptInfo>
   </dept>   
  <dept>
   <id>MOST_POPULAR_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_VIDEOS</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>moviesdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_SHOWS_VIDEOS</id>
   <deptInfo>
    <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>tvdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MUSIC_VIDEOS</id>
   <deptInfo>
    <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>musicvideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>INDY_VIDEOS</id>
   <deptInfo>
    <nameStrID>INDY_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>IndyVideosDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_MUSIC_VIDEOS_MORE</id>
   <deptInfo>
    <nameStrID>TV_MUSIC_VIDEOS_MORE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>TVMusicMoreDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_SHORT_FILMS</id>
   <deptInfo>
    <nameStrID>MOVIES_SHORT_FILMS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>MoviesShortFilmsDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NETFLIX</id>
   <deptInfo>
    <nameStrID>NETFLIX_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>LaunchMarketplaceContent</param>
    <param2>00000003-0000-4000-8000-0000584807D5</param2>
    <param3>60</param3>
    <param4>8778403792F0046981C05EB13B715E8CFBCF31D458</param4>
   </deptInfo>
  </dept>
 </depts>
 <taxMap>
  <taxonomy>
   <id>FULL_VID_MKTPL</id>
   <taxCountries>
    <cID>103_UNITED_STATES</cID>
   </taxCountries>
  </taxonomy>
  <taxonomy>
   <id>MOVIES_VID_MKTPL</id>
   <taxCountries>
    <cID>16_CANADA</cID>
    <cID>31_SPAIN</cID>
    <cID>34_FRANCE</cID>
    <cID>35_GREAT_BRITAIN</cID>
    <cID>50_ITALY</cID>
   </taxCountries>
  </taxonomy>
   <taxonomy>
     <id>NO_COM_GAMES</id>
     <taxCountries>
       <cID>24_GERMANY</cID>
       <cID>44_IRELAND</cID>       
     </taxCountries>
   </taxonomy>
   <taxonomy>
   <id>NO_VID_MKTPL</id>
   <taxCountries>
    <cID>5_AUSTRIA</cID>
    <cID>6_AUSTRALIA</cID>
    <cID>8_BELGIUM</cID>
    <cID>18_SWITZERLAND</cID>
    <cID>20_CHINA</cID>
    <cID>25_DENMARK</cID>
    <cID>32_FINLAND</cID>
    <cID>39_HONG_KONG</cID>
    <cID>46_INDIA</cID>
    <cID>53_JAPAN</cID>
    <cID>56_KOREA</cID>
    <cID>71_MEXICO</cID>
    <cID>74_NETHERLANDS</cID>
    <cID>75_NORWAY</cID>
    <cID>76_NEW_ZEALAND</cID>
    <cID>84_PORTUGAL</cID>
    <cID>90_SWEDEN</cID>
    <cID>91_SINGAPORE</cID>
    <cID>101_TAIWAN</cID>
   </taxCountries>
  </taxonomy>
 </taxMap>
 <stringTable>
  <language>
   <id>ENG_1</id>
   <strings>
    <string>
     <id>GAME_STORE_STR</id>
     <val></val>
    </string>
    <string>
     <id>GAME_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>VID_STORE_STR</id>
     <val>Video</val>
    </string>
    <string>
     <id>VID_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>MOST_POPULAR_STR</id>
     <val>Most Popular</val>
    </string>
    <string>
     <id>NEW_ARRIVALS_STR</id>
     <val>New Arrivals</val>
    </string>
    <string>
     <id>ARCADE_STR</id>
     <val>Arcade</val>
    </string>
    <string>
     <id>DEMOS_STR</id>
     <val>Game Demos</val>
    </string>
    <string>
     <id>ORIGINALS_STR</id>
     <val>Xbox Originals</val>
    </string>
    <string>
     <id>COM_GAMES_STR</id>
     <val>Community Games</val>
    </string>
    <string>
     <id>ADD_ONS_STR</id>
     <val>Game Add-ons</val>
    </string>
    <string>
     <id>GAME_VIDEOS_STR</id>
     <val>Game Videos</val>
    </string>
    <string>
     <id>THEMES_PICS_STR</id>
     <val>Themes &amp; Gamer Pictures</val>
    </string>
    <string>
     <id>TV_SHOWS_VIDEOS_STR</id>
     <val>TV Shows</val>
    </string>
    <string>
     <id>INDY_VIDEOS_STR</id>
     <val>Independent Videos</val>
    </string>
    <string>
     <id>MOVIES_VIDEOS_STR</id>
     <val>Movies</val>
    </string>
    <string>
     <id>MUSIC_VIDEOS_STR</id>
     <val>Music Videos</val>
    </string>
    <string>
     <id>TV_MUSIC_VIDEOS_MORE_STR</id>
     <val>TV, Music Videos, &amp; More</val>
    </string>
    <string>
     <id>MOVIES_SHORT_FILMS_STR</id>
     <val>Movies &amp; Short Films</val>
    </string>
    <string>
     <id>NETFLIX_STR</id>
     <val>Netflix</val>
    </string>
     <string>
       <id>ALL_GAMES_STR</id>
       <val>All Games</val>
     </string>
   </strings>
  </language>
      <language>
     <id>JPN_2</id>
        <strings>
          <string>
            <id>GAME_STORE_STR</id>
            <val>ã²ã¼ã </val>
          </string>
          <string>
            <id>GAME_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>VID_STORE_STR</id>
            <val>ãããª</val>
          </string>
          <string>
            <id>VID_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>MOST_POPULAR_STR</id>
            <val>äººæ°ã®ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>NEW_ARRIVALS_STR</id>
            <val>æ°ç</val>
          </string>
          <string>
            <id>ARCADE_STR</id>
            <val>ã¢ã¼ã±ã¼ã</val>
          </string>
          <string>
            <id>DEMOS_STR</id>
            <val>ã²ã¼ã ã®ãã¢</val>
          </string>
          <string>
            <id>ORIGINALS_STR</id>
            <val>Xbox ã¯ã©ã·ãã¯ã¹</val>
          </string>
          <string>
            <id>COM_GAMES_STR</id>
            <val>ã³ãã¥ããã£ã¼ ã²ã¼ã </val>
          </string>
          <string>
            <id>ADD_ONS_STR</id>
            <val>ã²ã¼ã è¿½å ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>GAME_VIDEOS_STR</id>
            <val>ã²ã¼ã ã®æ å</val>
          </string>
          <string>
            <id>THEMES_PICS_STR</id>
            <val>ãã¼ã &amp; ã²ã¼ãã¼ ã¢ã¤ã³ã³</val>
          </string>
          <string>
            <id>TV_SHOWS_VIDEOS_STR</id>
            <val>ãã¬ãçªçµ</val>
          </string>
          <string>
            <id>INDY_VIDEOS_STR</id>
            <val>ã²ã¼ã  ã³ãã¥ããã£ã¼ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_VIDEOS_STR</id>
            <val>æ ç»</val>
          </string>
          <string>
            <id>MUSIC_VIDEOS_STR</id>
            <val>ãã¥ã¼ã¸ãã¯ ãããª</val>
          </string>
          <string>
            <id>TV_MUSIC_VIDEOS_MORE_STR</id>
            <val>ãã®ä»ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_SHORT_FILMS_STR</id>
            <val>æ ç» &amp; ç­ç·¨ãããª</val>
          </string>
          <string>
            <id>NETFLIX_STR</id>
            <val>Netflix</val>
          </string>
          <string>
            <id>ALL_GAMES_STR</id>
            <val>ãã¹ã¦ã®ã²ã¼ã </val>
          </string>
        </strings>
   </language>
   <language>
     <id>DEU_3</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Spiele</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Die Beliebtesten</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Neu eingetroffen</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Spieldemos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Community-Spiele</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Spiel-Add-ons</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Spielvideos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Themen &amp; Spielerbilder</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Fernsehshows</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>UnabhÃ¤ngige Videos</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filme</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Musikvideos</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, Musikvideos &amp;  mehr</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filme &amp; Kurzfilme</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Alle Spiele</val>
       </string>
     </strings>
   </language>
   <language>
     <id>FRA_4</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jeux</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VidÃ©o</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Les plus tÃ©lÃ©chargÃ©es</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>NouveautÃ©s</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>DÃ©mos de jeux</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Jeux de la 1re Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jeux de la communautÃ©</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Extensions de jeux</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VidÃ©os de jeux</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ThÃ¨mes et images de joueur</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmes de tÃ©lÃ©vision</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VidÃ©os indÃ©pendantes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Films</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VidÃ©os musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, vidÃ©os musicales et autres</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Films et courts mÃ©trages</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tous les jeux</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ESP_5</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Juegos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Los mÃ¡s populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuevas llegadas</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de juegos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Originales Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Juegos de la comunidad</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de juego</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de juegos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e imÃ¡genes de jugador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos independientes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>PelÃ­culas</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TelevisiÃ³n, vÃ­deos musicales y mucho mÃ¡s</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>PelÃ­culas y cortometrajes</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos los juegos</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ITA_6</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Giochi</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>I piÃ¹ popolari</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuovi arrivi</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demo dei giochi</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Original</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Giochi dalla Community</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Add-on dei giochi</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Video dei giochi</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temi e immagini del giocatore</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmi TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Video indipendenti</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Film</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Video musicali</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, video musicali e altro</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Film e cortometraggi</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tutti i giochi</val>
       </string>
     </strings>
   </language>
   <language>
     <id>KOR_7</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ê²ì</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ë¹ëì¤</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>ì¸ê¸° í­ëª©</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ì ì</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ê²ì ë°ëª¨</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox 1</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ì»¤ë®¤ëí° ê²ì</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ê²ì ì¶ê° ì½íì¸ </val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ê²ì ë¹ëì¤</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>íë§ ë° ê²ì´ë¨¸ ì¬ì§</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>TV íë¡ê·¸ë¨</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ê°ì¸ ì ì ë¹ëì¤</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>ìí</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ë®¤ì§ ë¹ëì¤</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV ë®¤ì§ ë¹ëì¤ ë° ê¸°í ë±ë±</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>ìí ë° ë¨í¸ ìí</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ëª¨ë  ê²ì</val>
       </string>
     </strings>
   </language>
   <language>
     <id>TWN_8</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>éæ²</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>å½±ç</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>æåæ­¡è¿</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>æ°é®®è²¨</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>éæ²ç¤ºç¯</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox ç¬¬ä¸ä»£éæ²</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ç¤¾ç¾¤éæ²</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>éæ²éå åè½</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>éæ²å½±ç</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ä¸»é¡åç©å®¶åç¤º</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>é»è¦ç¯ç®</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ç¨ç«è£½ç</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>é»å½±</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>é³æ¨å½±ç</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>é»è¦ç¯ç®ãé³æ¨å½±çåæ´å¤å§å®¹</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>é»å½±åç­ç</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ææéæ²</val>
       </string>
     </strings>
   </language>
   <language>
     <id>PTB_9</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jogos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Mais Populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>LanÃ§amentos</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de Jogos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originais</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jogos da Comunidade</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de Jogos</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de Jogos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e Imagens do Jogador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos Independentes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmes</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos de MÃºsicas</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, VÃ­deos de MÃºsicas e Muito Mais</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmes e Curtas-metragens</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos os Jogos</val>
       </string>
     </strings>
   </language>
      <language>
     <id>POL_11</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Gry</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Wideo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Najpopularniejsze</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nowe propozycje</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Wersje demonstracyjne gier</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Gry na konsolÄ Xbox 1. generacji</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Gry spoÅecznoÅciowe</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Dodatki do gier</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Wideo z gier</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Kompozycje i obrazki gracza</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Seriale</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Filmy niezaleÅ¼ne</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmy</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Teledyski</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, teledyski i inne</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmy zwykÅe i krÃ³tkometraÅ¼owe</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Wszystkie gry</val>
       </string>
     </strings>
   </language>
   <language>
     <id>RUS_12</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ÐÐ³ÑÑ</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Ð¡Ð°Ð¼ÑÐµ Ð¿Ð¾Ð¿ÑÐ»ÑÑÐ½ÑÐµ</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ÐÐ¾Ð²ÑÐµ Ð¿Ð¾ÑÑÑÐ¿Ð»ÐµÐ½Ð¸Ñ</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>ÐÑÐºÐ°Ð´Ð½Ð°Ñ Ð¸Ð³ÑÐ°</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ÐÐµÐ¼Ð¾-Ð²ÐµÑÑÐ¸Ð¸ Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ÐÐ³ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÑÑÐ²Ð°</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÑ Ðº Ð¸Ð³ÑÐ°Ð¼</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾ Ð¸Ð· Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Ð¢ÐµÐ¼Ñ Ð¸ ÐºÐ°ÑÑÐ¸Ð½ÐºÐ¸ Ð¸Ð³ÑÐ¾ÐºÐ¾Ð²</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼ÑÐµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ÐÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸, Ð¼ÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ðµ Ð´ÑÑÐ³Ð¾Ðµ</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ Ð¸ ÐºÐ¾ÑÐ¾ÑÐºÐ¾Ð¼ÐµÑÑÐ°Ð¶Ð½ÑÐµ ÑÐ¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ÐÑÐµ Ð¸Ð³ÑÑ</val>
       </string>
     </strings>
   </language>
 </stringTable>
 </RootNode>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\XmlTestFiles\Invalid\StorePickerInvalidSCmd.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
 <mktpl>
  <tax>
   <taxID>FULL_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
      <deptID>ARCADE</deptID>
      <deptID>ADD_ONS</deptID>
      <deptID>ORIGINALS</deptID>
      <deptID>THEMES_PICS</deptID>
      <deptID>COM_GAMES</deptID>
      <deptID>DEMOS</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_GAMES</deptID>
      <deptID>NEW_ARRIVALS_GAMES</deptID>
      <deptID>ALL_GAMES</deptID> 
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_SHOWS_VIDEOS</deptID>
      <deptID>NETFLIX</deptID>
      <deptID>MUSIC_VIDEOS</deptID>
      <deptID>INDY_VIDEOS</deptID>
      <deptID>GAME_VIDEOS</deptID>            
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>MOVIES_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>COM_GAMES</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L3</storeID>
     <deptList>
      <deptID>MOVIES_SHORT_FILMS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_COM_GAMES</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
 </mktpl>

 <stores>
  <store>
   <id>GAME_STORE</id>
   <storeInfo>
    <storeStrID>GAME_STORE_STR</storeStrID>
    <nameStrID>GAME_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction2</cmd>
    <param>NavigateToChannel</param>
    <param2>gamestore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L2</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L3</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
 </stores>

 <depts>
  <dept>
   <id>MOST_POPULAR_GAMES</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_GAMES</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ARCADE</id>
   <deptInfo>
    <nameStrID>ARCADE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>arcadedept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>DEMOS</id>
   <deptInfo>
    <nameStrID>DEMOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>demosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ORIGINALS</id>
   <deptInfo>
    <nameStrID>ORIGINALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xboxoriginalsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>COM_GAMES</id>
   <deptInfo>
    <nameStrID>COM_GAMES_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xnadept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ADD_ONS</id>
   <deptInfo>
    <nameStrID>ADD_ONS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>addonsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>GAME_VIDEOS</id>
   <deptInfo>
    <nameStrID>GAME_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamevideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>THEMES_PICS</id>
   <deptInfo>
    <nameStrID>THEMES_PICS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>themesandgamerpicsdept.xml</param2>
   </deptInfo>
  </dept>
   <dept>
     <id>ALL_GAMES</id>
     <deptInfo>
       <nameStrID>ALL_GAMES_STR</nameStrID>
       <cmd>EcNavMarketplaceScriptAction</cmd>
       <param>BrowseUI</param>
       <param2>Browse_GameStore</param2>
     </deptInfo>
   </dept>   
  <dept>
   <id>MOST_POPULAR_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_VIDEOS</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>moviesdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_SHOWS_VIDEOS</id>
   <deptInfo>
    <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>tvdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MUSIC_VIDEOS</id>
   <deptInfo>
    <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>musicvideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>INDY_VIDEOS</id>
   <deptInfo>
    <nameStrID>INDY_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>IndyVideosDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_MUSIC_VIDEOS_MORE</id>
   <deptInfo>
    <nameStrID>TV_MUSIC_VIDEOS_MORE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>TVMusicMoreDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_SHORT_FILMS</id>
   <deptInfo>
    <nameStrID>MOVIES_SHORT_FILMS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>MoviesShortFilmsDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NETFLIX</id>
   <deptInfo>
    <nameStrID>NETFLIX_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>LaunchMarketplaceContent</param>
    <param2>00000003-0000-4000-8000-0000584807D5</param2>
    <param3>60</param3>
    <param4>8778403792F0046981C05EB13B715E8CFBCF31D458</param4>
   </deptInfo>
  </dept>
 </depts>
 <taxMap>
  <taxonomy>
   <id>FULL_VID_MKTPL</id>
   <taxCountries>
    <cID>103_UNITED_STATES</cID>
   </taxCountries>
  </taxonomy>
  <taxonomy>
   <id>MOVIES_VID_MKTPL</id>
   <taxCountries>
    <cID>16_CANADA</cID>
    <cID>31_SPAIN</cID>
    <cID>34_FRANCE</cID>
    <cID>35_GREAT_BRITAIN</cID>
    <cID>50_ITALY</cID>
   </taxCountries>
  </taxonomy>
   <taxonomy>
     <id>NO_COM_GAMES</id>
     <taxCountries>
       <cID>24_GERMANY</cID>
       <cID>44_IRELAND</cID>       
     </taxCountries>
   </taxonomy>
   <taxonomy>
   <id>NO_VID_MKTPL</id>
   <taxCountries>
    <cID>5_AUSTRIA</cID>
    <cID>6_AUSTRALIA</cID>
    <cID>8_BELGIUM</cID>
    <cID>18_SWITZERLAND</cID>
    <cID>20_CHINA</cID>
    <cID>25_DENMARK</cID>
    <cID>32_FINLAND</cID>
    <cID>39_HONG_KONG</cID>
    <cID>46_INDIA</cID>
    <cID>53_JAPAN</cID>
    <cID>56_KOREA</cID>
    <cID>71_MEXICO</cID>
    <cID>74_NETHERLANDS</cID>
    <cID>75_NORWAY</cID>
    <cID>76_NEW_ZEALAND</cID>
    <cID>84_PORTUGAL</cID>
    <cID>90_SWEDEN</cID>
    <cID>91_SINGAPORE</cID>
    <cID>101_TAIWAN</cID>
   </taxCountries>
  </taxonomy>
 </taxMap>
 <stringTable>
  <language>
   <id>ENG_1</id>
   <strings>
    <string>
     <id>GAME_STORE_STR</id>
     <val>Games</val>
    </string>
    <string>
     <id>GAME_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>VID_STORE_STR</id>
     <val>Video</val>
    </string>
    <string>
     <id>VID_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>MOST_POPULAR_STR</id>
     <val>Most Popular</val>
    </string>
    <string>
     <id>NEW_ARRIVALS_STR</id>
     <val>New Arrivals</val>
    </string>
    <string>
     <id>ARCADE_STR</id>
     <val>Arcade</val>
    </string>
    <string>
     <id>DEMOS_STR</id>
     <val>Game Demos</val>
    </string>
    <string>
     <id>ORIGINALS_STR</id>
     <val>Xbox Originals</val>
    </string>
    <string>
     <id>COM_GAMES_STR</id>
     <val>Community Games</val>
    </string>
    <string>
     <id>ADD_ONS_STR</id>
     <val>Game Add-ons</val>
    </string>
    <string>
     <id>GAME_VIDEOS_STR</id>
     <val>Game Videos</val>
    </string>
    <string>
     <id>THEMES_PICS_STR</id>
     <val>Themes &amp; Gamer Pictures</val>
    </string>
    <string>
     <id>TV_SHOWS_VIDEOS_STR</id>
     <val>TV Shows</val>
    </string>
    <string>
     <id>INDY_VIDEOS_STR</id>
     <val>Independent Videos</val>
    </string>
    <string>
     <id>MOVIES_VIDEOS_STR</id>
     <val>Movies</val>
    </string>
    <string>
     <id>MUSIC_VIDEOS_STR</id>
     <val>Music Videos</val>
    </string>
    <string>
     <id>TV_MUSIC_VIDEOS_MORE_STR</id>
     <val>TV, Music Videos, &amp; More</val>
    </string>
    <string>
     <id>MOVIES_SHORT_FILMS_STR</id>
     <val>Movies &amp; Short Films</val>
    </string>
    <string>
     <id>NETFLIX_STR</id>
     <val>Netflix</val>
    </string>
     <string>
       <id>ALL_GAMES_STR</id>
       <val>All Games</val>
     </string>
   </strings>
  </language>
      <language>
     <id>JPN_2</id>
        <strings>
          <string>
            <id>GAME_STORE_STR</id>
            <val>ã²ã¼ã </val>
          </string>
          <string>
            <id>GAME_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>VID_STORE_STR</id>
            <val>ãããª</val>
          </string>
          <string>
            <id>VID_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>MOST_POPULAR_STR</id>
            <val>äººæ°ã®ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>NEW_ARRIVALS_STR</id>
            <val>æ°ç</val>
          </string>
          <string>
            <id>ARCADE_STR</id>
            <val>ã¢ã¼ã±ã¼ã</val>
          </string>
          <string>
            <id>DEMOS_STR</id>
            <val>ã²ã¼ã ã®ãã¢</val>
          </string>
          <string>
            <id>ORIGINALS_STR</id>
            <val>Xbox ã¯ã©ã·ãã¯ã¹</val>
          </string>
          <string>
            <id>COM_GAMES_STR</id>
            <val>ã³ãã¥ããã£ã¼ ã²ã¼ã </val>
          </string>
          <string>
            <id>ADD_ONS_STR</id>
            <val>ã²ã¼ã è¿½å ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>GAME_VIDEOS_STR</id>
            <val>ã²ã¼ã ã®æ å</val>
          </string>
          <string>
            <id>THEMES_PICS_STR</id>
            <val>ãã¼ã &amp; ã²ã¼ãã¼ ã¢ã¤ã³ã³</val>
          </string>
          <string>
            <id>TV_SHOWS_VIDEOS_STR</id>
            <val>ãã¬ãçªçµ</val>
          </string>
          <string>
            <id>INDY_VIDEOS_STR</id>
            <val>ã²ã¼ã  ã³ãã¥ããã£ã¼ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_VIDEOS_STR</id>
            <val>æ ç»</val>
          </string>
          <string>
            <id>MUSIC_VIDEOS_STR</id>
            <val>ãã¥ã¼ã¸ãã¯ ãããª</val>
          </string>
          <string>
            <id>TV_MUSIC_VIDEOS_MORE_STR</id>
            <val>ãã®ä»ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_SHORT_FILMS_STR</id>
            <val>æ ç» &amp; ç­ç·¨ãããª</val>
          </string>
          <string>
            <id>NETFLIX_STR</id>
            <val>Netflix</val>
          </string>
          <string>
            <id>ALL_GAMES_STR</id>
            <val>ãã¹ã¦ã®ã²ã¼ã </val>
          </string>
        </strings>
   </language>
   <language>
     <id>DEU_3</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Spiele</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Die Beliebtesten</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Neu eingetroffen</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Spieldemos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Community-Spiele</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Spiel-Add-ons</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Spielvideos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Themen &amp; Spielerbilder</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Fernsehshows</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>UnabhÃ¤ngige Videos</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filme</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Musikvideos</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, Musikvideos &amp;  mehr</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filme &amp; Kurzfilme</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Alle Spiele</val>
       </string>
     </strings>
   </language>
   <language>
     <id>FRA_4</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jeux</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VidÃ©o</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Les plus tÃ©lÃ©chargÃ©es</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>NouveautÃ©s</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>DÃ©mos de jeux</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Jeux de la 1re Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jeux de la communautÃ©</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Extensions de jeux</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VidÃ©os de jeux</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ThÃ¨mes et images de joueur</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmes de tÃ©lÃ©vision</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VidÃ©os indÃ©pendantes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Films</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VidÃ©os musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, vidÃ©os musicales et autres</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Films et courts mÃ©trages</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tous les jeux</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ESP_5</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Juegos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Los mÃ¡s populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuevas llegadas</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de juegos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Originales Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Juegos de la comunidad</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de juego</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de juegos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e imÃ¡genes de jugador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos independientes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>PelÃ­culas</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TelevisiÃ³n, vÃ­deos musicales y mucho mÃ¡s</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>PelÃ­culas y cortometrajes</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos los juegos</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ITA_6</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Giochi</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>I piÃ¹ popolari</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuovi arrivi</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demo dei giochi</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Original</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Giochi dalla Community</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Add-on dei giochi</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Video dei giochi</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temi e immagini del giocatore</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmi TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Video indipendenti</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Film</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Video musicali</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, video musicali e altro</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Film e cortometraggi</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tutti i giochi</val>
       </string>
     </strings>
   </language>
   <language>
     <id>KOR_7</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ê²ì</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ë¹ëì¤</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>ì¸ê¸° í­ëª©</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ì ì</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ê²ì ë°ëª¨</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox 1</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ì»¤ë®¤ëí° ê²ì</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ê²ì ì¶ê° ì½íì¸ </val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ê²ì ë¹ëì¤</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>íë§ ë° ê²ì´ë¨¸ ì¬ì§</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>TV íë¡ê·¸ë¨</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ê°ì¸ ì ì ë¹ëì¤</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>ìí</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ë®¤ì§ ë¹ëì¤</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV ë®¤ì§ ë¹ëì¤ ë° ê¸°í ë±ë±</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>ìí ë° ë¨í¸ ìí</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ëª¨ë  ê²ì</val>
       </string>
     </strings>
   </language>
   <language>
     <id>TWN_8</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>éæ²</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>å½±ç</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>æåæ­¡è¿</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>æ°é®®è²¨</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>éæ²ç¤ºç¯</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox ç¬¬ä¸ä»£éæ²</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ç¤¾ç¾¤éæ²</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>éæ²éå åè½</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>éæ²å½±ç</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ä¸»é¡åç©å®¶åç¤º</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>é»è¦ç¯ç®</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ç¨ç«è£½ç</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>é»å½±</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>é³æ¨å½±ç</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>é»è¦ç¯ç®ãé³æ¨å½±çåæ´å¤å§å®¹</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>é»å½±åç­ç</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ææéæ²</val>
       </string>
     </strings>
   </language>
   <language>
     <id>PTB_9</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jogos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Mais Populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>LanÃ§amentos</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de Jogos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originais</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jogos da Comunidade</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de Jogos</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de Jogos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e Imagens do Jogador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos Independentes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmes</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos de MÃºsicas</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, VÃ­deos de MÃºsicas e Muito Mais</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmes e Curtas-metragens</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos os Jogos</val>
       </string>
     </strings>
   </language>
      <language>
     <id>POL_11</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Gry</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Wideo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Najpopularniejsze</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nowe propozycje</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Wersje demonstracyjne gier</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Gry na konsolÄ Xbox 1. generacji</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Gry spoÅecznoÅciowe</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Dodatki do gier</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Wideo z gier</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Kompozycje i obrazki gracza</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Seriale</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Filmy niezaleÅ¼ne</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmy</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Teledyski</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, teledyski i inne</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmy zwykÅe i krÃ³tkometraÅ¼owe</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Wszystkie gry</val>
       </string>
     </strings>
   </language>
   <language>
     <id>RUS_12</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ÐÐ³ÑÑ</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Ð¡Ð°Ð¼ÑÐµ Ð¿Ð¾Ð¿ÑÐ»ÑÑÐ½ÑÐµ</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ÐÐ¾Ð²ÑÐµ Ð¿Ð¾ÑÑÑÐ¿Ð»ÐµÐ½Ð¸Ñ</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>ÐÑÐºÐ°Ð´Ð½Ð°Ñ Ð¸Ð³ÑÐ°</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ÐÐµÐ¼Ð¾-Ð²ÐµÑÑÐ¸Ð¸ Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ÐÐ³ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÑÑÐ²Ð°</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÑ Ðº Ð¸Ð³ÑÐ°Ð¼</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾ Ð¸Ð· Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Ð¢ÐµÐ¼Ñ Ð¸ ÐºÐ°ÑÑÐ¸Ð½ÐºÐ¸ Ð¸Ð³ÑÐ¾ÐºÐ¾Ð²</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼ÑÐµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ÐÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸, Ð¼ÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ðµ Ð´ÑÑÐ³Ð¾Ðµ</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ Ð¸ ÐºÐ¾ÑÐ¾ÑÐºÐ¾Ð¼ÐµÑÑÐ°Ð¶Ð½ÑÐµ ÑÐ¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ÐÑÐµ Ð¸Ð³ÑÑ</val>
       </string>
     </strings>
   </language>
 </stringTable>
 </RootNode>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\XmlTestFiles\Invalid\StorePickerInvalidNoTaxCountry.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
 <mktpl>
  <tax>
   <taxID>FULL_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
      <deptID>ARCADE</deptID>
      <deptID>ADD_ONS</deptID>
      <deptID>ORIGINALS</deptID>
      <deptID>THEMES_PICS</deptID>
      <deptID>COM_GAMES</deptID>
      <deptID>DEMOS</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_GAMES</deptID>
      <deptID>NEW_ARRIVALS_GAMES</deptID>
      <deptID>ALL_GAMES</deptID> 
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_SHOWS_VIDEOS</deptID>
      <deptID>NETFLIX</deptID>
      <deptID>MUSIC_VIDEOS</deptID>
      <deptID>INDY_VIDEOS</deptID>
      <deptID>GAME_VIDEOS</deptID>            
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>MOVIES_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>COM_GAMES</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L3</storeID>
     <deptList>
      <deptID>MOVIES_SHORT_FILMS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_COM_GAMES</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
 </mktpl>

 <stores>
  <store>
   <id>GAME_STORE</id>
   <storeInfo>
    <storeStrID>GAME_STORE_STR</storeStrID>
    <nameStrID>GAME_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamestore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L2</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L3</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
 </stores>

 <depts>
  <dept>
   <id>MOST_POPULAR_GAMES</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_GAMES</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ARCADE</id>
   <deptInfo>
    <nameStrID>ARCADE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>arcadedept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>DEMOS</id>
   <deptInfo>
    <nameStrID>DEMOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>demosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ORIGINALS</id>
   <deptInfo>
    <nameStrID>ORIGINALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xboxoriginalsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>COM_GAMES</id>
   <deptInfo>
    <nameStrID>COM_GAMES_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xnadept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ADD_ONS</id>
   <deptInfo>
    <nameStrID>ADD_ONS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>addonsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>GAME_VIDEOS</id>
   <deptInfo>
    <nameStrID>GAME_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamevideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>THEMES_PICS</id>
   <deptInfo>
    <nameStrID>THEMES_PICS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>themesandgamerpicsdept.xml</param2>
   </deptInfo>
  </dept>
   <dept>
     <id>ALL_GAMES</id>
     <deptInfo>
       <nameStrID>ALL_GAMES_STR</nameStrID>
       <cmd>EcNavMarketplaceScriptAction</cmd>
       <param>BrowseUI</param>
       <param2>Browse_GameStore</param2>
     </deptInfo>
   </dept>   
  <dept>
   <id>MOST_POPULAR_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_VIDEOS</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>moviesdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_SHOWS_VIDEOS</id>
   <deptInfo>
    <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>tvdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MUSIC_VIDEOS</id>
   <deptInfo>
    <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>musicvideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>INDY_VIDEOS</id>
   <deptInfo>
    <nameStrID>INDY_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>IndyVideosDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_MUSIC_VIDEOS_MORE</id>
   <deptInfo>
    <nameStrID>TV_MUSIC_VIDEOS_MORE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>TVMusicMoreDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_SHORT_FILMS</id>
   <deptInfo>
    <nameStrID>MOVIES_SHORT_FILMS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>MoviesShortFilmsDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NETFLIX</id>
   <deptInfo>
    <nameStrID>NETFLIX_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>LaunchMarketplaceContent</param>
    <param2>00000003-0000-4000-8000-0000584807D5</param2>
    <param3>60</param3>
    <param4>8778403792F0046981C05EB13B715E8CFBCF31D458</param4>
   </deptInfo>
  </dept>
 </depts>
 <taxMap>
  <taxonomy>
   <id>FULL_VID_MKTPL</id>
   <taxCountries>
   </taxCountries>
  </taxonomy>
  <taxonomy>
   <id>MOVIES_VID_MKTPL</id>
   <taxCountries>
    <cID>16_CANADA</cID>
    <cID>31_SPAIN</cID>
    <cID>34_FRANCE</cID>
    <cID>35_GREAT_BRITAIN</cID>
    <cID>50_ITALY</cID>
   </taxCountries>
  </taxonomy>
   <taxonomy>
     <id>NO_COM_GAMES</id>
     <taxCountries>
       <cID>24_GERMANY</cID>
       <cID>44_IRELAND</cID>       
     </taxCountries>
   </taxonomy>
   <taxonomy>
   <id>NO_VID_MKTPL</id>
   <taxCountries>
    <cID>5_AUSTRIA</cID>
    <cID>6_AUSTRALIA</cID>
    <cID>8_BELGIUM</cID>
    <cID>18_SWITZERLAND</cID>
    <cID>20_CHINA</cID>
    <cID>25_DENMARK</cID>
    <cID>32_FINLAND</cID>
    <cID>39_HONG_KONG</cID>
    <cID>46_INDIA</cID>
    <cID>53_JAPAN</cID>
    <cID>56_KOREA</cID>
    <cID>71_MEXICO</cID>
    <cID>74_NETHERLANDS</cID>
    <cID>75_NORWAY</cID>
    <cID>76_NEW_ZEALAND</cID>
    <cID>84_PORTUGAL</cID>
    <cID>90_SWEDEN</cID>
    <cID>91_SINGAPORE</cID>
    <cID>101_TAIWAN</cID>
   </taxCountries>
  </taxonomy>
 </taxMap>
 <stringTable>
  <language>
   <id>ENG_1</id>
   <strings>
    <string>
     <id>GAME_STORE_STR</id>
     <val>Games</val>
    </string>
    <string>
     <id>GAME_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>VID_STORE_STR</id>
     <val>Video</val>
    </string>
    <string>
     <id>VID_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>MOST_POPULAR_STR</id>
     <val>Most Popular</val>
    </string>
    <string>
     <id>NEW_ARRIVALS_STR</id>
     <val>New Arrivals</val>
    </string>
    <string>
     <id>ARCADE_STR</id>
     <val>Arcade</val>
    </string>
    <string>
     <id>DEMOS_STR</id>
     <val>Game Demos</val>
    </string>
    <string>
     <id>ORIGINALS_STR</id>
     <val>Xbox Originals</val>
    </string>
    <string>
     <id>COM_GAMES_STR</id>
     <val>Community Games</val>
    </string>
    <string>
     <id>ADD_ONS_STR</id>
     <val>Game Add-ons</val>
    </string>
    <string>
     <id>GAME_VIDEOS_STR</id>
     <val>Game Videos</val>
    </string>
    <string>
     <id>THEMES_PICS_STR</id>
     <val>Themes &amp; Gamer Pictures</val>
    </string>
    <string>
     <id>TV_SHOWS_VIDEOS_STR</id>
     <val>TV Shows</val>
    </string>
    <string>
     <id>INDY_VIDEOS_STR</id>
     <val>Independent Videos</val>
    </string>
    <string>
     <id>MOVIES_VIDEOS_STR</id>
     <val>Movies</val>
    </string>
    <string>
     <id>MUSIC_VIDEOS_STR</id>
     <val>Music Videos</val>
    </string>
    <string>
     <id>TV_MUSIC_VIDEOS_MORE_STR</id>
     <val>TV, Music Videos, &amp; More</val>
    </string>
    <string>
     <id>MOVIES_SHORT_FILMS_STR</id>
     <val>Movies &amp; Short Films</val>
    </string>
    <string>
     <id>NETFLIX_STR</id>
     <val>Netflix</val>
    </string>
     <string>
       <id>ALL_GAMES_STR</id>
       <val>All Games</val>
     </string>
   </strings>
  </language>
      <language>
     <id>JPN_2</id>
        <strings>
          <string>
            <id>GAME_STORE_STR</id>
            <val>ã²ã¼ã </val>
          </string>
          <string>
            <id>GAME_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>VID_STORE_STR</id>
            <val>ãããª</val>
          </string>
          <string>
            <id>VID_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>MOST_POPULAR_STR</id>
            <val>äººæ°ã®ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>NEW_ARRIVALS_STR</id>
            <val>æ°ç</val>
          </string>
          <string>
            <id>ARCADE_STR</id>
            <val>ã¢ã¼ã±ã¼ã</val>
          </string>
          <string>
            <id>DEMOS_STR</id>
            <val>ã²ã¼ã ã®ãã¢</val>
          </string>
          <string>
            <id>ORIGINALS_STR</id>
            <val>Xbox ã¯ã©ã·ãã¯ã¹</val>
          </string>
          <string>
            <id>COM_GAMES_STR</id>
            <val>ã³ãã¥ããã£ã¼ ã²ã¼ã </val>
          </string>
          <string>
            <id>ADD_ONS_STR</id>
            <val>ã²ã¼ã è¿½å ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>GAME_VIDEOS_STR</id>
            <val>ã²ã¼ã ã®æ å</val>
          </string>
          <string>
            <id>THEMES_PICS_STR</id>
            <val>ãã¼ã &amp; ã²ã¼ãã¼ ã¢ã¤ã³ã³</val>
          </string>
          <string>
            <id>TV_SHOWS_VIDEOS_STR</id>
            <val>ãã¬ãçªçµ</val>
          </string>
          <string>
            <id>INDY_VIDEOS_STR</id>
            <val>ã²ã¼ã  ã³ãã¥ããã£ã¼ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_VIDEOS_STR</id>
            <val>æ ç»</val>
          </string>
          <string>
            <id>MUSIC_VIDEOS_STR</id>
            <val>ãã¥ã¼ã¸ãã¯ ãããª</val>
          </string>
          <string>
            <id>TV_MUSIC_VIDEOS_MORE_STR</id>
            <val>ãã®ä»ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_SHORT_FILMS_STR</id>
            <val>æ ç» &amp; ç­ç·¨ãããª</val>
          </string>
          <string>
            <id>NETFLIX_STR</id>
            <val>Netflix</val>
          </string>
          <string>
            <id>ALL_GAMES_STR</id>
            <val>ãã¹ã¦ã®ã²ã¼ã </val>
          </string>
        </strings>
   </language>
   <language>
     <id>DEU_3</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Spiele</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Die Beliebtesten</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Neu eingetroffen</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Spieldemos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Community-Spiele</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Spiel-Add-ons</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Spielvideos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Themen &amp; Spielerbilder</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Fernsehshows</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>UnabhÃ¤ngige Videos</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filme</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Musikvideos</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, Musikvideos &amp;  mehr</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filme &amp; Kurzfilme</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Alle Spiele</val>
       </string>
     </strings>
   </language>
   <language>
     <id>FRA_4</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jeux</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VidÃ©o</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Les plus tÃ©lÃ©chargÃ©es</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>NouveautÃ©s</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>DÃ©mos de jeux</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Jeux de la 1re Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jeux de la communautÃ©</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Extensions de jeux</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VidÃ©os de jeux</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ThÃ¨mes et images de joueur</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmes de tÃ©lÃ©vision</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VidÃ©os indÃ©pendantes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Films</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VidÃ©os musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, vidÃ©os musicales et autres</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Films et courts mÃ©trages</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tous les jeux</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ESP_5</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Juegos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Los mÃ¡s populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuevas llegadas</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de juegos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Originales Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Juegos de la comunidad</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de juego</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de juegos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e imÃ¡genes de jugador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos independientes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>PelÃ­culas</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TelevisiÃ³n, vÃ­deos musicales y mucho mÃ¡s</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>PelÃ­culas y cortometrajes</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos los juegos</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ITA_6</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Giochi</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>I piÃ¹ popolari</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuovi arrivi</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demo dei giochi</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Original</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Giochi dalla Community</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Add-on dei giochi</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Video dei giochi</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temi e immagini del giocatore</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmi TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Video indipendenti</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Film</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Video musicali</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, video musicali e altro</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Film e cortometraggi</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tutti i giochi</val>
       </string>
     </strings>
   </language>
   <language>
     <id>KOR_7</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ê²ì</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ë¹ëì¤</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>ì¸ê¸° í­ëª©</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ì ì</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ê²ì ë°ëª¨</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox 1</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ì»¤ë®¤ëí° ê²ì</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ê²ì ì¶ê° ì½íì¸ </val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ê²ì ë¹ëì¤</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>íë§ ë° ê²ì´ë¨¸ ì¬ì§</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>TV íë¡ê·¸ë¨</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ê°ì¸ ì ì ë¹ëì¤</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>ìí</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ë®¤ì§ ë¹ëì¤</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV ë®¤ì§ ë¹ëì¤ ë° ê¸°í ë±ë±</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>ìí ë° ë¨í¸ ìí</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ëª¨ë  ê²ì</val>
       </string>
     </strings>
   </language>
   <language>
     <id>TWN_8</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>éæ²</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>å½±ç</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>æåæ­¡è¿</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>æ°é®®è²¨</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>éæ²ç¤ºç¯</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox ç¬¬ä¸ä»£éæ²</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ç¤¾ç¾¤éæ²</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>éæ²éå åè½</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>éæ²å½±ç</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ä¸»é¡åç©å®¶åç¤º</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>é»è¦ç¯ç®</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ç¨ç«è£½ç</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>é»å½±</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>é³æ¨å½±ç</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>é»è¦ç¯ç®ãé³æ¨å½±çåæ´å¤å§å®¹</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>é»å½±åç­ç</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ææéæ²</val>
       </string>
     </strings>
   </language>
   <language>
     <id>PTB_9</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jogos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Mais Populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>LanÃ§amentos</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de Jogos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originais</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jogos da Comunidade</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de Jogos</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de Jogos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e Imagens do Jogador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos Independentes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmes</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos de MÃºsicas</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, VÃ­deos de MÃºsicas e Muito Mais</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmes e Curtas-metragens</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos os Jogos</val>
       </string>
     </strings>
   </language>
      <language>
     <id>POL_11</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Gry</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Wideo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Najpopularniejsze</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nowe propozycje</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Wersje demonstracyjne gier</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Gry na konsolÄ Xbox 1. generacji</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Gry spoÅecznoÅciowe</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Dodatki do gier</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Wideo z gier</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Kompozycje i obrazki gracza</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Seriale</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Filmy niezaleÅ¼ne</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmy</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Teledyski</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, teledyski i inne</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmy zwykÅe i krÃ³tkometraÅ¼owe</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Wszystkie gry</val>
       </string>
     </strings>
   </language>
   <language>
     <id>RUS_12</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ÐÐ³ÑÑ</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Ð¡Ð°Ð¼ÑÐµ Ð¿Ð¾Ð¿ÑÐ»ÑÑÐ½ÑÐµ</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ÐÐ¾Ð²ÑÐµ Ð¿Ð¾ÑÑÑÐ¿Ð»ÐµÐ½Ð¸Ñ</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>ÐÑÐºÐ°Ð´Ð½Ð°Ñ Ð¸Ð³ÑÐ°</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ÐÐµÐ¼Ð¾-Ð²ÐµÑÑÐ¸Ð¸ Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ÐÐ³ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÑÑÐ²Ð°</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÑ Ðº Ð¸Ð³ÑÐ°Ð¼</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾ Ð¸Ð· Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Ð¢ÐµÐ¼Ñ Ð¸ ÐºÐ°ÑÑÐ¸Ð½ÐºÐ¸ Ð¸Ð³ÑÐ¾ÐºÐ¾Ð²</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼ÑÐµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ÐÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸, Ð¼ÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ðµ Ð´ÑÑÐ³Ð¾Ðµ</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ Ð¸ ÐºÐ¾ÑÐ¾ÑÐºÐ¾Ð¼ÐµÑÑÐ°Ð¶Ð½ÑÐµ ÑÐ¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ÐÑÐµ Ð¸Ð³ÑÑ</val>
       </string>
     </strings>
   </language>
 </stringTable>
 </RootNode>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\XmlTestFiles\Invalid\StorePickerInvalidDParam.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
 <mktpl>
  <tax>
   <taxID>FULL_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
      <deptID>ARCADE</deptID>
      <deptID>ADD_ONS</deptID>
      <deptID>ORIGINALS</deptID>
      <deptID>THEMES_PICS</deptID>
      <deptID>COM_GAMES</deptID>
      <deptID>DEMOS</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_GAMES</deptID>
      <deptID>NEW_ARRIVALS_GAMES</deptID>
      <deptID>ALL_GAMES</deptID> 
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_SHOWS_VIDEOS</deptID>
      <deptID>NETFLIX</deptID>
      <deptID>MUSIC_VIDEOS</deptID>
      <deptID>INDY_VIDEOS</deptID>
      <deptID>GAME_VIDEOS</deptID>            
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>MOVIES_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>COM_GAMES</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L3</storeID>
     <deptList>
      <deptID>MOVIES_SHORT_FILMS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_COM_GAMES</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
 </mktpl>

 <stores>
  <store>
   <id>GAME_STORE</id>
   <storeInfo>
    <storeStrID>GAME_STORE_STR</storeStrID>
    <nameStrID>GAME_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamestore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L2</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L3</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
 </stores>

 <depts>
  <dept>
   <id>MOST_POPULAR_GAMES</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_GAMES</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ARCADE</id>
   <deptInfo>
    <nameStrID>ARCADE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>arcadedept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>DEMOS</id>
   <deptInfo>
    <nameStrID>DEMOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>demosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ORIGINALS</id>
   <deptInfo>
    <nameStrID>ORIGINALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xboxoriginalsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>COM_GAMES</id>
   <deptInfo>
    <nameStrID>COM_GAMES_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xnadept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ADD_ONS</id>
   <deptInfo>
    <nameStrID>ADD_ONS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>addonsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>GAME_VIDEOS</id>
   <deptInfo>
    <nameStrID>GAME_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamevideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>THEMES_PICS</id>
   <deptInfo>
    <nameStrID>THEMES_PICS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>themesandgamerpicsdept.xml</param2>
   </deptInfo>
  </dept>
   <dept>
     <id>ALL_GAMES</id>
     <deptInfo>
       <nameStrID>ALL_GAMES_STR</nameStrID>
       <cmd>EcNavMarketplaceScriptAction</cmd>
       <param>BrowseUI</param>
       <param2>Browse_GameStore</param2>
     </deptInfo>
   </dept>   
  <dept>
   <id>MOST_POPULAR_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_VIDEOS</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>moviesdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_SHOWS_VIDEOS</id>
   <deptInfo>
    <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>tvdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MUSIC_VIDEOS</id>
   <deptInfo>
    <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>musicvideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>INDY_VIDEOS</id>
   <deptInfo>
    <nameStrID>INDY_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>IndyVideosDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_MUSIC_VIDEOS_MORE</id>
   <deptInfo>
    <nameStrID>TV_MUSIC_VIDEOS_MORE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>TVMusicMoreDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_SHORT_FILMS</id>
   <deptInfo>
    <nameStrID>MOVIES_SHORT_FILMS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>MoviesShortFilmsDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NETFLIX</id>
   <deptInfo>
    <nameStrID>NETFLIX_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptActionZOMG</cmd>
    <param>LaunchMarketplaceContent</param>
    <param2>00000003-0000-4000-8000-0000584807D5</param2>
    <param3>60</param3>
    <param4>8778403792F0046981C05EB13B715E8CFBCF31D458</param4>
   </deptInfo>
  </dept>
 </depts>
 <taxMap>
  <taxonomy>
   <id>FULL_VID_MKTPL</id>
   <taxCountries>
    <cID>103_UNITED_STATES</cID>
   </taxCountries>
  </taxonomy>
  <taxonomy>
   <id>MOVIES_VID_MKTPL</id>
   <taxCountries>
    <cID>16_CANADA</cID>
    <cID>31_SPAIN</cID>
    <cID>34_FRANCE</cID>
    <cID>35_GREAT_BRITAIN</cID>
    <cID>50_ITALY</cID>
   </taxCountries>
  </taxonomy>
   <taxonomy>
     <id>NO_COM_GAMES</id>
     <taxCountries>
       <cID>24_GERMANY</cID>
       <cID>44_IRELAND</cID>       
     </taxCountries>
   </taxonomy>
   <taxonomy>
   <id>NO_VID_MKTPL</id>
   <taxCountries>
    <cID>5_AUSTRIA</cID>
    <cID>6_AUSTRALIA</cID>
    <cID>8_BELGIUM</cID>
    <cID>18_SWITZERLAND</cID>
    <cID>20_CHINA</cID>
    <cID>25_DENMARK</cID>
    <cID>32_FINLAND</cID>
    <cID>39_HONG_KONG</cID>
    <cID>46_INDIA</cID>
    <cID>53_JAPAN</cID>
    <cID>56_KOREA</cID>
    <cID>71_MEXICO</cID>
    <cID>74_NETHERLANDS</cID>
    <cID>75_NORWAY</cID>
    <cID>76_NEW_ZEALAND</cID>
    <cID>84_PORTUGAL</cID>
    <cID>90_SWEDEN</cID>
    <cID>91_SINGAPORE</cID>
    <cID>101_TAIWAN</cID>
   </taxCountries>
  </taxonomy>
 </taxMap>
 <stringTable>
  <language>
   <id>ENG_1</id>
   <strings>
    <string>
     <id>GAME_STORE_STR</id>
     <val>Games</val>
    </string>
    <string>
     <id>GAME_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>VID_STORE_STR</id>
     <val>Video</val>
    </string>
    <string>
     <id>VID_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>MOST_POPULAR_STR</id>
     <val>Most Popular</val>
    </string>
    <string>
     <id>NEW_ARRIVALS_STR</id>
     <val>New Arrivals</val>
    </string>
    <string>
     <id>ARCADE_STR</id>
     <val>Arcade</val>
    </string>
    <string>
     <id>DEMOS_STR</id>
     <val>Game Demos</val>
    </string>
    <string>
     <id>ORIGINALS_STR</id>
     <val>Xbox Originals</val>
    </string>
    <string>
     <id>COM_GAMES_STR</id>
     <val>Community Games</val>
    </string>
    <string>
     <id>ADD_ONS_STR</id>
     <val>Game Add-ons</val>
    </string>
    <string>
     <id>GAME_VIDEOS_STR</id>
     <val>Game Videos</val>
    </string>
    <string>
     <id>THEMES_PICS_STR</id>
     <val>Themes &amp; Gamer Pictures</val>
    </string>
    <string>
     <id>TV_SHOWS_VIDEOS_STR</id>
     <val>TV Shows</val>
    </string>
    <string>
     <id>INDY_VIDEOS_STR</id>
     <val>Independent Videos</val>
    </string>
    <string>
     <id>MOVIES_VIDEOS_STR</id>
     <val>Movies</val>
    </string>
    <string>
     <id>MUSIC_VIDEOS_STR</id>
     <val>Music Videos</val>
    </string>
    <string>
     <id>TV_MUSIC_VIDEOS_MORE_STR</id>
     <val>TV, Music Videos, &amp; More</val>
    </string>
    <string>
     <id>MOVIES_SHORT_FILMS_STR</id>
     <val>Movies &amp; Short Films</val>
    </string>
    <string>
     <id>NETFLIX_STR</id>
     <val>Netflix</val>
    </string>
     <string>
       <id>ALL_GAMES_STR</id>
       <val>All Games</val>
     </string>
   </strings>
  </language>
      <language>
     <id>JPN_2</id>
        <strings>
          <string>
            <id>GAME_STORE_STR</id>
            <val>ã²ã¼ã </val>
          </string>
          <string>
            <id>GAME_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>VID_STORE_STR</id>
            <val>ãããª</val>
          </string>
          <string>
            <id>VID_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>MOST_POPULAR_STR</id>
            <val>äººæ°ã®ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>NEW_ARRIVALS_STR</id>
            <val>æ°ç</val>
          </string>
          <string>
            <id>ARCADE_STR</id>
            <val>ã¢ã¼ã±ã¼ã</val>
          </string>
          <string>
            <id>DEMOS_STR</id>
            <val>ã²ã¼ã ã®ãã¢</val>
          </string>
          <string>
            <id>ORIGINALS_STR</id>
            <val>Xbox ã¯ã©ã·ãã¯ã¹</val>
          </string>
          <string>
            <id>COM_GAMES_STR</id>
            <val>ã³ãã¥ããã£ã¼ ã²ã¼ã </val>
          </string>
          <string>
            <id>ADD_ONS_STR</id>
            <val>ã²ã¼ã è¿½å ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>GAME_VIDEOS_STR</id>
            <val>ã²ã¼ã ã®æ å</val>
          </string>
          <string>
            <id>THEMES_PICS_STR</id>
            <val>ãã¼ã &amp; ã²ã¼ãã¼ ã¢ã¤ã³ã³</val>
          </string>
          <string>
            <id>TV_SHOWS_VIDEOS_STR</id>
            <val>ãã¬ãçªçµ</val>
          </string>
          <string>
            <id>INDY_VIDEOS_STR</id>
            <val>ã²ã¼ã  ã³ãã¥ããã£ã¼ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_VIDEOS_STR</id>
            <val>æ ç»</val>
          </string>
          <string>
            <id>MUSIC_VIDEOS_STR</id>
            <val>ãã¥ã¼ã¸ãã¯ ãããª</val>
          </string>
          <string>
            <id>TV_MUSIC_VIDEOS_MORE_STR</id>
            <val>ãã®ä»ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_SHORT_FILMS_STR</id>
            <val>æ ç» &amp; ç­ç·¨ãããª</val>
          </string>
          <string>
            <id>NETFLIX_STR</id>
            <val>Netflix</val>
          </string>
          <string>
            <id>ALL_GAMES_STR</id>
            <val>ãã¹ã¦ã®ã²ã¼ã </val>
          </string>
        </strings>
   </language>
   <language>
     <id>DEU_3</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Spiele</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Die Beliebtesten</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Neu eingetroffen</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Spieldemos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Community-Spiele</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Spiel-Add-ons</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Spielvideos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Themen &amp; Spielerbilder</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Fernsehshows</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>UnabhÃ¤ngige Videos</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filme</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Musikvideos</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, Musikvideos &amp;  mehr</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filme &amp; Kurzfilme</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Alle Spiele</val>
       </string>
     </strings>
   </language>
   <language>
     <id>FRA_4</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jeux</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VidÃ©o</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Les plus tÃ©lÃ©chargÃ©es</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>NouveautÃ©s</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>DÃ©mos de jeux</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Jeux de la 1re Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jeux de la communautÃ©</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Extensions de jeux</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VidÃ©os de jeux</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ThÃ¨mes et images de joueur</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmes de tÃ©lÃ©vision</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VidÃ©os indÃ©pendantes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Films</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VidÃ©os musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, vidÃ©os musicales et autres</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Films et courts mÃ©trages</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tous les jeux</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ESP_5</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Juegos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Los mÃ¡s populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuevas llegadas</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de juegos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Originales Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Juegos de la comunidad</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de juego</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de juegos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e imÃ¡genes de jugador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos independientes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>PelÃ­culas</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TelevisiÃ³n, vÃ­deos musicales y mucho mÃ¡s</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>PelÃ­culas y cortometrajes</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos los juegos</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ITA_6</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Giochi</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>I piÃ¹ popolari</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuovi arrivi</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demo dei giochi</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Original</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Giochi dalla Community</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Add-on dei giochi</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Video dei giochi</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temi e immagini del giocatore</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmi TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Video indipendenti</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Film</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Video musicali</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, video musicali e altro</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Film e cortometraggi</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tutti i giochi</val>
       </string>
     </strings>
   </language>
   <language>
     <id>KOR_7</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ê²ì</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ë¹ëì¤</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>ì¸ê¸° í­ëª©</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ì ì</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ê²ì ë°ëª¨</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox 1</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ì»¤ë®¤ëí° ê²ì</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ê²ì ì¶ê° ì½íì¸ </val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ê²ì ë¹ëì¤</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>íë§ ë° ê²ì´ë¨¸ ì¬ì§</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>TV íë¡ê·¸ë¨</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ê°ì¸ ì ì ë¹ëì¤</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>ìí</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ë®¤ì§ ë¹ëì¤</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV ë®¤ì§ ë¹ëì¤ ë° ê¸°í ë±ë±</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>ìí ë° ë¨í¸ ìí</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ëª¨ë  ê²ì</val>
       </string>
     </strings>
   </language>
   <language>
     <id>TWN_8</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>éæ²</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>å½±ç</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>æåæ­¡è¿</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>æ°é®®è²¨</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>éæ²ç¤ºç¯</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox ç¬¬ä¸ä»£éæ²</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ç¤¾ç¾¤éæ²</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>éæ²éå åè½</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>éæ²å½±ç</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ä¸»é¡åç©å®¶åç¤º</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>é»è¦ç¯ç®</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ç¨ç«è£½ç</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>é»å½±</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>é³æ¨å½±ç</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>é»è¦ç¯ç®ãé³æ¨å½±çåæ´å¤å§å®¹</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>é»å½±åç­ç</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ææéæ²</val>
       </string>
     </strings>
   </language>
   <language>
     <id>PTB_9</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jogos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Mais Populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>LanÃ§amentos</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de Jogos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originais</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jogos da Comunidade</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de Jogos</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de Jogos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e Imagens do Jogador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos Independentes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmes</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos de MÃºsicas</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, VÃ­deos de MÃºsicas e Muito Mais</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmes e Curtas-metragens</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos os Jogos</val>
       </string>
     </strings>
   </language>
      <language>
     <id>POL_11</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Gry</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Wideo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Strona domowa</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Najpopularniejsze</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nowe propozycje</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Wersje demonstracyjne gier</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Gry na konsolÄ Xbox 1. generacji</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Gry spoÅecznoÅciowe</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Dodatki do gier</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Wideo z gier</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Kompozycje i obrazki gracza</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Seriale</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Filmy niezaleÅ¼ne</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filmy</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Teledyski</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, teledyski i inne</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filmy zwykÅe i krÃ³tkometraÅ¼owe</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Wszystkie gry</val>
       </string>
     </strings>
   </language>
   <language>
     <id>RUS_12</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ÐÐ³ÑÑ</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>ÐÐ¾Ð¼Ð°ÑÐ½ÑÑ ÑÑÑÐ°Ð½Ð¸ÑÐ°</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Ð¡Ð°Ð¼ÑÐµ Ð¿Ð¾Ð¿ÑÐ»ÑÑÐ½ÑÐµ</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ÐÐ¾Ð²ÑÐµ Ð¿Ð¾ÑÑÑÐ¿Ð»ÐµÐ½Ð¸Ñ</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>ÐÑÐºÐ°Ð´Ð½Ð°Ñ Ð¸Ð³ÑÐ°</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ÐÐµÐ¼Ð¾-Ð²ÐµÑÑÐ¸Ð¸ Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ÐÐ³ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÑÑÐ²Ð°</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÑ Ðº Ð¸Ð³ÑÐ°Ð¼</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ÐÐ¸Ð´ÐµÐ¾ Ð¸Ð· Ð¸Ð³Ñ</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Ð¢ÐµÐ¼Ñ Ð¸ ÐºÐ°ÑÑÐ¸Ð½ÐºÐ¸ Ð¸Ð³ÑÐ¾ÐºÐ¾Ð²</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼ÑÐµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ÐÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>Ð¢ÐµÐ»ÐµÐ¿ÐµÑÐµÐ´Ð°ÑÐ¸, Ð¼ÑÐ·ÑÐºÐ°Ð»ÑÐ½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ðµ Ð´ÑÑÐ³Ð¾Ðµ</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Ð¤Ð¸Ð»ÑÐ¼Ñ Ð¸ ÐºÐ¾ÑÐ¾ÑÐºÐ¾Ð¼ÐµÑÑÐ°Ð¶Ð½ÑÐµ ÑÐ¸Ð»ÑÐ¼Ñ</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ÐÑÐµ Ð¸Ð³ÑÑ</val>
       </string>
     </strings>
   </language>
 </stringTable>
 </RootNode>
=== C:/Users/treeman/Desktop/windows nt source code\xbox\Xbox Live Source\XONLINE_MAIN\private\test\DspFileValidator\XmlTestFiles\Invalid\StorePickerInvalidSNoP2.xml ===
ï»¿<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<RootNode>
 <mktpl>
  <tax>
   <taxID>FULL_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
      <deptID>ARCADE</deptID>
      <deptID>ADD_ONS</deptID>
      <deptID>ORIGINALS</deptID>
      <deptID>THEMES_PICS</deptID>
      <deptID>COM_GAMES</deptID>
      <deptID>DEMOS</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_GAMES</deptID>
      <deptID>NEW_ARRIVALS_GAMES</deptID>
      <deptID>ALL_GAMES</deptID> 
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_SHOWS_VIDEOS</deptID>
      <deptID>NETFLIX</deptID>
      <deptID>MUSIC_VIDEOS</deptID>
      <deptID>INDY_VIDEOS</deptID>
      <deptID>GAME_VIDEOS</deptID>            
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>MOVIES_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>COM_GAMES</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_VID_MKTPL</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L3</storeID>
     <deptList>
      <deptID>MOVIES_SHORT_FILMS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
  <tax>
   <taxID>NO_COM_GAMES</taxID>
   <storeList>
    <storeItem>
     <storeID>GAME_STORE</storeID>
     <deptList>
       <deptID>ARCADE</deptID>
       <deptID>ADD_ONS</deptID>
       <deptID>ORIGINALS</deptID>
       <deptID>THEMES_PICS</deptID>
       <deptID>DEMOS</deptID>
       <deptID>GAME_VIDEOS</deptID>
       <deptID>MOST_POPULAR_GAMES</deptID>
       <deptID>NEW_ARRIVALS_GAMES</deptID>
       <deptID>ALL_GAMES</deptID>
     </deptList>
    </storeItem>
    <storeItem>
     <storeID>VIDEO_STORE_L2</storeID>
     <deptList>
      <deptID>MOVIES_VIDEOS</deptID>
      <deptID>TV_MUSIC_VIDEOS_MORE</deptID>
      <deptID>GAME_VIDEOS</deptID>
      <deptID>MOST_POPULAR_VIDEOS</deptID>
      <deptID>NEW_ARRIVALS_VIDEOS</deptID>
     </deptList>
    </storeItem>
   </storeList>
  </tax>
 </mktpl>

 <stores>
  <store>
   <id>GAME_STORE</id>
   <storeInfo>
    <storeStrID>GAME_STORE_STR</storeStrID>
    <nameStrID>GAME_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamestore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L2</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>videostore.xml</param2>
   </storeInfo>
  </store>
  <store>
   <id>VIDEO_STORE_L3</id>
   <storeInfo>
    <storeStrID>VID_STORE_STR</storeStrID>
    <nameStrID>VID_HOME_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
   </storeInfo>
  </store>
 </stores>

 <depts>
  <dept>
   <id>MOST_POPULAR_GAMES</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_GAMES</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>GamesNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ARCADE</id>
   <deptInfo>
    <nameStrID>ARCADE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>arcadedept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>DEMOS</id>
   <deptInfo>
    <nameStrID>DEMOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>demosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ORIGINALS</id>
   <deptInfo>
    <nameStrID>ORIGINALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xboxoriginalsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>COM_GAMES</id>
   <deptInfo>
    <nameStrID>COM_GAMES_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>xnadept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>ADD_ONS</id>
   <deptInfo>
    <nameStrID>ADD_ONS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>addonsdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>GAME_VIDEOS</id>
   <deptInfo>
    <nameStrID>GAME_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>gamevideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>THEMES_PICS</id>
   <deptInfo>
    <nameStrID>THEMES_PICS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>themesandgamerpicsdept.xml</param2>
   </deptInfo>
  </dept>
   <dept>
     <id>ALL_GAMES</id>
     <deptInfo>
       <nameStrID>ALL_GAMES_STR</nameStrID>
       <cmd>EcNavMarketplaceScriptAction</cmd>
       <param>BrowseUI</param>
       <param2>Browse_GameStore</param2>
     </deptInfo>
   </dept>   
  <dept>
   <id>MOST_POPULAR_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOST_POPULAR_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosPopularDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NEW_ARRIVALS_VIDEOS</id>
   <deptInfo>
    <nameStrID>NEW_ARRIVALS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>VideosNewDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_VIDEOS</id>
   <deptInfo>
    <nameStrID>MOVIES_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>moviesdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_SHOWS_VIDEOS</id>
   <deptInfo>
    <nameStrID>TV_SHOWS_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>tvdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MUSIC_VIDEOS</id>
   <deptInfo>
    <nameStrID>MUSIC_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>musicvideosdept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>INDY_VIDEOS</id>
   <deptInfo>
    <nameStrID>INDY_VIDEOS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>IndyVideosDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>TV_MUSIC_VIDEOS_MORE</id>
   <deptInfo>
    <nameStrID>TV_MUSIC_VIDEOS_MORE_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>TVMusicMoreDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>MOVIES_SHORT_FILMS</id>
   <deptInfo>
    <nameStrID>MOVIES_SHORT_FILMS_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>NavigateToChannel</param>
    <param2>MoviesShortFilmsDept.xml</param2>
   </deptInfo>
  </dept>
  <dept>
   <id>NETFLIX</id>
   <deptInfo>
    <nameStrID>NETFLIX_STR</nameStrID>
    <cmd>EcNavMarketplaceScriptAction</cmd>
    <param>LaunchMarketplaceContent</param>
    <param2>00000003-0000-4000-8000-0000584807D5</param2>
    <param3>60</param3>
    <param4>8778403792F0046981C05EB13B715E8CFBCF31D458</param4>
   </deptInfo>
  </dept>
 </depts>
 <taxMap>
  <taxonomy>
   <id>FULL_VID_MKTPL</id>
   <taxCountries>
    <cID>103_UNITED_STATES</cID>
   </taxCountries>
  </taxonomy>
  <taxonomy>
   <id>MOVIES_VID_MKTPL</id>
   <taxCountries>
    <cID>16_CANADA</cID>
    <cID>31_SPAIN</cID>
    <cID>34_FRANCE</cID>
    <cID>35_GREAT_BRITAIN</cID>
    <cID>50_ITALY</cID>
   </taxCountries>
  </taxonomy>
   <taxonomy>
     <id>NO_COM_GAMES</id>
     <taxCountries>
       <cID>24_GERMANY</cID>
       <cID>44_IRELAND</cID>       
     </taxCountries>
   </taxonomy>
   <taxonomy>
   <id>NO_VID_MKTPL</id>
   <taxCountries>
    <cID>5_AUSTRIA</cID>
    <cID>6_AUSTRALIA</cID>
    <cID>8_BELGIUM</cID>
    <cID>18_SWITZERLAND</cID>
    <cID>20_CHINA</cID>
    <cID>25_DENMARK</cID>
    <cID>32_FINLAND</cID>
    <cID>39_HONG_KONG</cID>
    <cID>46_INDIA</cID>
    <cID>53_JAPAN</cID>
    <cID>56_KOREA</cID>
    <cID>71_MEXICO</cID>
    <cID>74_NETHERLANDS</cID>
    <cID>75_NORWAY</cID>
    <cID>76_NEW_ZEALAND</cID>
    <cID>84_PORTUGAL</cID>
    <cID>90_SWEDEN</cID>
    <cID>91_SINGAPORE</cID>
    <cID>101_TAIWAN</cID>
   </taxCountries>
  </taxonomy>
 </taxMap>
 <stringTable>
  <language>
   <id>ENG_1</id>
   <strings>
    <string>
     <id>GAME_STORE_STR</id>
     <val>Games</val>
    </string>
    <string>
     <id>GAME_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>VID_STORE_STR</id>
     <val>Video</val>
    </string>
    <string>
     <id>VID_HOME_STR</id>
     <val>Home</val>
    </string>
    <string>
     <id>MOST_POPULAR_STR</id>
     <val>Most Popular</val>
    </string>
    <string>
     <id>NEW_ARRIVALS_STR</id>
     <val>New Arrivals</val>
    </string>
    <string>
     <id>ARCADE_STR</id>
     <val>Arcade</val>
    </string>
    <string>
     <id>DEMOS_STR</id>
     <val>Game Demos</val>
    </string>
    <string>
     <id>ORIGINALS_STR</id>
     <val>Xbox Originals</val>
    </string>
    <string>
     <id>COM_GAMES_STR</id>
     <val>Community Games</val>
    </string>
    <string>
     <id>ADD_ONS_STR</id>
     <val>Game Add-ons</val>
    </string>
    <string>
     <id>GAME_VIDEOS_STR</id>
     <val>Game Videos</val>
    </string>
    <string>
     <id>THEMES_PICS_STR</id>
     <val>Themes &amp; Gamer Pictures</val>
    </string>
    <string>
     <id>TV_SHOWS_VIDEOS_STR</id>
     <val>TV Shows</val>
    </string>
    <string>
     <id>INDY_VIDEOS_STR</id>
     <val>Independent Videos</val>
    </string>
    <string>
     <id>MOVIES_VIDEOS_STR</id>
     <val>Movies</val>
    </string>
    <string>
     <id>MUSIC_VIDEOS_STR</id>
     <val>Music Videos</val>
    </string>
    <string>
     <id>TV_MUSIC_VIDEOS_MORE_STR</id>
     <val>TV, Music Videos, &amp; More</val>
    </string>
    <string>
     <id>MOVIES_SHORT_FILMS_STR</id>
     <val>Movies &amp; Short Films</val>
    </string>
    <string>
     <id>NETFLIX_STR</id>
     <val>Netflix</val>
    </string>
     <string>
       <id>ALL_GAMES_STR</id>
       <val>All Games</val>
     </string>
   </strings>
  </language>
      <language>
     <id>JPN_2</id>
        <strings>
          <string>
            <id>GAME_STORE_STR</id>
            <val>ã²ã¼ã </val>
          </string>
          <string>
            <id>GAME_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>VID_STORE_STR</id>
            <val>ãããª</val>
          </string>
          <string>
            <id>VID_HOME_STR</id>
            <val>ãã¼ã </val>
          </string>
          <string>
            <id>MOST_POPULAR_STR</id>
            <val>äººæ°ã®ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>NEW_ARRIVALS_STR</id>
            <val>æ°ç</val>
          </string>
          <string>
            <id>ARCADE_STR</id>
            <val>ã¢ã¼ã±ã¼ã</val>
          </string>
          <string>
            <id>DEMOS_STR</id>
            <val>ã²ã¼ã ã®ãã¢</val>
          </string>
          <string>
            <id>ORIGINALS_STR</id>
            <val>Xbox ã¯ã©ã·ãã¯ã¹</val>
          </string>
          <string>
            <id>COM_GAMES_STR</id>
            <val>ã³ãã¥ããã£ã¼ ã²ã¼ã </val>
          </string>
          <string>
            <id>ADD_ONS_STR</id>
            <val>ã²ã¼ã è¿½å ã³ã³ãã³ã</val>
          </string>
          <string>
            <id>GAME_VIDEOS_STR</id>
            <val>ã²ã¼ã ã®æ å</val>
          </string>
          <string>
            <id>THEMES_PICS_STR</id>
            <val>ãã¼ã &amp; ã²ã¼ãã¼ ã¢ã¤ã³ã³</val>
          </string>
          <string>
            <id>TV_SHOWS_VIDEOS_STR</id>
            <val>ãã¬ãçªçµ</val>
          </string>
          <string>
            <id>INDY_VIDEOS_STR</id>
            <val>ã²ã¼ã  ã³ãã¥ããã£ã¼ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_VIDEOS_STR</id>
            <val>æ ç»</val>
          </string>
          <string>
            <id>MUSIC_VIDEOS_STR</id>
            <val>ãã¥ã¼ã¸ãã¯ ãããª</val>
          </string>
          <string>
            <id>TV_MUSIC_VIDEOS_MORE_STR</id>
            <val>ãã®ä»ã®æ å</val>
          </string>
          <string>
            <id>MOVIES_SHORT_FILMS_STR</id>
            <val>æ ç» &amp; ç­ç·¨ãããª</val>
          </string>
          <string>
            <id>NETFLIX_STR</id>
            <val>Netflix</val>
          </string>
          <string>
            <id>ALL_GAMES_STR</id>
            <val>ãã¹ã¦ã®ã²ã¼ã </val>
          </string>
        </strings>
   </language>
   <language>
     <id>DEU_3</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Spiele</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Home</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Die Beliebtesten</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Neu eingetroffen</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Spieldemos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Originals</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Community-Spiele</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Spiel-Add-ons</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Spielvideos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Themen &amp; Spielerbilder</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Fernsehshows</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>UnabhÃ¤ngige Videos</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Filme</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Musikvideos</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, Musikvideos &amp;  mehr</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Filme &amp; Kurzfilme</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Alle Spiele</val>
       </string>
     </strings>
   </language>
   <language>
     <id>FRA_4</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Jeux</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VidÃ©o</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Accueil</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Les plus tÃ©lÃ©chargÃ©es</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>NouveautÃ©s</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>DÃ©mos de jeux</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Jeux de la 1re Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Jeux de la communautÃ©</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Extensions de jeux</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VidÃ©os de jeux</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ThÃ¨mes et images de joueur</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmes de tÃ©lÃ©vision</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VidÃ©os indÃ©pendantes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Films</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VidÃ©os musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, vidÃ©os musicales et autres</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Films et courts mÃ©trages</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tous les jeux</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ESP_5</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Juegos</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>VÃ­deo</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Inicio</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>Los mÃ¡s populares</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuevas llegadas</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demos de juegos</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Originales Xbox</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Juegos de la comunidad</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Complementos de juego</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>VÃ­deos de juegos</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temas e imÃ¡genes de jugador</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programas de TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>VÃ­deos independientes</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>PelÃ­culas</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>VÃ­deos musicales</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TelevisiÃ³n, vÃ­deos musicales y mucho mÃ¡s</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>PelÃ­culas y cortometrajes</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Todos los juegos</val>
       </string>
     </strings>
   </language>
   <language>
     <id>ITA_6</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>Giochi</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>Video</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>Pagina iniziale</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>I piÃ¹ popolari</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>Nuovi arrivi</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>Demo dei giochi</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox Original</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>Giochi dalla Community</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>Add-on dei giochi</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>Video dei giochi</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>Temi e immagini del giocatore</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>Programmi TV</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>Video indipendenti</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>Film</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>Video musicali</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV, video musicali e altro</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>Film e cortometraggi</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>Tutti i giochi</val>
       </string>
     </strings>
   </language>
   <language>
     <id>KOR_7</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>ê²ì</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>ë¹ëì¤</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>í</val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>ì¸ê¸° í­ëª©</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>ì ì</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>ê²ì ë°ëª¨</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox 1</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ì»¤ë®¤ëí° ê²ì</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>ê²ì ì¶ê° ì½íì¸ </val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>ê²ì ë¹ëì¤</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>íë§ ë° ê²ì´ë¨¸ ì¬ì§</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>TV íë¡ê·¸ë¨</val>
       </string>
       <string>
         <id>INDY_VIDEOS_STR</id>
         <val>ê°ì¸ ì ì ë¹ëì¤</val>
       </string>
       <string>
         <id>MOVIES_VIDEOS_STR</id>
         <val>ìí</val>
       </string>
       <string>
         <id>MUSIC_VIDEOS_STR</id>
         <val>ë®¤ì§ ë¹ëì¤</val>
       </string>
       <string>
         <id>TV_MUSIC_VIDEOS_MORE_STR</id>
         <val>TV ë®¤ì§ ë¹ëì¤ ë° ê¸°í ë±ë±</val>
       </string>
       <string>
         <id>MOVIES_SHORT_FILMS_STR</id>
         <val>ìí ë° ë¨í¸ ìí</val>
       </string>
       <string>
         <id>NETFLIX_STR</id>
         <val>Netflix</val>
       </string>
       <string>
         <id>ALL_GAMES_STR</id>
         <val>ëª¨ë  ê²ì</val>
       </string>
     </strings>
   </language>
   <language>
     <id>TWN_8</id>
     <strings>
       <string>
         <id>GAME_STORE_STR</id>
         <val>éæ²</val>
       </string>
       <string>
         <id>GAME_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>VID_STORE_STR</id>
         <val>å½±ç</val>
       </string>
       <string>
         <id>VID_HOME_STR</id>
         <val>é¦é </val>
       </string>
       <string>
         <id>MOST_POPULAR_STR</id>
         <val>æåæ­¡è¿</val>
       </string>
       <string>
         <id>NEW_ARRIVALS_STR</id>
         <val>æ°é®®è²¨</val>
       </string>
       <string>
         <id>ARCADE_STR</id>
         <val>Arcade</val>
       </string>
       <string>
         <id>DEMOS_STR</id>
         <val>éæ²ç¤ºç¯</val>
       </string>
       <string>
         <id>ORIGINALS_STR</id>
         <val>Xbox ç¬¬ä¸ä»£éæ²</val>
       </string>
       <string>
         <id>COM_GAMES_STR</id>
         <val>ç¤¾ç¾¤éæ²</val>
       </string>
       <string>
         <id>ADD_ONS_STR</id>
         <val>éæ²éå åè½</val>
       </string>
       <string>
         <id>GAME_VIDEOS_STR</id>
         <val>éæ²å½±ç</val>
       </string>
       <string>
         <id>THEMES_PICS_STR</id>
         <val>ä¸»é¡åç©å®¶åç¤º</val>
       </string>
       <string>
         <id>TV_SHOWS_VIDEOS_STR</id>
         <val>